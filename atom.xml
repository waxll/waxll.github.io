<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Waxll&#39;Blog</title>
  
  
  <link href="http://waxll.top/atom.xml" rel="self"/>
  
  <link href="http://waxll.top/"/>
  <updated>2021-06-16T16:43:10.070Z</updated>
  <id>http://waxll.top/</id>
  
  <author>
    <name>XieSenshi</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Python学习笔记12</title>
    <link href="http://waxll.top/2021/06/17/py12.html"/>
    <id>http://waxll.top/2021/06/17/py12.html</id>
    <published>2021-06-16T16:41:47.000Z</published>
    <updated>2021-06-16T16:43:10.070Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210617001955989.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210617001955989.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210617001955989"></p><span id="more"></span><h1 id="第十三章-文件"><a href="#第十三章-文件" class="headerlink" title="第十三章   文件"></a>第十三章   文件</h1><h2 id="13-1-计算机眼中的文件"><a href="#13-1-计算机眼中的文件" class="headerlink" title="13.1   计算机眼中的文件"></a>13.1   计算机眼中的文件</h2><h4 id="任务一：文件的概念和作用"><a href="#任务一：文件的概念和作用" class="headerlink" title="任务一：文件的概念和作用"></a><em>任务一：文件的概念和作用</em></h4><p>知识点：</p><p>计算机的<strong>文件</strong>，就是存储在某种<strong>长期储存设备</strong>上的一段<strong>数据</strong></p><p>存储设备包括：硬盘、U 盘、移动硬盘、光盘…</p><p><strong>文件的作用</strong>：将数据长期保存下来，在需要的时候使用</p><h4 id="任务二：计算机的文件储存方式"><a href="#任务二：计算机的文件储存方式" class="headerlink" title="任务二：计算机的文件储存方式"></a><em>任务二：计算机的文件储存方式</em></h4><p>知识点：</p><p>在计算机中，文件是以<strong>二进制</strong>的方式保存在磁盘上的</p><p><strong>文本文件</strong>：</p><p>可以使用<strong>文本编辑软件</strong>查看内容，本质上还是二进制文件</p><p>例如：python 的源程序</p><p><strong>二进制文件</strong>：</p><p>保存的内容不是给人直接阅读的，而<strong>提供给计算机其他程序使用的</strong></p><p>例如：图片文件、音频文件、视频文件等等</p><p>二进制文件不能使用<strong>文本编辑软件</strong>查看</p><h4 id="任务三：在控制台中查看文件内容"><a href="#任务三：在控制台中查看文件内容" class="headerlink" title="任务三：在控制台中查看文件内容"></a><em>任务三：在控制台中查看文件内容</em></h4><p>知识点：</p><p>在Windows中，控制台指令<strong>type</strong>查看文件内容</p><p>在Linux或Mac中，控制台指令<strong>cat</strong>查看文件内容</p><p>在Jupyter中，cell中输入指令**%pycat**查看文件内容</p><p>中文字符可能会在控制台中<strong>乱码</strong></p><h2 id="13-2-文件操作"><a href="#13-2-文件操作" class="headerlink" title="13.2   文件操作"></a>13.2   文件操作</h2><h3 id="13-2-1-基本流程"><a href="#13-2-1-基本流程" class="headerlink" title="13.2.1   基本流程"></a>13.2.1   基本流程</h3><h4 id="任务一：文件操作的基本流程"><a href="#任务一：文件操作的基本流程" class="headerlink" title="任务一：文件操作的基本流程"></a><em>任务一：文件操作的基本流程</em></h4><p>知识点：在<strong>计算机</strong>中要操作文件方式是非常固定，共包含<strong>三个步骤</strong>：</p><p>1、打开文件</p><p>2、读或写文件</p><p>   <strong>读</strong>将文件内容读入内存</p><p>   <strong>写</strong>将内存内容写入文件</p><p>3、关闭文件</p><h4 id="任务二：操作文件的基本流程"><a href="#任务二：操作文件的基本流程" class="headerlink" title="任务二：操作文件的基本流程"></a><em>任务二：操作文件的基本流程</em></h4><p>在 <strong>Python</strong> 中要操作文件需要记住1个函数和3个文件方法</p><p><strong>open</strong> 函数负责打开文件，并且<strong>返回文件对象</strong></p><p><strong>read/write/close</strong> 三个方法都需要通过<strong>文件对象</strong>来调用</p><table><thead><tr><th>函数/方法</th><th>说明</th></tr></thead><tbody><tr><td>open</td><td>打开文件，并且返回文件操作对象</td></tr><tr><td>read</td><td>将文件内容读取到内存</td></tr><tr><td>write</td><td>将指定内容写入文件</td></tr><tr><td>close</td><td>关闭文件</td></tr></tbody></table><p>知识点：文件操作的<strong>常用流程</strong></p><p>调用**open()**函数打开要操作的文件</p><p>调用文件方法**read()<strong>或</strong>write()**方法对文件进行读写操作</p><p>调用**close()**方法关闭文件，释放资源</p><h3 id="13-2-2-文件的open-函数与close-方法"><a href="#13-2-2-文件的open-函数与close-方法" class="headerlink" title="13.2.2   文件的open()函数与close()方法"></a>13.2.2   文件的open()函数与close()方法</h3><h4 id="任务一：open-函数用法"><a href="#任务一：open-函数用法" class="headerlink" title="任务一：open()函数用法"></a><em>任务一：open()函数用法</em></h4><p>知识点：</p><p>语法：<strong>open(name[, mode, encoding])</strong></p><p>描述：<strong>open()<strong>函数用于打开一个文件名为</strong>name</strong>的文件</p><p>如果文件<strong>存在</strong>，返回一个<strong>file</strong>类型的对象，后续通过该对象进行文件的读写操作</p><p>如果文件<strong>不存在</strong>，会<strong>抛出异常</strong></p><p>参数：<strong>name</strong>为包含<strong>相对</strong>路径或<strong>绝对</strong>路径的文件名</p><p><strong>文件名区分大小写</strong></p><p>由于路径中会包含\字符，与转移标识符冲突。为此，需要使用r字符串前缀，告知Python当前字符串不进行转义</p><p>返回：<strong>file</strong>类型的对象<strong>fileObject</strong>，用于后续的文件读写操作</p><p>例子：相对路径和绝对路径的文件打开方式</p><p>在当前目录下创建一个名为<strong>README.txt</strong>文件</p><p>文件中输入几行字符串，然后保存关闭</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 相对路径，打开当前根目录文件</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绝对路径，字符串前的r表示直接使用字符\而非转义字符</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">r&quot;D:\README.txt&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：open-函数的可选参数"><a href="#任务二：open-函数的可选参数" class="headerlink" title="任务二：open()函数的可选参数"></a><em>任务二：open()函数的可选参数</em></h4><p>知识点：</p><p>参数：<strong>mode</strong>可选，指定文件打开模式(后续将给出详解)。<strong>默认以只读模式打开</strong></p><p>参数：<strong>encoding</strong>关键字参数，<strong>可选</strong>，指定文件编码方式</p><p><strong>对于中文文件，如果编码不匹配，会造成乱码</strong></p><p>目前国际上最通用的是**’utf-8’<strong>编码。因此，可以设置文件打开的编码为</strong>encoding=’utf-8’**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用默认只读&quot;r&quot;、&#x27;utf-8&#x27;编码打开&quot;README.txt&quot;</span></span><br><span class="line"><span class="comment"># 返回文件对象为f</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">print(<span class="built_in">type</span>(f))</span><br></pre></td></tr></table></figure><h4 id="任务三：文件的关闭-close-方法"><a href="#任务三：文件的关闭-close-方法" class="headerlink" title="*任务三：文件的关闭**close()*方法"></a>*任务三：文件的关闭**close()*<em>方法</em></h4><p>知识点：关闭文件**close()**方法</p><p>语法：<strong>fileObject.close()</strong></p><p>描述：**close()**方法用于关闭一个已打开的文件</p><p>关闭后的文件不能再进行读写操作，否则会触发<strong>ValueError</strong>异常</p><p>当文件不再需要使用时，用 **close()**方法关闭文件释放资源是一个好的习惯</p><p>参数和返回：无</p><p>注意：如果<strong>忘记关闭文件，会造成系统资源消耗，而且会影响到后续对文件的访问</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关闭的文件对象必须要在内存中存在，否则会出错</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>)</span><br><span class="line"><span class="comment"># 文件不再使用，释放资源</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h4 id="任务四：3种自定义文件路径方式-重要"><a href="#任务四：3种自定义文件路径方式-重要" class="headerlink" title="任务四：3种自定义文件路径方式(重要)"></a><em>任务四：3种自定义文件路径方式(重要)</em></h4><p>知识点：</p><p>本地文件的访问需要指定路径。如果文件不在当前目录下，就需要明确文件的详细路径</p><p>由于常用的路径使用\来标识路径的层级关系，但是这与\转移字符的标识冲突。为此，提供了三种解决方案</p><p>单个反斜杠：/</p><p>两个斜杠：\(第一个\是转义符)</p><p>r用于防止字符转义</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地文件的界定：指向一个本地存储的文件，是一个链接或者一个映射</span></span><br><span class="line"><span class="comment"># 单个反斜杠：/</span></span><br><span class="line">path1 = <span class="string">&#x27;C:/Users/Hjx/Desktop/text.txt&#x27;</span></span><br><span class="line"><span class="comment"># 两个斜杠：\\（第一个\是转义符）</span></span><br><span class="line">path2 = <span class="string">&#x27;C:\\Users\\Hjx\\Desktop\\text.txt&#x27;</span>  </span><br><span class="line"><span class="comment"># r用于防止字符转义</span></span><br><span class="line">path3 = <span class="string">r&#x27;C:\Users\Hjx\Desktop\text.txt&#x27;</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出文件路径</span></span><br><span class="line">print(path1)</span><br><span class="line">print(path2)</span><br><span class="line">print(path3)</span><br></pre></td></tr></table></figure><p><strong>扩展</strong>：任何文件都可以使用<strong>鼠标右键-&gt;属性</strong>来查看具体文件的<strong>绝对路径</strong></p><h3 id="13-2-3-open-函数配置读写模式"><a href="#13-2-3-open-函数配置读写模式" class="headerlink" title="13.2.3   open()函数配置读写模式"></a>13.2.3   open()函数配置读写模式</h3><h4 id="任务一：文件的打开模式"><a href="#任务一：文件的打开模式" class="headerlink" title="任务一：文件的打开模式"></a><em>任务一：文件的打开模式</em></h4><p>知识点：</p><p><strong>open()<strong>函数默认以</strong>只读方式</strong>打开文件，并且返回<strong>文件类型的对象</strong></p><p>Python通过<strong>open()<strong>函数</strong>mode</strong>参数对文件的操作提供了丰富的控制模式</p><p>语法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;文件名&quot;</span>, <span class="string">&quot;访问mode&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：6种文件读写模式"><a href="#任务二：6种文件读写模式" class="headerlink" title="任务二：6种文件读写模式"></a><em>任务二：6种文件读写模式</em></h4><p>知识点：<strong>open()<strong>函数</strong>mode</strong>参数解析</p><p><strong>r</strong>以<strong>只读</strong>模式打开文件，增强型 <strong>r+<strong>以</strong>可读写</strong>模式打开文件</p><p>文件的指针将会放在文件的开头</p><p>需要<strong>该文件必须存在</strong>，否则会出错</p><p>例如：<strong>f = open(“README.txt”, “r”)</strong></p><p><strong>w</strong>以<strong>只写</strong>模式打开文件，增强型<strong>w+<strong>以</strong>可读写</strong>模式打开文件</p><p>若文件存在则<strong>原内容会被清空</strong></p><p>若文件不存在则建立该文件</p><p>例如：<strong>f = open(“README.txt”, “w”)</strong></p><p><strong>a</strong>以<strong>追加只写</strong>模式打开文件，增强型<strong>a+<strong>以</strong>追加可读写</strong>模式打开文件</p><p>如果该文件已存在，<strong>文件指针</strong>将会放在文件的<strong>结尾</strong></p><p>如果文件不存在，<strong>新建</strong>文件进行写入</p><p>例如：<strong>f = open(“README.txt”, “a”)</strong></p><p>注意：</p><p>频繁的移动文件指针，<strong>会影响文件的读写效率</strong></p><p>开发中更多的时候会以<strong>只读、只写</strong>的方式来操作文件</p><h4 id="任务三：文件对象的属性"><a href="#任务三：文件对象的属性" class="headerlink" title="任务三：文件对象的属性"></a><em>任务三：文件对象的属性</em></h4><p>知识点：文件对象的3个属性</p><p><strong>fileObject.closed</strong>：返回<strong>True</strong>如果文件已被关闭，否则返回<strong>False</strong></p><p><strong>fileObject.mode</strong>：返回被打开文件的访问模式</p><p><strong>fileObject.name</strong>：返回文件的名称</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>)</span><br><span class="line">print(<span class="string">f&#x27;.closed: <span class="subst">&#123;f.closed&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;.mode: <span class="subst">&#123;f.mode&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;.name: <span class="subst">&#123;f.name&#125;</span>&#x27;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h3 id="13-2-4-文件的读方法"><a href="#13-2-4-文件的读方法" class="headerlink" title="13.2.4   文件的读方法"></a>13.2.4   文件的读方法</h3><h4 id="任务一：文件的读方法"><a href="#任务一：文件的读方法" class="headerlink" title="任务一：文件的读方法"></a><em>任务一：文件的读方法</em></h4><p>知识点：</p><p>语法：<strong>fileObject.read(size)</strong></p><p>描述：<strong>read()<strong>从文件中一次性</strong>读入</strong>并<strong>返回</strong>文件的<strong>所有内容</strong></p><p>参数：<strong>size</strong>为非负整数，<strong>可选</strong></p><p>指定读取文件的字节数，包括 **”\n”**字符</p><p>默认值，尝试尽可能多地读取文件内容，甚至读取当前整个文件内容</p><p>返回：从文件中读取的<strong>字符串</strong></p><p><strong>注意</strong>：<strong>read()<strong>方法执行后，会把</strong>文件指针</strong>移动到<strong>文件的末尾</strong></p><p>例子：文件读程序</p><p>首先在当前目录下<strong>手动创建</strong>一个名为<strong>README.txt</strong>的文本文件，里面随意写几行内容并保存关闭</p><p>然后使用**read()**读取文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 打开 - 文件名需要注意大小写</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 读取</span></span><br><span class="line">text = file.read()</span><br><span class="line">print(text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 关闭</span></span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure><p>注意：在开发中，通常会先编写<strong>打开</strong>和<strong>关闭</strong>的代码，再编写中间针对文件的<strong>读/写</strong> 操作！</p><h4 id="任务二：文件指针"><a href="#任务二：文件指针" class="headerlink" title="任务二：文件指针"></a><em>任务二：文件指针</em></h4><p>知识点：</p><p>文件指针<strong>并非</strong>C语言里的指针</p><p><strong>文件指针</strong>标记<strong>从文件的哪个位置开始读写数据</strong></p><p><strong>第一次打开</strong>文件时，通常<strong>文件指针会指向文件的开始位置</strong></p><p>当执行了<strong>read()<strong>方法后，</strong>文件指针</strong>会随着读取的内容进行移动</p><p>对于当前文件对象，文件指针<strong>具有记忆性</strong></p><p>即下次再次调用<strong>read()<strong>方法会从</strong>上次读取内容之后</strong>开始</p><p>默认情况下会移动到<strong>文件末尾</strong>，除非指定<strong>read()<strong>方法的</strong>size</strong>参数</p><p>思考：</p><p>如果执行了一次**read()**方法，读取了所有内容，那么再次调用 **read()**方法，还能够获得到内容吗</p><p>答案：不能。第一次读取之后，<strong>文件指针移动到了文件末尾</strong>，再次调用不会读取到任何的内容</p><h3 id="13-2-5-按行读取文件"><a href="#13-2-5-按行读取文件" class="headerlink" title="13.2.5   按行读取文件"></a>13.2.5   按行读取文件</h3><h4 id="任务一：按行读取文件"><a href="#任务一：按行读取文件" class="headerlink" title="任务一：按行读取文件"></a><em>任务一：按行读取文件</em></h4><p>需求分析：</p><p><strong>read()<strong>方法默认会把文件的</strong>所有内容一次性读取到内存中</strong></p><p>如果文件太大，对内存消耗会非常严重</p><p>知识点：</p><p>语法：<strong>fileObject.readline()</strong></p><p>描述：**readline()**方法一次读取文件的一行内容</p><p>参数：无</p><p>返回：返回从文件当前行中读取的字符串</p><p>注意：该方法执行后，会把<strong>文件指针</strong>移动到下一行，准备下次读取。<strong>依次</strong>读取所有行，直到文件结束符 <strong>EOF</strong></p><p>例子：大文件读取方式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开文件</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">   <span class="comment"># 读取一行内容</span></span><br><span class="line">   text = file.readline()</span><br><span class="line">   <span class="comment"># 判断是否读到内容</span></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line">   <span class="comment"># 每读取一行的末尾已经有了一个 `\n`</span></span><br><span class="line">   print(text, end=<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭文件</span></span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure><h4 id="实例：爬取POI数据并转换为JSON格式"><a href="#实例：爬取POI数据并转换为JSON格式" class="headerlink" title="实例：爬取POI数据并转换为JSON格式"></a><em>实例：爬取POI数据并转换为JSON格式</em></h4><p>需求：</p><p>利用百度POI小插件爬取一些POI数据，然后存成txt文档</p><p>再用Python读取，编写成一个json格式(列表嵌套字典)：**[{‘name’:’…’,’lng’:…,’lat’:…,’address’:’…’},{…},…,]**</p><p>第一步：爬取数据地址：<a href="https://www.metrodata.cn/poi">https://www.metrodata.cn/poi</a> 。输入地区和关键字，稍等几分钟就会出现爬取的数据。可以自定义查询参数</p><p>第二步：使用Python将数据转换为JSON格式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;shaoxian.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>)  <span class="comment"># 读取txt文件</span></span><br><span class="line">m = []  <span class="comment"># 新建一个空列表，用于存储数据</span></span><br><span class="line">n = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">   n += <span class="number">1</span></span><br><span class="line">   st1 = line.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">   name = st1[<span class="number">0</span>]   <span class="comment"># 先以:拆分，筛选出name文本</span></span><br><span class="line">   information = st1[<span class="number">1</span>]  <span class="comment"># 第二部分包括lng，lat，address</span></span><br><span class="line">   st2 = information.split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">   lng = <span class="built_in">float</span>(st2[<span class="number">0</span>])  <span class="comment"># 筛选出lng</span></span><br><span class="line">   lat = <span class="built_in">float</span>(st2[<span class="number">1</span>])  <span class="comment"># 筛选出lat</span></span><br><span class="line">   ad = st2[<span class="number">2</span>].strip()  <span class="comment"># 筛选出address，去除末尾空格</span></span><br><span class="line">   <span class="comment"># 做成嵌套列表</span></span><br><span class="line">    data = [[<span class="string">&#x27;name&#x27;</span>,name],[<span class="string">&#x27;lng&#x27;</span>,lng],[<span class="string">&#x27;lat&#x27;</span>,lat],[<span class="string">&#x27;address&#x27;</span>,ad]]  </span><br><span class="line">   m.append(<span class="built_in">dict</span>(data))  <span class="comment"># 生成字典，并追加如列表m</span></span><br><span class="line">   <span class="comment">#print(&#x27;成功转换%i个数据&#x27;%n)</span></span><br><span class="line"></span><br><span class="line">print(m)</span><br><span class="line">print(<span class="string">&#x27;\n数据转换完成！总共转换%i个数据&#x27;</span>%n)</span><br></pre></td></tr></table></figure><h3 id="13-2-6-文件的写方法"><a href="#13-2-6-文件的写方法" class="headerlink" title="13.2.6   文件的写方法"></a>13.2.6   文件的写方法</h3><h4 id="任务一：文件写方法write"><a href="#任务一：文件写方法write" class="headerlink" title="任务一：文件写方法write()"></a><em>任务一：文件写方法write()</em></h4><p>知识点：</p><p>语法：<strong>fileObject.write(str)</strong></p><p>描述：**write()**方法用于向文件中写入指定字符串</p><p>参数：<strong>str</strong>为向文件写入指定的字符串</p><p>返回：返回的是写入的字符长度</p><p>注意：<strong>write()<strong>方法不会向字符串尾部自定添加换行符，需要</strong>手动</strong>添加**”\n”**</p><p>例子：文件写操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 需要以写模式&quot;w&quot;打开文件</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line">f.write(<span class="string">&quot;hello python！\n&quot;</span>)</span><br><span class="line">f.write(<span class="string">&quot;今天天气真好&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭文件</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h4 id="任务二：将列表写入文件"><a href="#任务二：将列表写入文件" class="headerlink" title="任务二：将列表写入文件"></a><em>任务二：将列表写入文件</em></h4><p>通过**writelines()**函数，将列表作为参数，写入文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 当前目录</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;test_write.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding = <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">f.writelines(lst)</span><br><span class="line">f.close()</span><br><span class="line"><span class="comment"># f.writelines(list)：依次把列表元素写入，但这里有没有换行？</span></span><br><span class="line"><span class="comment"># 如果想每一个元素换行怎么办？每个元素后都有&quot;\n&quot;</span></span><br></pre></td></tr></table></figure><p>通过遍历为列表的每个元素添加换行符，考虑<strong>列表推导式方式</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;test_write2.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding = <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(lst)):</span><br><span class="line">   lst[i] = lst[i] + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">   </span><br><span class="line">f.writelines(lst)</span><br><span class="line">f.close()</span><br><span class="line"><span class="comment"># 通过遍历给每个元素最后加上&quot;\n&quot;</span></span><br></pre></td></tr></table></figure><h3 id="13-2-7-重要-with-as语句维护文件操作环境"><a href="#13-2-7-重要-with-as语句维护文件操作环境" class="headerlink" title="13.2.7   (重要) with as语句维护文件操作环境"></a>13.2.7   (重要) with as语句维护文件操作环境</h3><p>需求分析：</p><p>任何一门编程语言中，文件的输入输出、数据库的连接断开等，都是很常见的资源管理操作。但<strong>资源都是有限的</strong>，在写程序时，必须保证这些<strong>资源在使用过后得到释放</strong>，不然就容易造成资源泄露，轻者使得系统处理缓慢，严重时会使系统崩溃</p><p>例如，前面在介绍文件操作时，<strong>一直强调打开的文件最后一定要关闭，否则会程序的运行造成意想不到的隐患</strong></p><p>但是，即便使用<strong>close()<strong>做好了关闭文件的操作，</strong>如果在打开文件或文件操作过程中抛出了异常，还是无法及时关闭文件</strong></p><p>知识点：</p><p>在Python中，对应的解决方式是使用 <strong>with as</strong> 语句操作上下文管理器(context manager)，它能够帮助我们自动分配并且释放资源</p><p>通过使用 <strong>with as</strong> 语句，打开的文件对象，无论期间是否抛出异常，都能保证<strong>with as</strong>语句执行完毕后自动调用**close()**方法</p><p>知识点：<strong>with as</strong> 语句的基本语法格式为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> 表达式 <span class="keyword">as</span> obj：</span><br><span class="line">   代码块</span><br></pre></td></tr></table></figure><p>表达式：可以是资源打开函数的返回对象。比如文件**open()**函数，数据库连接函数等</p><p>obj：资源对象。比如文件**open()**函数返回的文件对象</p><p>将下面的代码改为为<strong>with…as</strong>语句</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 需要以写模式&quot;w&quot;打开文件</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line">f.write(<span class="string">&quot;hello python！\n&quot;</span>)</span><br><span class="line">f.write(<span class="string">&quot;今天天气真好&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 关闭文件</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><p>有时候不得不承认Python编程就是一种享受，只要掌握该语言的某些特性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将open()函数的返回值通过as赋值给f文件对象</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;README.txt&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">   f.write(<span class="string">&quot;hello python！\n&quot;</span>)</span><br><span class="line">   f.write(<span class="string">&quot;今天天气真好&quot;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="comment"># 退出with作用域(语句块)，f对象自动销毁</span></span><br></pre></td></tr></table></figure><h2 id="13-3-综合实例"><a href="#13-3-综合实例" class="headerlink" title="13.3   综合实例"></a>13.3   综合实例</h2><h4 id="13-3-1-实例：文件指针问题"><a href="#13-3-1-实例：文件指针问题" class="headerlink" title="13.3.1   实例：文件指针问题"></a>13.3.1   实例：文件指针问题</h4><p>下面程序功能，打开一个文件，然后先向文件**write()<strong>写入字符串，然后再</strong>read()**读取字符串，并输出</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 请换一个文件名，&quot;w+&quot;为读写模式</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;Data.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># 手动添加换行符\n</span></span><br><span class="line">data_str = <span class="string">&quot;hello python\n&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 写3行data_str</span></span><br><span class="line">f.write(data_str)</span><br><span class="line">f.write(data_str)</span><br><span class="line">f.write(data_str)</span><br><span class="line"></span><br><span class="line">file_str = f.read()</span><br><span class="line">print(file_str)</span><br><span class="line"></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>**f = open(“Data.txt”, “w+”, encoding=’utf-8’)<strong>，以增强型</strong>“w+”<strong>读写方式、</strong>‘utf-8’<strong>编码打开文件</strong>“Data.txt”<strong>，由于该文件不存在，所以</strong>“Data.txt”**文件会被创建</p><p>调用3次写文件**f.write(data_str)**方法，在文件中写入3行字符串</p><p>然后，再调用读文件**f.read()<strong>方法，希望读取之前写入的内容。但是发现，读取内容为空。但是打开</strong>“Data.txt”**后，发现字符串已经被写入到文件中</p><p><strong>原因分析</strong>：</p><p>当写文件完成时，文件的当前<strong>文件指针</strong>会处于文件末尾处</p><p>如果继续执行读取操作，系统从该光标处向后读取，但该<strong>文件指针</strong>已处于文件的末尾，所以读出内容为空</p><p><strong>解决方法一</strong>：规范代码，<strong>将写文件和读文件分开</strong>。在执行完一个操作后应及时关闭文件对象**f.close()**。使用这种方法可以是文件安全有效，不会被其他操作影响预计效果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;Data.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">data_str = <span class="string">&quot;hello python\n&quot;</span></span><br><span class="line">f.write(data_str)</span><br><span class="line">f.write(data_str)</span><br><span class="line">f.write(data_str)</span><br><span class="line">f.close() <span class="comment">#关闭文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新打开文件，文件指针回到文件开始</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;Data.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">file_str = f.read()</span><br><span class="line">print(file_str)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><p>或者使用文件的逐行遍历</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;Data.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">   print(line, end = <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><p><strong>解决方法二</strong>：使用**seek()**方法移动光标至指定位置</p><p>知识点：文件光标移动</p><p>语法：<strong>fileObject.seek(offset,whence=0)</strong></p><p>参数：<strong>offset</strong>为偏移量，即需要移动偏移的字节数</p><p>参数：<strong>whence</strong>为要从哪个位置开始偏移，默认值为0；0代表从<strong>文件开始</strong>为起始点，1代表从<strong>当前位置</strong>为起始点，2代表从<strong>文件末尾</strong>为起始点</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;Data.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">data_str = <span class="string">&quot;hello python\n&quot;</span></span><br><span class="line">f.write(data_str)</span><br><span class="line">f.write(data_str)</span><br><span class="line">f.write(data_str)</span><br><span class="line"></span><br><span class="line"><span class="comment"># offset= 0，whence=0</span></span><br><span class="line"><span class="comment"># 从文件开始，以偏移量为0设置光标。</span></span><br><span class="line">f.seek(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">file_str = f.read()</span><br><span class="line">print(file_str)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h3 id="习题："><a href="#习题：" class="headerlink" title="习题："></a><strong>习题：</strong></h3><p>将上面文件操作程序修改为<strong>with as</strong>语句结构</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;Data.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data_str = <span class="string">&quot;hello python\n&quot;</span></span><br><span class="line">    f.write(data_str)</span><br><span class="line">    f.write(data_str)</span><br><span class="line">    f.write(data_str)</span><br><span class="line">    f.seek(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">    file_str = f.read()</span><br><span class="line">    print(file_str)</span><br></pre></td></tr></table></figure><h3 id="13-3-2-实例：文件数据的数值求和"><a href="#13-3-2-实例：文件数据的数值求和" class="headerlink" title="13.3.2   实例：文件数据的数值求和"></a>13.3.2   实例：文件数据的数值求和</h3><p>需求分析：</p><p>在<strong>while</strong>循环章节中，所有平均值计算程序都有一个缺点：<strong>数字都需要用户手动输入</strong>。试想用户正在尝试着求100个数字的平均值，而恰巧在接近尾声时发生了打字错误。如果用户使用上面编写的程序，就需要从头开始，想想就崩溃</p><p>为此，解决该问题的一个可行方法是首先<strong>将所有数字都输入到文件</strong>中，即使用户在文件中输错了数字，也可以很轻易地进行修改和编辑</p><p>因此，需要将之前设计的平均值计算程序从<strong>用户输入数据</strong>改写为<strong>从文件中读取数据</strong></p><p>这种面向文件的程序数据处理方式在现实应用中非常常见</p><p>本节将学习如何从文件中读取数据，然后实现哨兵式循环来计算平均数</p><h4 id="任务一：数据生成"><a href="#任务一：数据生成" class="headerlink" title="任务一：数据生成"></a><em>任务一：数据生成</em></h4><p>创建一个数据文件，共100行，每一行为一个随机数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> rd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例如：Data.txt</span></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;请输入文件名: &#x27;</span>)</span><br><span class="line">f = <span class="built_in">open</span>(name, <span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">   <span class="comment"># 随机生成[-10,10]区间的整数</span></span><br><span class="line">   num = rd.randint(-<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">   <span class="comment"># 将num转换为字符串，与换行符&#x27;\n&#x27;拼接，写入文件中</span></span><br><span class="line">   f.write(<span class="built_in">str</span>(num) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;生成结束，请打开<span class="subst">&#123;name&#125;</span>查看结果&#x27;</span>)    </span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h4 id="任务二：while哨兵式循环来计算平均值"><a href="#任务二：while哨兵式循环来计算平均值" class="headerlink" title="任务二：while哨兵式循环来计算平均值"></a><em>任务二：while哨兵式循环来计算平均值</em></h4><p>下面将对文件中的数字进行求平均，使用文件结束符<strong>EOF</strong>或空字符**””**作为循环的哨兵</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输入之前生成数字的文件：Data.txt</span></span><br><span class="line">fileName = <span class="built_in">input</span>(<span class="string">&quot;输入文件名: &quot;</span>)</span><br><span class="line">infile = <span class="built_in">open</span>(fileName,<span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">total = <span class="number">0.0</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从文件中先读一行</span></span><br><span class="line">line = infile.readline()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将line为空作为哨兵，即读到文件末尾</span></span><br><span class="line"><span class="keyword">while</span> line != <span class="string">&quot;&quot;</span>:</span><br><span class="line">   total += <span class="built_in">float</span>(line)</span><br><span class="line">   count += <span class="number">1</span></span><br><span class="line">   line = infile.readline()</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;平均值为：&quot;</span>, total / count)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h4 id="任务三：for循环来计算平均值"><a href="#任务三：for循环来计算平均值" class="headerlink" title="任务三：for循环来计算平均值"></a><em>任务三：for循环来计算平均值</em></h4><p>相对于其他语言，Python提供了简便的文件读取方式，使用**readlines()**方法读取整个文件，返回以行为元素的列表。然后，通过for循环遍历元素(行)，并对其做运算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输入之前生成数字的文件：Data.txt</span></span><br><span class="line">fileName = <span class="built_in">input</span>(<span class="string">&quot;输入文件名: &quot;</span>)</span><br><span class="line">infile = <span class="built_in">open</span>(fileName,<span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">total = <span class="number">0.0</span></span><br><span class="line"><span class="comment"># 将文件按行读，返回列表</span></span><br><span class="line">lines = infile.readlines()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再用for循环遍历列表元素</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">   total = total + <span class="built_in">float</span>(line)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;平均值为：&quot;</span>, total / <span class="built_in">len</span>(lines))</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>显然，<strong>for</strong>循环比<strong>while</strong>循环更简洁</p><p>这程序<strong>for</strong>循环之所以能用，是因为Python提供了<strong>readlines()<strong>方法将整个文件以行为元素，返回列表。然后，就可以使用Python的</strong>确定循环</strong>(<strong>for</strong>循环)，来遍历和处理列表元素</p><p>对于非Python语言，并不一定提供<strong>readlines()<strong>这么方便的方法。因此，只能通过哨兵式的</strong>while</strong>循环，进行文件读和相关运算</p><h3 id="习题：-1"><a href="#习题：-1" class="headerlink" title="习题："></a><strong>习题</strong>：</h3><p>将上面文件操作程序修改为<strong>with as</strong>语句结构</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> rd</span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;请输入文件名: &#x27;</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(name, <span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        num = rd.randint(-<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">        f.write(<span class="built_in">str</span>(num) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    print(<span class="string">f&#x27;生成结束，请打开<span class="subst">&#123;name&#125;</span>查看结果&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="13-3-3-实例：复制文件"><a href="#13-3-3-实例：复制文件" class="headerlink" title="13.3.3   实例：复制文件"></a>13.3.3   实例：复制文件</h3><h4 id="任务一：小文件复制"><a href="#任务一：小文件复制" class="headerlink" title="任务一：小文件复制"></a><em>任务一：小文件复制</em></h4><p>打开一个已有文件，读取完整内容，并写入到另外一个文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 打开文件</span></span><br><span class="line">file_read = <span class="built_in">open</span>(<span class="string">&quot;README&quot;</span>)</span><br><span class="line">file_write = <span class="built_in">open</span>(<span class="string">&quot;README[复件]&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 读取并写入文件</span></span><br><span class="line">text = file_read.read()</span><br><span class="line">file_write.write(text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 关闭文件</span></span><br><span class="line">file_read.close()</span><br><span class="line">file_write.close()</span><br></pre></td></tr></table></figure><h4 id="任务二：大文件复制"><a href="#任务二：大文件复制" class="headerlink" title="任务二：大文件复制"></a><em>任务二：大文件复制</em></h4><p>打开一个已有文件，逐行读取内容，并顺序写入到另外一个文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 打开文件</span></span><br><span class="line">file_read = <span class="built_in">open</span>(<span class="string">&quot;README&quot;</span>)</span><br><span class="line">file_write = <span class="built_in">open</span>(<span class="string">&quot;README[复件]&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 读取并写入文件</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">   <span class="comment"># 每次读取一行</span></span><br><span class="line">   text = file_read.readline()</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 判断是否读取到内容</span></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">   file_write.write(text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 关闭文件</span></span><br><span class="line">file_read.close()</span><br><span class="line">file_write.close()</span><br></pre></td></tr></table></figure><h2 id="13-4-常识-文件和目录管理操作"><a href="#13-4-常识-文件和目录管理操作" class="headerlink" title="13.4   (常识) 文件和目录管理操作"></a>13.4   (常识) 文件和目录管理操作</h2><h3 id="13-4-1-常用文件和目录函数介绍"><a href="#13-4-1-常用文件和目录函数介绍" class="headerlink" title="13.4.1   常用文件和目录函数介绍"></a>13.4.1   常用文件和目录函数介绍</h3><p>知识点：</p><p>在<strong>控制台终端</strong>或<strong>文件系统</strong>中可以执行常规的<strong>文件/目录</strong>管理操作，例如：创建、重命名、删除、改变路径、查看目录内容等</p><p>在<strong>Python</strong>中，实现上述功能需要导入 <strong>os</strong> 模块</p><p>注意：</p><p>Jupyter的cell支持IPython的文件和目录管理指令</p><p>文件查询命令：**%ls**</p><p>显示文件内容：**%cat**</p><h4 id="任务三：文件操作"><a href="#任务三：文件操作" class="headerlink" title="任务三：文件操作"></a><em>任务三：文件操作</em></h4><table><thead><tr><th>方法名</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>rename</td><td>重命名文件</td><td><strong>os.rename(源文件名, 目标文件名)</strong></td></tr><tr><td>remove</td><td>删除文件</td><td><strong>os.remove(文件名)</strong></td></tr></tbody></table><h4 id="任务四：目录操作"><a href="#任务四：目录操作" class="headerlink" title="任务四：目录操作"></a><em>任务四：目录操作</em></h4><table><thead><tr><th>方法名</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>listdir</td><td>目录列表</td><td><strong>os.listdir(目录名)</strong></td></tr><tr><td>mkdir</td><td>创建目录</td><td><strong>os.mkdir(目录名)</strong></td></tr><tr><td>rmdir</td><td>删除目录</td><td><strong>os.rmdir(目录名）</strong></td></tr><tr><td>getcwd</td><td>获取当前目录</td><td><strong>os.getcwd(）</strong></td></tr><tr><td>chdir</td><td>修改工作目录</td><td><strong>os.chdir(目标目录)</strong></td></tr><tr><td>path.isdir</td><td>判断是否是文件</td><td><strong>os.path.isdir(文件路径)</strong></td></tr></tbody></table><h3 id="13-4-2-相对路径和绝对路径"><a href="#13-4-2-相对路径和绝对路径" class="headerlink" title="13.4.2   相对路径和绝对路径"></a>13.4.2   相对路径和绝对路径</h3><h4 id="任务一：当前目录"><a href="#任务一：当前目录" class="headerlink" title="任务一：当前目录"></a><em>任务一：当前目录</em></h4><p>知识点：什么是当前工作目录？</p><p>每个运行在计算机上的程序，都有一个“当前工作目录”( <strong>cwd</strong>)</p><p>使用**os.getcwd()**函数取得当前工作路径</p><p>使用<strong>os.chdir()</strong> 切换当前目录，类似控制台的<strong>cd</strong>指令</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入os模块</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得当前目录</span></span><br><span class="line">print(os.getcwd())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换当前目录</span></span><br><span class="line">os.chdir(<span class="string">&#x27;C:\Windows\System32&#x27;</span>)</span><br><span class="line">print(os.getcwd())</span><br></pre></td></tr></table></figure><p>注意：</p><p>如果使用<strong>os.chdir()<strong>修改当前目录，当指定目录不存在时，Python 解释器触发异常</strong>FileNotFoundError</strong></p><p>例如，<strong>os.chdir(‘C:\error’)<strong>，假设</strong>error</strong>目录不存在</p><h4 id="任务二：相对路径和绝对路径-重要"><a href="#任务二：相对路径和绝对路径-重要" class="headerlink" title="任务二：相对路径和绝对路径 (重要)"></a><em>任务二：相对路径和绝对路径 (重要)</em></h4><p>知识点：明确一个文件所在的路径，有 2 种表示方式，分别是：</p><p><strong>绝对路径</strong>：总是从<strong>根文件夹</strong>开始</p><p>Window 系统中以盘符(<strong>C:<strong>、</strong>D:</strong>)作为根文件夹</p><p>Mac或Linux系统中以**/**作为根文件夹</p><p><strong>相对路径</strong>：指的是文件<strong>相对于当前工作目录</strong>所在的位置</p><p>例如，当前工作目录为”C:\Windows\System32”，若文件 <strong>demo.txt</strong> 就位于这个 System32 文件夹下，则<strong>demo.txt</strong>的相对路径表示为 “.\demo.txt”</p><p>其中 .\ 就表示当前所在目录</p><p>知识点(常识)：常用的相对路径表示</p><p> .\ 表示当前所在目录。例如 <strong>.\data.txt</strong>，表示<strong>当前文件夹</strong>中<strong>data.txt</strong>文件</p><p> ..\ 表示当前所在目录的父目录。例如 <strong>..\data.txt</strong>，表示<strong>父文件夹</strong>中的<strong>data.txt</strong>文件</p><h4 id="任务三：os-path模块"><a href="#任务三：os-path模块" class="headerlink" title="任务三：os.path模块"></a><em>任务三：os.path模块</em></h4><p>知识点：Python os.path 模块提供了一些函数，可以实现绝对路径和相对路径之间的转换，以及检查给定的路径是否为绝对路径，例如：</p><p>调用 <strong>os.path.abspath(path)</strong> 将返回 path 参数的绝对路径的字符串，这是将相对路径转换为绝对路径的简便方法</p><p>调用 **os.path.isabs(path)**，如果参数是一个绝对路径，就返回 True，如果参数是一个相对路径，就返回 False</p><p>调用 <strong>os.path.relpath(path, start)</strong> 将返回从 start 路径到 path 的相对路径的字符串。如果没有提供 start，就使用当前工作目录作为开始路径</p><p>调用 <strong>os.path.dirname(path)</strong> 将返回一个字符串，<strong>表示文件夹路径</strong>。它包含 path 参数中最后一个斜杠之前的所有内容</p><p>调用 <strong>os.path.basename(path)</strong> 将返回一个字符串，<strong>表示文件名</strong>。它包含 path 参数中最后一个斜杠之后的所有内容</p><p><strong>注意</strong>：例子中的<strong>路径可以根据实际情况自定义</strong>，不必要完全遵照本节的例子，根据自己的系统环境对本节代码做适当调整即可</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得当前路径</span></span><br><span class="line">print(os.getcwd())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得当前路径的绝对路径</span></span><br><span class="line">print(os.path.abspath(<span class="string">&#x27;.&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得相对路径&#x27;.\Scripts&#x27;的的绝对路径</span></span><br><span class="line">print(os.path.abspath(<span class="string">&#x27;.\Scripts&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试当前path是否为绝对路径，输出False</span></span><br><span class="line">print(os.path.abspath(<span class="string">&#x27;.&#x27;</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># os.path.abspath(&#x27;.&#x27;)获得绝对路径</span></span><br><span class="line"><span class="comment"># 然后作为实参传递给os.path.isabs()函数</span></span><br><span class="line"><span class="comment"># 输出为True</span></span><br><span class="line">print(os.path.isabs(os.path.abspath(<span class="string">&#x27;.&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从&#x27;C:\&#x27;开始，到&#x27;C:\Windows&#x27;的相对路径</span></span><br><span class="line"><span class="comment"># 输出为&#x27;Windows&#x27;，结合截图来理解</span></span><br><span class="line">print(os.path.relpath(<span class="string">&#x27;C:\Windows&#x27;</span>, <span class="string">&#x27;C:\&#x27;))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 从&#x27;</span>C:\spam\eggs<span class="string">&#x27;开始，到&#x27;</span>C:\Windows<span class="string">&#x27;的相对路径</span></span><br><span class="line"><span class="string"># 输出为&#x27;</span>..\..\Windows<span class="string">&#x27;，结合截图来理解</span></span><br><span class="line"><span class="string">print(os.path.relpath(&#x27;</span>C:\Windows<span class="string">&#x27;, &#x27;</span>C:\spam\eggs<span class="string">&#x27;))</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得文件名(不含路径)，输出为&#x27;calc.exe&#x27;</span></span><br><span class="line">path = <span class="string">&#x27;C:\Windows\System32\calc.exe&#x27;</span></span><br><span class="line">print(os.path.basename(path))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得路径名(不含文件)</span></span><br><span class="line">print(os.path.dirname(path))</span><br></pre></td></tr></table></figure><h3 id="13-4-3-实例：文件目录操作"><a href="#13-4-3-实例：文件目录操作" class="headerlink" title="13.4.3   实例：文件目录操作"></a>13.4.3   实例：文件目录操作</h3><p>例子中的<strong>文件路径</strong>都需要根据具体文件位置进行<strong>自定义</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># os模块：系统模块 - 常用命令</span></span><br><span class="line"><span class="keyword">import</span> os  <span class="comment"># 导入模块</span></span><br><span class="line"><span class="comment"># 输出字符串指示正在使用的平台。</span></span><br><span class="line"><span class="comment"># 如果是window 则用&#x27;nt&#x27;表示</span></span><br><span class="line"><span class="comment"># 对Linux/Unix用户，它是&#x27;posix&#x27;。</span></span><br><span class="line">print(os.name)  </span><br><span class="line"><span class="comment"># 函数得到当前工作目录，即当前Python脚本工作的目录路径。</span></span><br><span class="line">print(os.getcwd())  </span><br><span class="line"><span class="comment"># 返回指定目录下的所有文件和目录名。</span></span><br><span class="line">print(os.listdir())  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换到目标路径</span></span><br><span class="line"><span class="comment">#os.chdir(&#x27;C:\\Users\\Hjx\\Desktop\\&#x27; )  </span></span><br><span class="line"><span class="comment">#print(os.getcwd())</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除一个文件</span></span><br><span class="line"><span class="comment">#os.remove(&#x27;text2.txt&#x27;)  </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数返回一个路径的目录名和文件名</span></span><br><span class="line">print(os.path.split(<span class="string">&#x27;C:\\Users\\Hjx\\Desktop\\text.txt&#x27;</span>))  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 用来检验给出的路径是否真地存在</span></span><br><span class="line"><span class="comment"># 这里不存在改文件故False，但路径存在故True</span></span><br><span class="line">print(os.path.exists(<span class="string">&#x27;C:\\Users\\Hjx\\Desktop\\heheh.txt&#x27;</span>))</span><br><span class="line">print(os.path.exists(<span class="string">&#x27;C:\\Users\\Hjx\\Desktop\\&#x27;</span>))</span><br></pre></td></tr></table></figure><h2 id="13-5-常识-UTF-8编码解决中文乱码问题"><a href="#13-5-常识-UTF-8编码解决中文乱码问题" class="headerlink" title="13.5   (常识) UTF-8编码解决中文乱码问题"></a>13.5   (常识) UTF-8编码解决中文乱码问题</h2><p>知识点：文本文件存储的内容是基于<strong>字符编码</strong>的文件，常见的编码有 <strong>ASCII</strong> 编码，<strong>UNICODE</strong> 编码等</p><p>Python 2默认使用 <strong>ASCII</strong> 编码格式</p><p>Python 3默认使用 <strong>UTF-8</strong> 编码格式</p><p>如果<strong>文件</strong>或<strong>网络爬虫数据</strong>中包含非 <strong>ASCII</strong> 编码字符，首先要将字符转换为 <strong>UTF-8</strong> 编码，才能被<strong>不会出现乱码</strong>问题</p><h4 id="任务一：ASCII-编码和-UTF-8-编码"><a href="#任务一：ASCII-编码和-UTF-8-编码" class="headerlink" title="任务一：ASCII 编码和 UTF-8 编码"></a><em>任务一：ASCII 编码和 UTF-8 编码</em></h4><p>知识点：<strong>ASCII</strong> 编码</p><p>计算机中只有 <strong>256</strong> 个 <strong>ASCII</strong> 字符。</p><p>一个 <strong>ASCII</strong> 在内存中占用 <strong>1 个字节</strong> 的空间。</p><p><strong>8</strong> 个 <strong>0/1</strong> 的排列组合方式一共有 <strong>256</strong> 种，也就是 2 ** 8</p><p>对于中文如果使用<strong>ASCII</strong> 码，将会出现乱码</p><p>知识点：<strong>UTF-8</strong> 编码格式</p><p>计算机中使用 <strong>1~6 个字节</strong>来表示一个<strong>UTF-8</strong>字符，涵盖了<strong>地球上几乎所有地区的文字</strong></p><p>大多数汉字会使用<strong>3 个字节</strong>表示</p><p><strong>UTF-8</strong>是<strong>UNICODE</strong>编码的一种编码格式</p><h4 id="任务二：使用UTF-8-编码防止中文乱码"><a href="#任务二：使用UTF-8-编码防止中文乱码" class="headerlink" title="任务二：使用UTF-8 编码防止中文乱码"></a><em>任务二：使用UTF-8 编码防止中文乱码</em></h4><p>虽然Python 3.x默认使用 <strong>UTF-8</strong> 编码格式，但是对于中文文件也会出现乱码问题，特别是读取包含中文的文本</p><p>知识点：建议在源文件的<strong>第一行</strong>增加以下代码，解释器会以 <strong>utf-8</strong> 编码来处理 python文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在源文件的第一行增加以下代码(二选一)</span></span><br><span class="line"><span class="comment"># *-* coding:utf8 *-*</span></span><br><span class="line"><span class="comment"># coding=utf8</span></span><br></pre></td></tr></table></figure><p>在读取包含中文文件时，**open()**函数指定encoding参数为 <strong>utf-8</strong> 。例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;Data.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">   print(line, end = <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h4 id="任务三：使用UTF-8编码字符串"><a href="#任务三：使用UTF-8编码字符串" class="headerlink" title="任务三：使用UTF-8编码字符串"></a><em>任务三：使用UTF-8编码字符串</em></h4><p>知识点：</p><p>在 <strong>Python 2</strong> 中，即使指定了文件使用 <strong>UTF-8</strong> 的编码格式，但是在遍历字符串时，仍然会<strong>以字节为单位遍历</strong>字符串</p><p>要能够<strong>正确的遍历字符串</strong>，在定义字符串时，需要<strong>在字符串的引号前</strong>，增加一个小写字母 <strong>u</strong>，告诉解释器这是一个 <strong>unicode</strong> 字符串</p><p>虽然Python 3的字符串都使用 <strong>UTF-8</strong>编码，但是如果字符串来自<strong>文件</strong>或<strong>网络爬虫数据</strong>(可能不是使用<strong>UTF-8</strong>)，需要将它们先转换为<strong>UTF-8</strong>，程序才不会出现乱码问题</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># *-* coding:utf8 *-*</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在字符串前，增加一个 `u` 表示这个字符串是一个 utf8 字符串</span></span><br><span class="line">hello_str = <span class="string">u&quot;你好世界&quot;</span></span><br><span class="line"></span><br><span class="line">print(hello_str)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> hello_str:</span><br><span class="line">   print(c)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210617001955989.png&quot; alt=&quot;image-20210617001955989&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记11</title>
    <link href="http://waxll.top/2021/06/17/py11.html"/>
    <id>http://waxll.top/2021/06/17/py11.html</id>
    <published>2021-06-16T16:39:55.000Z</published>
    <updated>2021-06-16T16:41:30.877Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/%E7%AC%AC11%E7%AB%A0%20%E5%87%BD%E6%95%B0%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%8E%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/%E7%AC%AC11%E7%AB%A0%20%E5%87%BD%E6%95%B0%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%8E%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="第11章 函数：返回值与进阶用法"></p><span id="more"></span><h1 id="第十一章-函数：返回值与进阶用法"><a href="#第十一章-函数：返回值与进阶用法" class="headerlink" title="第十一章   函数：返回值与进阶用法"></a>第十一章   函数：返回值与进阶用法</h1><h2 id="11-1-函数的返回值"><a href="#11-1-函数的返回值" class="headerlink" title="11.1   函数的返回值"></a>11.1   函数的返回值</h2><h3 id="11-1-1-向函数外部传递信息：返回值"><a href="#11-1-1-向函数外部传递信息：返回值" class="headerlink" title="11.1.1   向函数外部传递信息：返回值"></a>11.1.1   向函数外部传递信息：返回值</h3><h4 id="函数返回值的用法"><a href="#函数返回值的用法" class="headerlink" title="函数返回值的用法"></a>函数返回值的用法</h4><p><strong>需求</strong>：函数并非总是直接通过<strong>print()<strong>来显示结果。有时，希望</strong>函数在执行完成后，将有用的处理结果，返回给调用者</strong>，以便做后续的处理</p><p>知识点：</p><p><strong>返回值</strong>：在函数执行完后，<strong>返回</strong>给它的调用者一个结果</p><p>如果把函数看作是一个黑箱的话，那么<strong>输入就是函数的参数，输出就是函数的返回值</strong></p><p>通过使用函数的返回值，可以让将程序的大部分繁重工作都移到<strong>函数子程序</strong>中去完成，从而简化主程序</p><p>知识点：</p><p>在函数中，可使用<strong>return</strong>关键字来返回结果</p><p>外部调用函数之处，可以<strong>使用变量</strong>来<strong>接收</strong>函数的返回</p><h4 id="任务一：改进带返回的求和函数"><a href="#任务一：改进带返回的求和函数" class="headerlink" title="任务一：改进带返回的求和函数"></a><em>任务一：改进带返回的求和函数</em></h4><p>例子：带返回的两个数求和程序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_2_num</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;对两个数字的求和&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> num1 + num2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用函数，并使用 result 变量接收计算结果</span></span><br><span class="line">result = sum_2_num(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&quot;计算结果是 <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：返回之后的代码将不被执行"><a href="#任务二：返回之后的代码将不被执行" class="headerlink" title="任务二：返回之后的代码将不被执行"></a><em>任务二：返回之后的代码将不被执行</em></h4><p><strong>注意</strong>：<strong>return</strong> 表示返回，当执行<strong>return</strong> 后，它后续代码<strong>都会不被执行</strong></p><p>例子：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_2_num</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;对两个数字的求和&quot;&quot;&quot;</span></span><br><span class="line">   <span class="keyword">return</span> num1 + num2</span><br><span class="line">   <span class="comment"># return之后的代码永远不被执行</span></span><br><span class="line">   num = <span class="number">1000</span></span><br><span class="line">   print(num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用函数，并使用 result 变量接收计算结果</span></span><br><span class="line">result = sum_2_num(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">print(<span class="string">f&quot;计算结果是 <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="11-1-2-利用元组函数返回多个值"><a href="#11-1-2-利用元组函数返回多个值" class="headerlink" title="11.1.2   利用元组函数返回多个值"></a>11.1.2   利用元组函数返回多个值</h3><h4 id="任务一：函数多个返回值的需求分析"><a href="#任务一：函数多个返回值的需求分析" class="headerlink" title="任务一：函数多个返回值的需求分析"></a><em>任务一：函数多个返回值的需求分析</em></h4><p>问题：在Python中，一个函数执行后能否返回多个结果</p><p>下面将通过一个例子来分析函数多个返回值的实际需求</p><p>例子：温度和湿度测量程序。假设要开发一个函数能够同时返回当前的温度和湿度。首先，实现函数的单个返回值(温度)功能</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">measure</span>():</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;返回当前的温度&quot;&quot;&quot;</span>    </span><br><span class="line">   print(<span class="string">&quot;开始测量...&quot;</span>)</span><br><span class="line">   temp = <span class="number">39</span></span><br><span class="line">   print(<span class="string">&quot;测量结束...&quot;</span>)    </span><br><span class="line">   <span class="keyword">return</span> temp</span><br><span class="line"></span><br><span class="line">result = measure()</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><h4 id="任务二：使用元组传递函数多个返回值"><a href="#任务二：使用元组传递函数多个返回值" class="headerlink" title="任务二：使用元组传递函数多个返回值"></a><em>任务二：使用元组传递函数多个返回值</em></h4><p>知识点(回顾)： <strong>函数传递多个返回值</strong></p><p>在C++中，函数允许最多传回一个返回值，否则<strong>会出错</strong></p><p>在Python中，通过<strong>元组</strong>可以实现传递函数的多个返回值功能。对函数的多个返回值使用<strong>元组</strong>进行<strong>打包</strong>，然后在函数调用之处进行<strong>解包</strong>赋值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#观察divmod()函数</span></span><br><span class="line"><span class="comment"># 返回值：商和余数，被打包在一个元组</span></span><br><span class="line">print(<span class="built_in">divmod</span>(<span class="number">15</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过元组解包，接受函数的多个返回值</span></span><br><span class="line">x, y = <span class="built_in">divmod</span>(<span class="number">15</span>, <span class="number">2</span>)</span><br><span class="line">print(<span class="string">&#x27;divmod(15, 2)，商：&#123;&#125;，余数：&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(x, y))</span><br></pre></td></tr></table></figure><p>下面，将利用<strong>元组</strong>在返回温度的同时，也能够返回<strong>湿度</strong>信息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">measure</span>():</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;测量温度和湿度&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">   print(<span class="string">&quot;测量开始...&quot;</span>)</span><br><span class="line">   temp = <span class="number">39</span></span><br><span class="line">   wetness = <span class="number">50</span></span><br><span class="line">   print(<span class="string">&quot;测量结束...&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 元组-可以包含多个数据，因此可以使用元组让函数一次返回多个值</span></span><br><span class="line">   <span class="comment"># 如果函数返回的类型是元组，小括号可以省略</span></span><br><span class="line">   <span class="comment"># return (temp, wetness)</span></span><br><span class="line">   <span class="keyword">return</span> temp, wetness</span><br><span class="line"></span><br><span class="line"><span class="comment"># 元组</span></span><br><span class="line">result = measure()</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><p>知识点：</p><p>如果一个函数返回值是<strong>元组</strong>，括号可以<strong>省略</strong></p><p>在 <strong>Python</strong> 中，可以<strong>将一个元组</strong>通过<strong>赋值语句</strong>解包给给<strong>多个变量</strong></p><p>注意：解包时，变量数量需要与元组元素数量保持一致</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 需要单独的处理温度或者湿度 - 不方便</span></span><br><span class="line">print(result[<span class="number">0</span>])</span><br><span class="line">print(result[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果函数返回的类型是元组，同时希望单独的处理元组中的元素</span></span><br><span class="line"><span class="comment"># 可以使用多个变量，一次接收函数的返回结果</span></span><br><span class="line"><span class="comment"># 注意：使用多个变量接收结果时，变量的个数应该和元组中元素的个数保持一致</span></span><br><span class="line">gl_temp, gl_wetness = measure()</span><br><span class="line"></span><br><span class="line">print(gl_temp)</span><br><span class="line">print(gl_wetness)</span><br></pre></td></tr></table></figure><h3 id="11-1-3-实例：交换两个数字"><a href="#11-1-3-实例：交换两个数字" class="headerlink" title="11.1.3   实例：交换两个数字"></a>11.1.3   实例：交换两个数字</h3><p><strong>要求</strong>：有两个整数变量 <strong>a = 6, b = 100</strong>，如果不使用其他变量，如何<strong>交换两个变量的值</strong></p><h4 id="解法-1-——-使用其他变量"><a href="#解法-1-——-使用其他变量" class="headerlink" title="解法 1 —— 使用其他变量"></a>解法 1 —— 使用其他变量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解法 1 - 使用临时变量</span></span><br><span class="line">a = <span class="number">6</span></span><br><span class="line">b = <span class="number">100</span></span><br><span class="line">print(a,b)</span><br><span class="line"></span><br><span class="line">c = b</span><br><span class="line">b = a</span><br><span class="line">a = c</span><br><span class="line">print(a,b)</span><br></pre></td></tr></table></figure><h4 id="解法-2-——-不使用临时变量"><a href="#解法-2-——-不使用临时变量" class="headerlink" title="解法 2 —— 不使用临时变量"></a>解法 2 —— 不使用临时变量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解法 2 - 不使用临时变量</span></span><br><span class="line">a = <span class="number">6</span></span><br><span class="line">b = <span class="number">100</span></span><br><span class="line">print(a,b)</span><br><span class="line"></span><br><span class="line">a = a + b</span><br><span class="line">b = a - b</span><br><span class="line">a = a - b</span><br><span class="line">print(a,b)</span><br></pre></td></tr></table></figure><h4 id="解法-3-——-Python-专有，利用元组"><a href="#解法-3-——-Python-专有，利用元组" class="headerlink" title="解法 3 —— Python 专有，利用元组"></a>解法 3 —— Python 专有，利用元组</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过元组的封包和解包功能</span></span><br><span class="line">a = <span class="number">6</span></span><br><span class="line">b = <span class="number">100</span></span><br><span class="line">print(a,b)</span><br><span class="line"></span><br><span class="line">a, b = b, a</span><br><span class="line">print(a,b)</span><br></pre></td></tr></table></figure><h3 id="11-1-4-实例：人物信息构建"><a href="#11-1-4-实例：人物信息构建" class="headerlink" title="11.1.4   实例：人物信息构建"></a>11.1.4   实例：人物信息构建</h3><h4 id="任务一：带返回的姓名拼接函数"><a href="#任务一：带返回的姓名拼接函数" class="headerlink" title="任务一：带返回的姓名拼接函数"></a><em>任务一：带返回的姓名拼接函数</em></h4><p>需求：接受姓和名，并返回首字母大写的全名</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_formatted_name</span>(<span class="params">first_name, last_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;返回整洁的姓名&quot;&quot;&quot;</span></span><br><span class="line">   full_name = first_name + <span class="string">&#x27; &#x27;</span> + last_name</span><br><span class="line">   <span class="keyword">return</span> full_name.title()</span><br><span class="line"></span><br><span class="line">name = get_formatted_name(<span class="string">&#x27;jimi&#x27;</span>, <span class="string">&#x27;hendrix&#x27;</span>)</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>函数<strong>get_formatted_name()<strong>接受两个参数</strong>first_name</strong>名和<strong>last_name</strong>姓</p><p>函数体中，名和姓进行拼接(中间加1空格)，并将结果存储在变量<strong>full_name</strong>中</p><p>然后，将<strong>full_name</strong>字符串调用**.title()**方法转换为首字母大写格式，并将其作为返回值</p><p>主程序中，使用变量<strong>name</strong>接受函数**get_formatted_name()**的返回值，并打印输出结果</p><h4 id="任务二：使用默认值实参改进姓名函数"><a href="#任务二：使用默认值实参改进姓名函数" class="headerlink" title="任务二：使用默认值实参改进姓名函数"></a><em>任务二：使用默认值实参改进姓名函数</em></h4><p>需求：有些人还拥有中间名</p><p>因此，需要扩展函数<strong>get_formatted_name()<strong>，来满足</strong>中间名</strong>需求</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_formatted_name</span>(<span class="params">first_name, middle_name, last_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;返回整洁的姓名&quot;&quot;&quot;</span></span><br><span class="line">   full_name = first_name + <span class="string">&#x27; &#x27;</span> + middle_name + <span class="string">&#x27; &#x27;</span> + last_name</span><br><span class="line">   <span class="keyword">return</span> full_name.title()</span><br><span class="line"></span><br><span class="line">name = get_formatted_name(<span class="string">&#x27;john&#x27;</span>, <span class="string">&#x27;lee&#x27;</span>, <span class="string">&#x27;hooker&#x27;</span>)</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>在调用函数时，只需提供名、中间名和姓，**get_formatted_name()**函数就能正确地运行</p><p>它根据三个实参，创建一个以空格为分隔符的拼接<strong>full_name</strong>字符串，并将结果转换为首字母大写格式</p><p>需求：</p><p><strong>并非所有的人都有中间名</strong>。如果调用函数时，只提供了名和姓两个实参，它将不能正确地运行</p><p>为让中间名变成可选的，可给实参<strong>middle_name</strong>指定一个默认值——<strong>空字符串</strong>，并在用户没有提供中间名时不使用这个实参</p><p>函数体中，需要对2个参数(名+姓)和3个参数(名+中间名+姓)进行分别处理，可以借助if语句实现流程控制</p><p><strong>注意</strong>：带默认值的参数，必须要在非默认值参数<strong>之后</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_formatted_name</span>(<span class="params">first_name, last_name, middle_name=<span class="string">&#x27;&#x27;</span></span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;返回整洁的姓名&quot;&quot;&quot;</span></span><br><span class="line">   <span class="keyword">if</span> middle_name:</span><br><span class="line">       full_name = first_name + <span class="string">&#x27; &#x27;</span> + middle_name + <span class="string">&#x27; &#x27;</span> + last_name</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       full_name = first_name + <span class="string">&#x27; &#x27;</span> + last_name</span><br><span class="line">   <span class="keyword">return</span> full_name.title()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">name = get_formatted_name(<span class="string">&#x27;jimi&#x27;</span>, <span class="string">&#x27;hendrix&#x27;</span>)</span><br><span class="line">print(name)</span><br><span class="line"></span><br><span class="line">name = get_formatted_name(<span class="string">&#x27;john&#x27;</span>, <span class="string">&#x27;hooker&#x27;</span>, <span class="string">&#x27;lee&#x27;</span>)</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>由于每个人都拥有名和姓，因此在函数定义中首先给出这两个形参。<strong>中间名是可选的，因此在函数定义中最后列出该形参</strong>，并将其默认值设置为空字符串</p><p>在函数体中，通过<strong>if</strong>判断检查参数<strong>middle_name</strong>是否为空。然后使用两种<strong>full_name</strong>的拼接方式，最后再将其修改为首字母大写格式，并返回给外部</p><p><strong>位置参数</strong>调用函数时，必须要确保每个<strong>位置实参能正确地关联到相应的形参</strong>。调用函数时，如果只指定名和姓，调用起来将非常简单。如果需要指定中间名，就必须确保中间名传递给<strong>middle_name</strong>(最后个参数)</p><h4 id="任务三：改进函数返回值为字典"><a href="#任务三：改进函数返回值为字典" class="headerlink" title="任务三：改进函数返回值为字典"></a><em>任务三：改进函数返回值为字典</em></h4><p>知识点：函数可返回<strong>任何类型的值</strong>，包括列表和字典等较复杂的数据结构</p><p>例子：人物构建函数，接受名和姓，返回一个表示人属性的字典：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build_person</span>(<span class="params">first_name, last_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;返回一个字典，其中包含有关一个人的信息&quot;&quot;&quot;</span></span><br><span class="line">   person = &#123;<span class="string">&#x27;first&#x27;</span>: first_name, <span class="string">&#x27;last&#x27;</span>: last_name&#125;</span><br><span class="line">   <span class="keyword">return</span> person</span><br><span class="line"></span><br><span class="line">name = build_person(<span class="string">&#x27;三&#x27;</span>, <span class="string">&#x27;张&#x27;</span>)</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>函数**build_person()**接受名和姓，并将这些值封装到字典中</p><p>存储<strong>first_name</strong>的值时，使用的键为**’first’<strong>；而存储</strong>last_name<strong>的值时，使用的键为</strong>‘last’**。最后，返回表示人属性的字典</p><p>在主程序中，打印返回值(字典)，此时原来的两项文本信息存储在一个字典中：**{‘first’: ‘三’, ‘last’: ‘张’}**</p><h4 id="任务四：改进函数接受年龄参数"><a href="#任务四：改进函数接受年龄参数" class="headerlink" title="任务四：改进函数接受年龄参数"></a><em>任务四：改进函数接受年龄参数</em></h4><p>扩展函数功能，让它能接受更多的参数，如中间名、年龄、职业或你要存储的其他任何信息。例如，下面程序可以储存姓名和年龄：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build_person</span>(<span class="params">first_name, last_name, age=<span class="string">&#x27;&#x27;</span></span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;返回一个字典，其中包含有关一个人的信息&quot;&quot;&quot;</span></span><br><span class="line">   person = &#123;<span class="string">&#x27;first&#x27;</span>: first_name, <span class="string">&#x27;last&#x27;</span>: last_name&#125;</span><br><span class="line">   <span class="keyword">if</span> age:</span><br><span class="line">       person[<span class="string">&#x27;age&#x27;</span>] = age</span><br><span class="line">   <span class="keyword">return</span> person</span><br><span class="line"></span><br><span class="line">name = build_person(<span class="string">&#x27;jimi&#x27;</span>, <span class="string">&#x27;hendrix&#x27;</span>, age=<span class="number">27</span>)</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>在函数定义中，新增一个可选形参<strong>age</strong>，并将其默认值设置为空字符串</p><p>如果函数调用中包含这个形参的值，就将该值将存储到字典中；否则，直接返回无年龄信息的字典</p><h4 id="任务五：循环接受外部输入储存用户信息"><a href="#任务五：循环接受外部输入储存用户信息" class="headerlink" title="任务五：循环接受外部输入储存用户信息"></a><em>任务五：循环接受外部输入储存用户信息</em></h4><p>需求：</p><p>使用<strong>while</strong>哨兵式循环，不断接受用户循环输入,直到输入<strong>q</strong>为止</p><p>调用之前姓名构造函数，将用户输入作为函数的参数，并返回完整的姓名</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_formatted_name</span>(<span class="params">first_name, last_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;返回整洁的姓名&quot;&quot;&quot;</span></span><br><span class="line">   full_name = first_name + <span class="string">&#x27; &#x27;</span> + last_name</span><br><span class="line">   <span class="keyword">return</span> full_name.title()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环条件为True</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">   print(<span class="string">&quot;\nPlease tell me your name:&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;(enter &#x27;q&#x27; at any time to quit)&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 遇到用户输入q，则退出循环</span></span><br><span class="line">   f_name = <span class="built_in">input</span>(<span class="string">&quot;First name: &quot;</span>)</span><br><span class="line">   <span class="keyword">if</span> f_name == <span class="string">&#x27;q&#x27;</span>:</span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">   l_name = <span class="built_in">input</span>(<span class="string">&quot;Last name: &quot;</span>)</span><br><span class="line">   <span class="keyword">if</span> l_name == <span class="string">&#x27;q&#x27;</span>:</span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 打印输出结果</span></span><br><span class="line">   formatted_name = get_formatted_name(f_name, l_name)</span><br><span class="line">   print(<span class="string">&quot;\nHello, &quot;</span> + formatted_name + <span class="string">&quot;!&quot;</span>)</span><br></pre></td></tr></table></figure><p>在程序中，添加了一条消息来告诉用户如何退出，然后在每次提示用户输入时，都检查他输入的是否是退出值，如果是，就退出循环。现在，这个程序将不断地问候，直到用户输入的姓或名为**’q’**为止</p><h2 id="11-2（重要）进阶函数"><a href="#11-2（重要）进阶函数" class="headerlink" title="11.2（重要）进阶函数"></a>11.2（重要）进阶函数</h2><h3 id="11-2-1-分析函数参数和返回值的作用"><a href="#11-2-1-分析函数参数和返回值的作用" class="headerlink" title="11.2.1   分析函数参数和返回值的作用"></a>11.2.1   分析函数参数和返回值的作用</h3><h4 id="任务一：四种组合形式"><a href="#任务一：四种组合形式" class="headerlink" title="任务一：四种组合形式"></a><em>任务一：四种组合形式</em></h4><p>知识点：函数根据<strong>有没有参数</strong>以及<strong>有没有返回值</strong>，可以<strong>相互组合</strong>，一共有<strong>4 种</strong>组合形式。</p><p>无参数，无返回值</p><p>无参数，有返回值</p><p>有参数，无返回值</p><p>有参数，有返回值</p><p>知识点：</p><p>定义函数时，<strong>是否接收参数，或者是否返回结果</strong>，是根据<strong>实际的功能需求</strong>来决定的</p><p>如果函数<strong>内部处理的数据不确定</strong>，就可以将外界的数据以参数传递到函数内部。</p><p>如果希望一个函数 <strong>执行完成后，向外界汇报执行结果</strong>，就可以增加函数的返回值</p><h4 id="任务二：无参数，无返回值"><a href="#任务二：无参数，无返回值" class="headerlink" title="任务二：无参数，无返回值"></a><em>任务二：无参数，无返回值</em></h4><p>知识点：</p><p>此类函数，不接收参数，也没有返回值</p><p>应用场景：<strong>只是单纯地做一件事情</strong>，例如显示菜单、打印提示语等</p><p>在函数内部<strong>针对全局变量进行操作</strong>，例如：<strong>新建名片</strong>，将最终结果<strong>记录在全局变量</strong>中</p><p>注意：</p><p>如果全局变量的数据类型是一个<strong>可变类型</strong>，在函数内部可以使用方法修改全局变量的内容，<strong>变量的引用不会改变</strong></p><p>在函数内部，<strong>使用赋值语句</strong>才会<strong>修改变量的引用</strong></p><h4 id="任务三：无参数，有返回值"><a href="#任务三：无参数，有返回值" class="headerlink" title="任务三：无参数，有返回值"></a><em>任务三：无参数，有返回值</em></h4><p>知识点：</p><p>此类函数，不接收参数，但是有返回值</p><p>例如，采集数据程序(<strong>温度计</strong>)。返回结果就是当前的温度，而不需要传递任何的参数</p><h4 id="任务四：有参数，无返回值"><a href="#任务四：有参数，无返回值" class="headerlink" title="任务四：有参数，无返回值"></a><em>任务四：有参数，无返回值</em></h4><p>知识点：</p><p>此类函数，接收参数，没有返回值</p><p>函数内部的代码保持不变，针对<strong>不同的参数处理不同的数据</strong></p><p>例如，<strong>名片管理系统</strong>针对<strong>找到的名片</strong>做<strong>修改、删除</strong>操作</p><h4 id="任务五：有参数，有返回值"><a href="#任务五：有参数，有返回值" class="headerlink" title="任务五：有参数，有返回值"></a><em>任务五：有参数，有返回值</em></h4><p>知识点：</p><p>此类函数，接收参数，同时有返回值</p><p>应用场景：函数内部的代码保持不变，针对<strong>不同的参数 处理 不同的数据</strong>，并且<strong>返回期望的处理结果</strong></p><p>例如，<strong>名片管理系统</strong>使用<strong>字典默认值</strong>和<strong>提示信息</strong>提示用户输入内容：如果输入，返回输入内容；如果没有输入，返回字典默认值</p><h3 id="11-2-2-函数的嵌套调用"><a href="#11-2-2-函数的嵌套调用" class="headerlink" title="11.2.2   函数的嵌套调用"></a>11.2.2   函数的嵌套调用</h3><h4 id="任务一：嵌套的函数流程分析"><a href="#任务一：嵌套的函数流程分析" class="headerlink" title="任务一：嵌套的函数流程分析"></a><em>任务一：嵌套的函数流程分析</em></h4><p>知识点：所谓的<strong>函数嵌套调用</strong>就是在一个函数里面<strong>又调用</strong>了另外的函数</p><p>例子：函数的嵌套使用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line">   print(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br><span class="line">   print(<span class="string">&quot;test 1&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>():</span></span><br><span class="line">   print(<span class="string">&quot;-&quot;</span> * <span class="number">50</span>)</span><br><span class="line">   print(<span class="string">&quot;test 2&quot;</span>)</span><br><span class="line">   <span class="comment">#先执行完的嵌套函数test1()再继续外层函数</span></span><br><span class="line">   test1()</span><br><span class="line">   print(<span class="string">&quot;-&quot;</span> * <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test2()</span><br></pre></td></tr></table></figure><p>程序解析：如果函数 <strong>test2</strong> 中，调用了另外一个函数 <strong>test1</strong></p><p>那么执行到调用 <strong>test1</strong> 函数时，会先把函数 <strong>test1</strong> 中的任务都执行完</p><p>才会回到 <strong>test2</strong> 中调用函数 <strong>test1</strong> 的位置，继续执行后续的代码</p><h4 id="任务二：百度网站解读函数嵌套调用"><a href="#任务二：百度网站解读函数嵌套调用" class="headerlink" title="任务二：百度网站解读函数嵌套调用"></a><em>任务二：百度网站解读函数嵌套调用</em></h4><p>例子：通过百度网站列举说明现实应用中的嵌套调用，仅为了直观解释什么是<strong>函数的嵌套</strong></p><h4 id="实例：打印分隔符"><a href="#实例：打印分隔符" class="headerlink" title="实例：打印分隔符"></a>实例：打印分隔符</h4><p>知识点：</p><p>程序往往会因需求而不停地<strong>调整</strong>和<strong>更新</strong></p><p>通过函数可以实现对功能代码的<strong>统一管理</strong></p><p>当需求发生变化时，只需对相应函数的<strong>内部进行更新</strong>，而其他外部代码不变</p><p><strong>需求 1</strong>：定义一个 <strong>print_line</strong> 函数能够打印 ***** 组成的<strong>一条分隔线</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_line</span>(<span class="params">char</span>):</span></span><br><span class="line">   print(<span class="string">&quot;*&quot;</span> * <span class="number">50</span>)</span><br></pre></td></tr></table></figure><p><strong>需求 2</strong>：定义一个函数能够打印<strong>由任意字符组成</strong>的分隔线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_line</span>(<span class="params">char</span>):</span></span><br><span class="line">   print(char * <span class="number">50</span>)    </span><br></pre></td></tr></table></figure><p><strong>需求 3</strong>：定义一个函数能够打印<strong>任意重复次数</strong>的分隔线</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_line</span>(<span class="params">char, times</span>):</span></span><br><span class="line">   print(char * times)</span><br></pre></td></tr></table></figure><p><strong>需求 4</strong>：定义一个函数能够打印<strong>5行</strong>的分隔线，分隔线要求符合<strong>需求3</strong></p><p><strong>注意</strong>：在面对实际问题变化时，应该冷静思考，<strong>不要轻易修改之前已经完成的，能够正常执行的函数</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_line</span>(<span class="params">char, times</span>):</span></span><br><span class="line">   print(char * times)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_lines</span>(<span class="params">char, times</span>):</span></span><br><span class="line">   row = <span class="number">0</span>    </span><br><span class="line">   <span class="keyword">while</span> row &lt; <span class="number">5</span>:</span><br><span class="line">       print_line(char, times)</span><br><span class="line">       row += <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="11-2-3-模块中的函数"><a href="#11-2-3-模块中的函数" class="headerlink" title="11.2.3   模块中的函数"></a>11.2.3   模块中的函数</h3><h4 id="任务一：认识模块的功能"><a href="#任务一：认识模块的功能" class="headerlink" title="任务一：认识模块的功能"></a><em>任务一：认识模块的功能</em></h4><p>知识点：</p><p><strong>模块</strong>是Python程序架构的一个核心概念，将多个拥有功能类似的函数<strong>打包封装</strong>到模块中。它是比函数更高一级的程序集</p><p><strong>模块</strong>就好比是拥有某种功能的<strong>工具包</strong>，如果要想使用工具包中的工具(函数)，就需要提前通过import导入该模块。</p><p>每一个以扩展名 <strong>py</strong> 结尾的 <strong>Python</strong> 源代码文件都是一个<strong>模块</strong></p><p><strong>模块名就是文件名</strong>。在其他程序中，通过<strong>import 模块名</strong>来导入该模块</p><h4 id="实例：体验模块"><a href="#实例：体验模块" class="headerlink" title="实例：体验模块"></a>实例：体验模块</h4><p><strong>步骤一</strong>：新建 <strong>py_seplines.py</strong></p><p><strong>步骤二</strong>：复制打印<strong>5行</strong>的分隔线程序，并添加一个额外的字符串变量<strong>name</strong></p><p>注意：复制代码时<strong>小心</strong>代码块的缩进，建议先放<strong>cell</strong>中用<strong>小锤子插件</strong>格式化后，再复制到**.py**文件中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_line</span>(<span class="params">char, times</span>):</span></span><br><span class="line">   print(char * times)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_lines</span>(<span class="params">char, times</span>):</span></span><br><span class="line">   row = <span class="number">0</span></span><br><span class="line">   <span class="keyword">while</span> row &lt; <span class="number">5</span>:</span><br><span class="line">       print_line(char, times)</span><br><span class="line">       row += <span class="number">1</span></span><br><span class="line">       </span><br><span class="line">name = <span class="string">&#x27;张三的模块&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>步骤三</strong>：在Jupyter中，新建一个<strong>cell</strong>，并添加如下代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模块名为文件名</span></span><br><span class="line"><span class="keyword">import</span> py_seplines</span><br><span class="line"></span><br><span class="line">py_seplines.print_line(<span class="string">&quot;-&quot;</span>, <span class="number">80</span>)</span><br><span class="line">print(py_seplines.name)</span><br></pre></td></tr></table></figure><p>或者使用<strong>as</strong>关键字对<strong>import</strong>模块进行重命名：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> py_seplines <span class="keyword">as</span> py_sep</span><br><span class="line"></span><br><span class="line">py_sep.print_line(<span class="string">&quot;-&quot;</span>, <span class="number">80</span>)</span><br><span class="line">print(py_sep.name)</span><br></pre></td></tr></table></figure><p>总结：</p><p>可以<strong>在一个Python 文件</strong>中<strong>定义变量或者函数</strong></p><p>然后在<strong>另外一个文件中</strong>使用 <strong>import</strong> 导入该模块</p><p>导入之后，就可以使用 <strong>模块名.变量</strong> / <strong>模块名.函数</strong> 的方式，调用该模块中定义的变量或函数</p><p><strong>模块</strong>可以让<strong>曾编写过的代码集</strong>方便的被<strong>复用</strong></p><p><strong>函数</strong>是多行代码块的复用，而<strong>模块</strong>是多个函数和变量的复用</p><h4 id="任务二：模块名也是一个标识符"><a href="#任务二：模块名也是一个标识符" class="headerlink" title="任务二：模块名也是一个标识符"></a><em>任务二：模块名也是一个标识符</em></h4><p>知识点：</p><p>模块名、函数名、变量都属于<strong>标识符</strong></p><p>标示符的命名可由<strong>字母、下划线</strong> 和<strong>数字</strong>组成</p><p><strong>不能以数字开头</strong></p><p><strong>不能与关键字或保留字重名</strong></p><p>注意：如果在给Python文件起名时，<strong>以数字开头</strong>导入模块会出错</p><h4 id="任务三：模块的Pyc文件"><a href="#任务三：模块的Pyc文件" class="headerlink" title="任务三：模块的Pyc文件"></a><em>任务三：模块的Pyc文件</em></h4><p>知识点：</p><p>为了提高模块的运行效率，Python对模块进行预编译</p><p>预编译后的模块名文件为**.pyc<strong>。放在与</strong>.py**模块源代码同级目录的__pycache__文件夹中</p><p>这里的<strong>c</strong> 是 <strong>compiled 编译过</strong>的程序</p><p>知识点：查看**.pyc**文件</p><p>浏览与**.py**模块源代码同级目录的__pycache__文件夹</p><p>该目录下会有一个 <strong>py_seplines.cpython-37.pyc</strong> 文件，<strong>cpython-37</strong> 表示 <strong>Python</strong> 解释器的版本是3.7</p><p>这个 <strong>pyc</strong> 文件是由Python解释器将<strong>模块的源码</strong>转换为<strong>字节码</strong>。<strong>Python</strong> 通过<strong>字节码</strong>来优化代码运行效率</p><p>知识点：字节码</p><p><strong>Python</strong> 在解释源程序时是分成两个步骤的：</p><p>首先处理源代码，<strong>编译</strong>生成一个二进制<strong>字节码</strong></p><p>再对<strong>字节码</strong>进行处理，才会生成 CPU 能够识别的<strong>机器码</strong></p><p>有了模块的字节码文件之后，下一次运行程序时，如果在<strong>上次保存字节码之后</strong>没有修改过源代码，Python将会<strong>直接</strong>加载 <strong>.pyc</strong>文件并跳过编译这个步骤。</p><p>当 <strong>Python</strong> 重编译时，它会自动检查源文件和字节码文件的<strong>时间戳</strong>。如果发现源代码被修改，那么下次程序运行时，<strong>字节码</strong>将被重新创建</p><p><strong>模块是Python程序架构的一个核心概念</strong></p><h3 id="11-2-4-函数中的变量引用"><a href="#11-2-4-函数中的变量引用" class="headerlink" title="11.2.4   函数中的变量引用"></a>11.2.4   函数中的变量引用</h3><h4 id="任务一：变量与数据"><a href="#任务一：变量与数据" class="headerlink" title="任务一：变量与数据"></a><em>任务一：变量与数据</em></h4><p>知识点：函数通过引用传递数据</p><p>变量和数据都是保存在<strong>内存</strong>中的</p><p>在 <strong>Python</strong> 中<strong>函数的参数传递</strong>以及<strong>返回值</strong>都是靠<strong>引用</strong>传递的</p><p>知识点：变量与数据</p><p><strong>变量</strong>和<strong>数据</strong> 是分开存储的</p><p><strong>数据</strong>保存在内存中的一个位置</p><p><strong>变量</strong>中保存着数据在内存中的地址</p><p><strong>变量</strong>中<strong>记录数据的地址</strong>，就叫做<strong>引用</strong></p><p>使用 <strong>id()</strong> 函数可以查看变量中保存数据所在的<strong>内存地址</strong></p><p>知识点：如果变量已经被定义，当给一个变量赋值的时候，本质上是 <strong>修改了数据的引用</strong></p><p>变量<strong>不再</strong>对之前的数据引用</p><p>变量<strong>改为</strong>对新赋值的数据引用</p><h4 id="任务二：数据的赋值"><a href="#任务二：数据的赋值" class="headerlink" title="任务二：数据的赋值"></a><em>任务二：数据的赋值</em></h4><p>在 <strong>Python</strong> 中，变量类似于 贴在<strong>数据</strong>上的<strong>标签</strong></p><p>定义一个整数变量 <strong>a</strong>，并且赋值为 <strong>1</strong>。<strong>a=1</strong></p><p>将变量 <strong>a</strong> 赋值为 <strong>2</strong>。<strong>a = 2</strong></p><p>定义一个整数变量 <strong>b</strong>，并且将变量 <strong>a</strong> 的值赋值给 <strong>b</strong>。<strong>b = a</strong></p><p>变量 <strong>b</strong> 是第 2 个贴在数字 <strong>2</strong> 上的标签</p><h4 id="任务三：函数的参数和返回值的传递"><a href="#任务三：函数的参数和返回值的传递" class="headerlink" title="任务三：函数的参数和返回值的传递"></a><em>任务三：函数的参数和返回值的传递</em></h4><p>知识点：在 <strong>Python</strong> 中，函数的<strong>实参/返回值</strong>都是是靠<strong>引用</strong>来传递来的</p><p><strong>函数的参数是通过引用来传递</strong></p><p><strong>函数的返回值也是通过引用来传递</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">num</span>):</span></span><br><span class="line">   print(<span class="string">&quot;-&quot;</span> * <span class="number">50</span>)</span><br><span class="line">   print(<span class="string">f&quot;<span class="subst">&#123;num&#125;</span> 在函数内的内存地址是 <span class="subst">&#123;<span class="built_in">id</span>(num)&#125;</span>&quot;</span>)</span><br><span class="line">   result = <span class="number">100</span></span><br><span class="line">   print(<span class="string">f&quot;返回值 <span class="subst">&#123;result&#125;</span> 在内存中的地址是 <span class="subst">&#123;<span class="built_in">id</span>(result)&#125;</span>&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;-&quot;</span> * <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span>  result</span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line">print(<span class="string">f&quot;调用函数前 内存地址是 <span class="subst">&#123;<span class="built_in">id</span>(a)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">r = test(a)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&quot;调用函数后 实参内存地址是 <span class="subst">&#123;<span class="built_in">id</span>(a)&#125;</span>&quot;</span>)</span><br><span class="line">print(<span class="string">f&quot;调用函数后 返回值内存地址是 <span class="subst">&#123;<span class="built_in">id</span>(r)&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="11-2-5-不可变类型与哈希函数-重要"><a href="#11-2-5-不可变类型与哈希函数-重要" class="headerlink" title="11.2.5   不可变类型与哈希函数 (重要)"></a>11.2.5   不可变类型与哈希函数 (重要)</h3><h4 id="任务一：基本概念解析"><a href="#任务一：基本概念解析" class="headerlink" title="任务一：基本概念解析"></a><em>任务一：基本概念解析</em></h4><p>知识点：<strong>不可变类型</strong>，内存中的数据<strong>不允许</strong>被修改</p><p>数字类型 <strong>int, bool, float, complex, long(2.x)</strong></p><p>字符串 <strong>str</strong></p><p>元组 <strong>tuple</strong></p><p>知识点：<strong>可变类型</strong>，内存中的数据<strong>可以</strong>被修改</p><p>列表 <strong>list</strong></p><p>字典 <strong>dict</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">a = <span class="string">&quot;hello&quot;</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">a = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure><h4 id="任务二：赋值与可变类型修改"><a href="#任务二：赋值与可变类型修改" class="headerlink" title="任务二：赋值与可变类型修改"></a><em>任务二：赋值与可变类型修改</em></h4><p>知识点：</p><p>初学者很容易将赋值误认为是对变量对应内存内容修改</p><p>通过<strong>赋值</strong>修改变量时，<strong>原内存内容不变</strong>，而内存地址变化。重新把标签贴在另个空间上</p><p>可变类型数据，通过方法修改数据时，<strong>原内存内容变化</strong>，而内存地址不变化</p><h4 id="任务三：列表和字典的修改和赋值"><a href="#任务三：列表和字典的修改和赋值" class="headerlink" title="任务三：列表和字典的修改和赋值"></a><em>任务三：列表和字典的修改和赋值</em></h4><p>知识点：</p><p><strong>可变类型</strong>的数据修改，是通过<strong>方法</strong>来实现的</p><p>如果给一个可变类型的变量，<strong>赋值</strong>了一个新的数据，<strong>引用会修改</strong></p><p>变量<strong>不再</strong>对之前的数据引用。</p><p>变量<strong>改为</strong>对新赋值的数据引用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">demo_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">print(<span class="string">f&quot;定义列表后的内存地址 <span class="subst">&#123;<span class="built_in">id</span>(demo_list)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">demo_list.append(<span class="number">999</span>)</span><br><span class="line">demo_list.pop(<span class="number">0</span>)</span><br><span class="line">demo_list.remove(<span class="number">2</span>)</span><br><span class="line">demo_list[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">print(<span class="string">f&quot;修改数据后的内存地址 <span class="subst">&#123;<span class="built_in">id</span>(demo_list)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">demo_dict = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小明&quot;</span>&#125;</span><br><span class="line">print(<span class="string">f&quot;定义字典后的内存地址 <span class="subst">&#123;<span class="built_in">id</span>(demo_dict)&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">demo_dict[<span class="string">&quot;age&quot;</span>] = <span class="number">18</span></span><br><span class="line">demo_dict.pop(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">demo_dict[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;老王&quot;</span></span><br><span class="line">print(<span class="string">f&quot;修改数据后的内存地址 <span class="subst">&#123;<span class="built_in">id</span>(demo_dict)&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务四：字典的key是不可变类型"><a href="#任务四：字典的key是不可变类型" class="headerlink" title="任务四：字典的key是不可变类型"></a><em>任务四：字典的key是不可变类型</em></h4><p>知识点：字典的 <strong>key 只能使用不可变类型的数据</strong></p><p><strong>允许</strong>：不可变类型可以作为<strong>key</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;&#125;</span><br><span class="line">d[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;xiaoming&quot;</span></span><br><span class="line">print(d)</span><br><span class="line"></span><br><span class="line">d[<span class="number">1</span>] = <span class="string">&quot;整数&quot;</span></span><br><span class="line">print(d)</span><br><span class="line"></span><br><span class="line">d[(<span class="number">1</span>,)] = <span class="string">&quot;元组&quot;</span></span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure><p><strong>不允许</strong>：可变类型不可以作为<strong>key</strong>。<strong>TypeError:unhashable type</strong>错误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] = <span class="string">&quot;列表&quot;</span></span><br><span class="line">print(d)</span><br><span class="line"></span><br><span class="line">d[&#123;<span class="string">&quot;n&quot;</span>:<span class="string">&quot;xxx&quot;</span>&#125;] = <span class="string">&quot;字典&quot;</span></span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure><h4 id="任务五：认识哈希函数"><a href="#任务五：认识哈希函数" class="headerlink" title="任务五：认识哈希函数"></a><em>任务五：认识哈希函数</em></h4><p>知识点：哈希 <strong>(hash)</strong></p><p><strong>Python</strong> 中内置有一个名字叫做 <strong>hash(o)</strong> 的函数</p><p>参数：接收一个<strong>不可变类型</strong>的数据作为<strong>参数</strong></p><p>返回：一个<strong>整数</strong></p><p><strong>哈希</strong> 是一种<strong>算法</strong>，其作用就是提取数据的<strong>特征码(指纹)</strong></p><p><strong>相同的内容</strong>得到<strong>相同的结果</strong></p><p><strong>不同的内容</strong>得到<strong>不同的结果</strong></p><p>在<strong>Python</strong>中，设置字典的<strong>键值对</strong>时，会首先对<strong>key</strong>进行 <strong>hash</strong> 来决定如何在内存中保存字典的数据，以便<strong>后续</strong>对字典的操作：<strong>增、删、改、查</strong></p><p>键值对的 <strong>key</strong> 必须是不可变类型数据</p><p>键值对的 <strong>value</strong> 可以是任意类型的数据</p><p><strong>允许</strong>：不可变类型可以用hash函数生成它的特征码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">h = <span class="built_in">hash</span>(<span class="number">1</span>)</span><br><span class="line">print(h)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 传入相同的数据，hash值永远一样</span></span><br><span class="line">h = <span class="built_in">hash</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">print(h)</span><br><span class="line"></span><br><span class="line">h = <span class="built_in">hash</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">print(h)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据稍微变化，hash值变化很大</span></span><br><span class="line">h = <span class="built_in">hash</span>(<span class="string">&quot;hello1&quot;</span>)</span><br><span class="line">print(h)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 元组是不可变类型</span></span><br><span class="line"><span class="comment"># hash函数生成元组数据特征码</span></span><br><span class="line">h = <span class="built_in">hash</span>((<span class="number">1</span>,))</span><br><span class="line">print(h)</span><br></pre></td></tr></table></figure><p><strong>不允许</strong>：可变类型不可以用hash函数生成它的特征码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表是可变类型</span></span><br><span class="line"><span class="comment"># unhashable type</span></span><br><span class="line">h = <span class="built_in">hash</span>([<span class="number">1</span>])</span><br><span class="line">print(h)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字典是可变类型</span></span><br><span class="line"><span class="comment"># unhashable type</span></span><br><span class="line">h = <span class="built_in">hash</span>(&#123;&#125;)</span><br><span class="line">print(h)</span><br></pre></td></tr></table></figure><h3 id="11-2-6-递归函数"><a href="#11-2-6-递归函数" class="headerlink" title="11.2.6   递归函数"></a>11.2.6   递归函数</h3><h4 id="任务一：递归函数的定义"><a href="#任务一：递归函数的定义" class="headerlink" title="任务一：递归函数的定义"></a><em>任务一：递归函数的定义</em></h4><p>知识点：</p><p>在函数体内部，可以调用其他函数也可以调用自己。将函数调用自身的<strong>编程技巧</strong>称为<strong>递归</strong></p><p>递归函数的特点：</p><ul><li><p>函数内部的<strong>代码</strong>是相同的，只是针对<strong>参数</strong>不同，<strong>处理的结果不同</strong></p></li><li><p>当<strong>参数满足递归终止条件</strong>时，函数不再执行。<strong>这个非常重要</strong>，通常被称为递归的出口，否则<strong>会出现死循环</strong></p></li></ul><p>例子：递归函数实现倒计时程序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_numbers</span>(<span class="params">num</span>):</span></span><br><span class="line">   print(num)    </span><br><span class="line">   <span class="comment"># 递归的出口很重要，否则会出现死循环</span></span><br><span class="line">   <span class="keyword">if</span> num == <span class="number">1</span>:</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment"># 当不满足终止条件，则进入递归</span></span><br><span class="line">   sum_numbers(num - <span class="number">1</span>)</span><br><span class="line">   </span><br><span class="line">sum_numbers(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><h4 id="实例：递归实现计算数字累加"><a href="#实例：递归实现计算数字累加" class="headerlink" title="实例：递归实现计算数字累加"></a>实例：递归实现计算数字累加</h4><p>需求分析：</p><p>定义一个函数 <strong>sum_numbers</strong></p><p>能够接收一个 <strong>num</strong> 的整数参数</p><p>计算 1 + 2 + … num的结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义一个函数 sum_numbers</span></span><br><span class="line"><span class="comment"># 能够接收一个 num 的整数参数</span></span><br><span class="line"><span class="comment"># 计算 1 + 2 + ... num 的结果</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_numbers</span>(<span class="params">num</span>):</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 1. 出口</span></span><br><span class="line">   <span class="keyword">if</span> num == <span class="number">1</span>:</span><br><span class="line">       <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 2. 数字的累加 num + (1...num -1)</span></span><br><span class="line">   <span class="comment"># 假设 sum_numbers 能够正确的处理 1...num - 1</span></span><br><span class="line">   temp = sum_numbers(num - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 两个数字的相加</span></span><br><span class="line">   <span class="keyword">return</span> num + temp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result = sum_numbers(<span class="number">100</span>)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure><p>提示：</p><p>递归是一个<strong>编程技巧</strong>，初次接触递归会感觉有些吃力</p><p>建议先想好<strong>递归通项</strong>和<strong>递归出口条件</strong>，然后再编写递归函数</p><p>在处理<strong>不确定的循环条件时</strong>，格外的有用，例如：<strong>遍历整个文件目录的结构</strong></p><p>递归可以等价看作是<strong>while</strong>循环+函数的流程结构</p><h3 id="11-2-7-匿名函数lambda"><a href="#11-2-7-匿名函数lambda" class="headerlink" title="11.2.7   匿名函数lambda"></a>11.2.7   匿名函数lambda</h3><h3 id="11-2-8-eval-函数"><a href="#11-2-8-eval-函数" class="headerlink" title="11.2.8   eval()函数"></a>11.2.8   eval()函数</h3><h4 id="任务一：eval-函数基本用法"><a href="#任务一：eval-函数基本用法" class="headerlink" title="任务一：eval()函数基本用法"></a><em>任务一：eval()函数基本用法</em></h4><p>知识点：<strong>eval()<strong>函数十分强大，它</strong>将字符串</strong>当成<strong>有效的表达式</strong>来求值 并<strong>返回计算结果</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基本的数学计算</span></span><br><span class="line"><span class="comment"># Out: 2</span></span><br><span class="line">print(<span class="built_in">eval</span>(<span class="string">&quot;1 + 1&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串重复</span></span><br><span class="line"><span class="comment"># Out: &#x27;**********&#x27;</span></span><br><span class="line">print(<span class="built_in">eval</span>(<span class="string">&quot;&#x27;*&#x27; * 10&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将字符串转换成列表</span></span><br><span class="line"><span class="comment"># Out: list</span></span><br><span class="line">print(<span class="built_in">type</span>(<span class="built_in">eval</span>(<span class="string">&quot;[1, 2, 3, 4, 5]&quot;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将字符串转换成字典</span></span><br><span class="line"><span class="comment"># Out: dict</span></span><br><span class="line">print(<span class="built_in">type</span>(<span class="built_in">eval</span>(<span class="string">&quot;&#123;&#x27;name&#x27;: &#x27;xiaoming&#x27;, &#x27;age&#x27;: 18&#125;&quot;</span>)))</span><br></pre></td></tr></table></figure><h4 id="任务二：使用eval-函数实现计算器功能"><a href="#任务二：使用eval-函数实现计算器功能" class="headerlink" title="任务二：使用eval()函数实现计算器功能"></a><em>任务二：使用eval()函数实现计算器功能</em></h4><p><strong>需求分析</strong>：</p><p>提示用户输入一个 <strong>加减乘除混合运算</strong></p><p>返回计算结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input_str = <span class="built_in">input</span>(<span class="string">&quot;请输入一个算术题：&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">eval</span>(input_str))</span><br></pre></td></tr></table></figure><h4 id="任务三：-eval-函数的危险性"><a href="#任务三：-eval-函数的危险性" class="headerlink" title="任务三： eval()函数的危险性"></a><em>任务三： eval()函数的危险性</em></h4><p>危险：</p><p>在开发时千万不要使用**eval()**直接转换 <strong>input</strong> 的结果</p><p>用户就可以控制计算机做任何事情</p><p>主要的原因是因为用户可以通过<strong>eval()<strong>函数间接的执行各种</strong>终端指令</strong></p><p> <strong>eval()<strong>函数执行</strong>终端指令</strong>来对计算机进行各种操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).system(<span class="string">&#x27;ls&#x27;</span>)</span><br></pre></td></tr></table></figure><p>等价代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.system(<span class="string">&quot;ls&quot;</span>)</span><br></pre></td></tr></table></figure><p>执行成功，返回 0</p><p>执行失败，返回错误信息</p><h2 id="11-3-局部变量和全局变量"><a href="#11-3-局部变量和全局变量" class="headerlink" title="11.3   局部变量和全局变量"></a>11.3   局部变量和全局变量</h2><h3 id="11-3-1-局部变量"><a href="#11-3-1-局部变量" class="headerlink" title="11.3.1   局部变量"></a>11.3.1   局部变量</h3><h4 id="任务一：局部变量和全局变量的基本概念"><a href="#任务一：局部变量和全局变量的基本概念" class="headerlink" title="任务一：局部变量和全局变量的基本概念"></a><em>任务一：局部变量和全局变量的基本概念</em></h4><p>知识点：</p><p><strong>局部变量</strong>是在<strong>函数内部定义</strong>的变量，<strong>只能在函数内部使用</strong></p><p><strong>全局变量</strong>是在<strong>函数外部定义</strong>的变量(<strong>没有定义在函数内</strong>)，<strong>所有函数</strong>内部<strong>都可以使用这个变量</strong></p><p>区别：</p><ul><li><p>局部变量和全局变量的<strong>定义位置</strong>不一样</p></li><li><p>局部变量和全局变量的<strong>作用域</strong>范围不一样</p></li><li><p>全局变量一般用于在所有函数中共享全局信息。由于作用域范围太大，<strong>开发中慎用全局变量</strong>。如果全局变量出现错误，那么程序的错误调试将会变得非常复杂</p></li></ul><h4 id="任务二：认识局部变量"><a href="#任务二：认识局部变量" class="headerlink" title="任务二：认识局部变量"></a><em>任务二：认识局部变量</em></h4><p>知识点：</p><p><strong>局部变量</strong>是在<strong>函数内部</strong>定义的变量，<strong>只能在函数内部使用</strong></p><p>作用域范围：函数执行结束后，<strong>函数内部的局部变量，会被系统回收</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo1</span>():</span></span><br><span class="line">   <span class="comment"># 局部变量出生：定义局部变量时，才会被创建    </span></span><br><span class="line">   num = <span class="number">10</span></span><br><span class="line">   print(<span class="string">f&quot;在demo1函数内部的变量是<span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line">   <span class="comment"># 局部变量死亡：函数执行完成之后</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo2</span>():</span>  </span><br><span class="line">   num = <span class="number">99</span></span><br><span class="line">   <span class="comment"># 此num和demo1相互独立无关</span></span><br><span class="line">   print(<span class="string">f&quot;demo2 ==&gt; <span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line">   <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在函数内部定义的变量，不能在其他位置使用</span></span><br><span class="line"><span class="comment"># print(f&quot;&#123;num&#125;&quot;)</span></span><br><span class="line"></span><br><span class="line">demo1()</span><br><span class="line">demo2()</span><br></pre></td></tr></table></figure><h4 id="局部变量的生命周期-重要"><a href="#局部变量的生命周期-重要" class="headerlink" title="局部变量的生命周期(重要)"></a>局部变量的生命周期(重要)</h4><p>知识点：</p><p>所谓<strong>生命周期</strong>就是变量从<strong>被创建</strong>到<strong>被系统回收</strong>的过程。</p><p>出生：<strong>局部变量</strong>在<strong>函数执行时</strong>才会被创建。定义变量时被创建。</p><p>消亡：<strong>函数执行结束后</strong>局部变量<strong>被系统回收</strong>。函数<strong>return</strong>或执行所有代码时，变量消亡。</p><p><strong>在生命周期</strong>内，局部变量可以用来存储<strong>函数内部临时使用到的数据</strong></p><h4 id="任务三：不同函数中的局部变量相互不影响"><a href="#任务三：不同函数中的局部变量相互不影响" class="headerlink" title="任务三：不同函数中的局部变量相互不影响"></a><em>任务三：不同函数中的局部变量相互不影响</em></h4><p>知识点：</p><p><strong>不同的函数</strong>可以定义相同的名字的局部变量，但是<strong>彼此之间</strong>不会产生影响。</p><p>在函数内部使用，局部变量用于<strong>临时</strong>保存<strong>函数内部需要使用的数据</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo1</span>():</span></span><br><span class="line">   <span class="comment"># 局部变量出生：定义局部变量时，才会被创建    </span></span><br><span class="line">   num = <span class="number">10</span></span><br><span class="line">   print(<span class="string">f&quot;在demo1函数内部的变量是<span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line">   <span class="comment"># 局部变量死亡：函数执行完成之后</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo2</span>():</span>  </span><br><span class="line">   <span class="comment"># num = 99</span></span><br><span class="line">   <span class="comment"># 由于局部变量相互独立，此num和demo1相互独立无关</span></span><br><span class="line">   print(<span class="string">f&quot;demo2 ==&gt; <span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">demo1()</span><br><span class="line">demo2()</span><br></pre></td></tr></table></figure><h3 id="11-3-2-全局变量"><a href="#11-3-2-全局变量" class="headerlink" title="11.3.2   全局变量"></a>11.3.2   全局变量</h3><h4 id="任务一：认识全局变量"><a href="#任务一：认识全局变量" class="headerlink" title="任务一：认识全局变量"></a><em>任务一：认识全局变量</em></h4><p>知识点：</p><p><strong>全局变量</strong>是在<strong>函数外部定义</strong>的变量</p><p>作用域是整个程序，即所有函数内部都可以使用该变量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义一个全局变量</span></span><br><span class="line">num = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo1</span>():</span>    </span><br><span class="line">   <span class="comment"># 函数内部可以使用全局变量num</span></span><br><span class="line">   print(<span class="string">f&quot;demo1 ==&gt; <span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo2</span>():</span>    </span><br><span class="line">   <span class="comment"># 函数内部可以使用全局变量num</span></span><br><span class="line">   print(<span class="string">f&quot;demo2 ==&gt; <span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">demo1()</span><br><span class="line">demo2()</span><br><span class="line">print(<span class="string">&quot;over&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：PyCharm单步调试解析全局变量"><a href="#任务二：PyCharm单步调试解析全局变量" class="headerlink" title="任务二：PyCharm单步调试解析全局变量"></a><em>任务二：PyCharm单步调试解析全局变量</em></h4><p>知识点：</p><p>使用PyCharm调试功能，查看定义在函数和模块中的变量</p><p><strong>注意</strong>：一个python源文件或主程序可以看作是一个模块</p><p>在模块中，可以定义多个函数和变量</p><p>在模块中定义的变量，相对于函数来说是全局变量。换言之，模块中的变量级别和函数是相同的</p><h4 id="任务三：函数内部不能直接修改-全局变量的引用"><a href="#任务三：函数内部不能直接修改-全局变量的引用" class="headerlink" title="任务三：函数内部不能直接修改 全局变量的引用"></a><em>任务三：函数内部不能直接修改 全局变量的引用</em></h4><p>知识点：</p><p><strong>全局变量</strong>：在<strong>函数外部定义</strong>的变量，与函数同一个级别。因此，<strong>所有函数</strong>内部<strong>都可以使用这个变量</strong></p><p>虽然要慎用全局变量，但是它可以在各函数中，共享数据信息。所以，对某些需要共享数据的程序开发，使用全局变量会带来很大的便利，可以减少参数个数</p><p>全局变量的<strong>只读属性</strong>，为了防止修改全局变量而影响其他函数的运行：</p><blockquote><ul><li><p>在函数中，可以<strong>通过全局变量的引用获取对应的数据</strong></p></li><li><p>但是Python<strong>不允许直接修改全局变量的引用</strong> ，即不能通过赋值语句来修改全局变量的值</p></li></ul></blockquote><p>知识点：在函数中，如果<strong>使用赋值语句尝试着来修改全局变量值</strong>，会发生什么事情</p><p>本质上，Python会定义一个新的<strong>和全局变量同名</strong>的局部变量</p><p>因此，在对该变量赋值，本质上是对同名的局部变量进行修改，并<strong>不影响原全局变量的值</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo1</span>():</span></span><br><span class="line">   print(<span class="string">&quot;demo1&quot;</span> + <span class="string">&quot;-&quot;</span> * <span class="number">50</span>)</span><br><span class="line">   <span class="comment"># 只是定义了一个局部变量，不会修改到全局变量，只是变量名相同而已</span></span><br><span class="line">   num = <span class="number">100</span></span><br><span class="line">   print(num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo2</span>():</span></span><br><span class="line">   print(<span class="string">&quot;demo2&quot;</span> + <span class="string">&quot;-&quot;</span> * <span class="number">50</span>)</span><br><span class="line">   print(num)</span><br><span class="line"></span><br><span class="line">demo1()</span><br><span class="line">demo2()</span><br><span class="line">print(<span class="string">&quot;over&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务四：函数变量查找过程的深度解析"><a href="#任务四：函数变量查找过程的深度解析" class="headerlink" title="任务四：函数变量查找过程的深度解析"></a><em>任务四：函数变量查找过程的深度解析</em></h4><p>知识点：函数执行时，<strong>需要处理变量时</strong> 会：</p><p><strong>首先</strong>查找<strong>函数内部</strong>是否存在<strong>指定名称的局部变量</strong>，<strong>如果有，直接使用</strong>。</p><p>如果没有，查找<strong>函数外部</strong>是否存在<strong>指定名称 的全局变量</strong>，<strong>如果有，直接使用</strong>。</p><p>如果还没有，程序报错</p><h4 id="任务五：global-关键字开启全局变量修改权限"><a href="#任务五：global-关键字开启全局变量修改权限" class="headerlink" title="任务五：global 关键字开启全局变量修改权限"></a><em>任务五：global 关键字开启全局变量修改权限</em></h4><p>知识点：</p><p>在函数中需要修改全局变量，需要使用 <strong>global</strong> 关键字来进行声明</p><p>通过 <strong>global</strong> 关键字<strong>开启全局变量修改权限</strong></p><p>如果修改没有 <strong>global</strong> 前缀的全局变量，函数会新建一个同名的局部变量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局变量</span></span><br><span class="line">num = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo1</span>():</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 希望修改全局变量的值 - 使用 global 声明一下变量即可</span></span><br><span class="line">   <span class="comment"># global 关键字会告诉解释器后面的变量是一个全局变量</span></span><br><span class="line">   <span class="comment"># 再使用赋值语句时，就不会创建局部变量</span></span><br><span class="line">   <span class="keyword">global</span> num</span><br><span class="line">   num = <span class="number">99</span></span><br><span class="line">   print(<span class="string">f&quot;demo1 ==&gt; <span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo2</span>():</span></span><br><span class="line">   print(<span class="string">f&quot;demo2 ==&gt; <span class="subst">&#123;num&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">demo1()</span><br><span class="line">demo2()</span><br></pre></td></tr></table></figure><h4 id="任务六：全局变量定义的位置"><a href="#任务六：全局变量定义的位置" class="headerlink" title="任务六：全局变量定义的位置"></a><em>任务六：全局变量定义的位置</em></h4><p>知识点：</p><p>全局变量可以定义在函数定义之后</p><p>全局变量必须要<strong>在函数调用之前被定义</strong>，否则会引发异常</p><p>在Python程序运行中，程序遇到函数定义时<strong>会被跳过</strong>，而真正的函数代码执行会发生在函数调用</p><p>因此，为了保障函数能够正确使用全局变量，建议<strong>将全局变量定义在函数定义之前</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注意：在开发时，应该把模块中的所有全局变量</span></span><br><span class="line"><span class="comment"># 定义在所有函数上方，就可以保证所有的函数</span></span><br><span class="line"><span class="comment"># 都能够正常的访问到每一个全局变量了</span></span><br><span class="line">num = <span class="number">10</span></span><br><span class="line"><span class="comment"># 再定义一个全局变量</span></span><br><span class="line">title = <span class="string">&quot;编程爱好者&quot;</span></span><br><span class="line"><span class="comment"># 再定义一个全局变量</span></span><br><span class="line">name = <span class="string">&quot;小明&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>():</span></span><br><span class="line"></span><br><span class="line">   print(num)</span><br><span class="line">   print(title)</span><br><span class="line">   print(name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在函数调用之前定义全局变量，不会异常</span></span><br><span class="line"><span class="comment"># title = &quot;编程爱好者&quot;</span></span><br><span class="line"></span><br><span class="line">demo()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 由于全局变量，是在调用函数之后，才定义的。</span></span><br><span class="line"><span class="comment"># 在执行函数时，变量还没有定义，所以程序会报错！</span></span><br><span class="line"><span class="comment"># name = &quot;小明&quot;</span></span><br></pre></td></tr></table></figure><p>常用的代码结构规范如下图。关于<strong>shebang</strong>或**#!<strong>标识，属于Linux的</strong>shell**编程，有兴趣可以课外查阅相关资料</p><h4 id="任务七：全局变量命名规范"><a href="#任务七：全局变量命名规范" class="headerlink" title="任务七：全局变量命名规范"></a><em>任务七：全局变量命名规范</em></h4><p>知识点：为了避免局部变量和全局变量出现混淆，在定义全局变量时，变量名前应该增加 <strong>g_</strong> 或者 <strong>gl_</strong> 的前缀</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">gl_num = <span class="number">10</span></span><br><span class="line"><span class="comment"># 再定义一个全局变量</span></span><br><span class="line">gl_title = <span class="string">&quot;编程爱好者&quot;</span></span><br><span class="line"><span class="comment"># 再定义一个全局变量</span></span><br><span class="line">gl_name = <span class="string">&quot;小明&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>():</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 如果局部变量的名字和全局变量的名字相同</span></span><br><span class="line">   <span class="comment"># pycharm会在局部变量下方显示一个灰色的虚线</span></span><br><span class="line">   num = <span class="number">99</span></span><br><span class="line">   <span class="comment"># 这里的num是局部变量</span></span><br><span class="line">   print(num)</span><br><span class="line">   </span><br><span class="line">   print(gl_title)</span><br><span class="line">   print(gl_name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # 再定义一个全局变量</span></span><br><span class="line"><span class="comment"># title = &quot;编程爱好者&quot;</span></span><br><span class="line"></span><br><span class="line">demo()</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/%E7%AC%AC11%E7%AB%A0%20%E5%87%BD%E6%95%B0%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%8E%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95.png&quot; alt=&quot;第11章 函数：返回值与进阶用法&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记10</title>
    <link href="http://waxll.top/2021/06/17/py10.html"/>
    <id>http://waxll.top/2021/06/17/py10.html</id>
    <published>2021-06-16T16:37:58.000Z</published>
    <updated>2021-06-16T16:39:37.775Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210531124833272.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210531124833272.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210531124833272"></p><span id="more"></span><h1 id="第十章-函数：定义与参数"><a href="#第十章-函数：定义与参数" class="headerlink" title="第十章   函数：定义与参数"></a>第十章   函数：定义与参数</h1><h2 id="10-1-函数的定义"><a href="#10-1-函数的定义" class="headerlink" title="10.1   函数的定义"></a>10.1   函数的定义</h2><h3 id="10-1-1-为何需要函数？"><a href="#10-1-1-为何需要函数？" class="headerlink" title="10.1.1   为何需要函数？"></a>10.1.1   为何需要函数？</h3><h4 id="任务一：函数的需求分析"><a href="#任务一：函数的需求分析" class="headerlink" title="任务一：函数的需求分析"></a><em>任务一：函数的需求分析</em></h4><p>函数的需求分析：</p><p>代码的组织<strong>结构不清晰</strong>，可读性差</p><p>遇到重复的功能只能重复编写实现相同的代码，<strong>冗余度大</strong></p><p>对某个功能需要扩展时，需要找出所有实现该功能的程序修改之，无法统一管理，且<strong>后期更新难度极大</strong></p><p>因此，需要通过某种方式，对需要重复使用的代码进行<strong>有组织的打包</strong>，便于其他地方使用和统一维护管理。为满足以上需求，在计算机程序中，通过一种称之为<strong>函数</strong>的编程技术来实现代码复用功能</p><p>知识点：</p><p>所谓<strong>函数</strong>，就是把<strong>具有独立功能的代码块</strong>组织(<strong>封装</strong>)为一个功能模块中；之后遇到类似的需求，直接使用(<strong>调用</strong>)，而不再需要重复编写</p><p>函数包含两个步骤：</p><p><strong>定义</strong>函数：将代码块<strong>封装</strong>为功能独立的代码块</p><p><strong>调用</strong>函数：站在巨人肩膀上，拿来主义，不需要了解函数具体实现细节，享受<strong>封装</strong>成果</p><p><strong>函数的作用</strong>：在开发程序时，使用函数可以提高编写的效率以及代码的<strong>重用</strong></p><p>函数相关的术语：封装、重用、调用</p><h3 id="10-1-2-体验函数功能"><a href="#10-1-2-体验函数功能" class="headerlink" title="10.1.2   体验函数功能"></a>10.1.2   体验函数功能</h3><h4 id="任务一：体验函数功能"><a href="#任务一：体验函数功能" class="headerlink" title="任务一：体验函数功能"></a><em>任务一：体验函数功能</em></h4><p>目标：</p><p>创建一个python源代码(<strong>.py</strong>)，用于独立管理函数</p><p>在主程序中，通过<strong>import</strong>导入函数，并调用函数</p><p>步骤一：在Jupyter中，<strong>New-&gt;Text File</strong>，新建Python源代码(<strong>非notebook源代码</strong>)，<strong>File-&gt;Rename</strong>重命名为<strong>multiple99.py</strong>，然后将下面的九九乘法表代码复制</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义起始行</span></span><br><span class="line">row = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最大打印 9 行</span></span><br><span class="line"><span class="keyword">while</span> row &lt;= <span class="number">9</span>:</span><br><span class="line">   <span class="comment"># 定义起始列</span></span><br><span class="line">   col = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 最大打印 row 列</span></span><br><span class="line">   <span class="keyword">while</span> col &lt;= row:</span><br><span class="line">       <span class="comment"># end = &quot;&quot;，表示输出结束后，不换行</span></span><br><span class="line">       <span class="comment"># &quot;\t&quot; 可以在控制台输出一个制表符，协助在输出文本时对齐</span></span><br><span class="line">       <span class="comment"># f-string方式，相对%输出更简洁</span></span><br><span class="line">       print(<span class="string">f&quot;<span class="subst">&#123;col&#125;</span> * <span class="subst">&#123;row&#125;</span> = <span class="subst">&#123;row * col&#125;</span>&quot;</span>, end=<span class="string">&quot;\t&quot;</span>)</span><br><span class="line"></span><br><span class="line">       <span class="comment"># 列数 + 1</span></span><br><span class="line">       col += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 一行打印完成的换行</span></span><br><span class="line">   print(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 行数 + 1</span></span><br><span class="line">   row += <span class="number">1</span></span><br></pre></td></tr></table></figure><p>步骤二：<strong>根据视频的第3步</strong>，将python源代码，定义为一个函数<strong>def multiple_table():<strong>，然后将上面代码通过缩进方式(选中按</strong>Tab</strong>键)，转化为函数体语句块。保存<strong>Ctrl+S</strong>并退出</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiple_table</span>():</span></span><br><span class="line">   <span class="comment"># 定义起始行</span></span><br><span class="line">   row = <span class="number">1</span></span><br><span class="line">   .....</span><br></pre></td></tr></table></figure><p>步骤三：在Jupyter notebook中，添加一个<strong>cell</strong>，通过<strong>import multiple99</strong>导入函数模块，并在<strong>cell</strong>中调用函数，打印输出结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiple</span><br><span class="line">multiple.multiple_table()</span><br></pre></td></tr></table></figure><h3 id="10-1-3-函数的定义"><a href="#10-1-3-函数的定义" class="headerlink" title="10.1.3   函数的定义"></a>10.1.3   函数的定义</h3><h4 id="任务一：函数的定义"><a href="#任务一：函数的定义" class="headerlink" title="任务一：函数的定义"></a><em>任务一：函数的定义</em></h4><p>函数的定义格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_name</span>():</span></span><br><span class="line">   函数封装的代码</span><br><span class="line">   ……</span><br></pre></td></tr></table></figure><p><strong>def</strong> 是英文 <strong>define</strong> 的缩写。python函数定义关键字</p><p><strong>fun_name</strong>：<strong>函数名称</strong>。建议使用<strong>有意义的命名</strong>，能够明确表达<strong>函数封装代码</strong>的功能，便于后续调用</p><p>函数名之后的括号里用于<strong>传递</strong>函数的参数。可以为空参数，也可以为通过,分割的多个参数</p><p>:，指明后续跟着的是<strong>函数体(缩进语句块)</strong></p><p><strong>函数命名规则</strong>类似于变量的命名：</p><p>可以由<strong>字母</strong>、<strong>下划线</strong> 和 <strong>数字</strong>组成</p><p><strong>不能以数字开头</strong></p><p><strong>不能与关键字重名</strong></p><p>下面例子为一个简单的函数定义</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greet_user</span>():</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示简单的问候语&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">&quot;Hello!&quot;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p><strong>def greet_user():<strong>。使用关键字</strong>def</strong>来定义<strong>函数</strong>，函数名为<strong>greet_user()</strong></p><p>紧跟在<strong>def greet_user():<strong>后面的</strong>所有缩进行构成了函数体</strong></p><p>第2行<strong>注释</strong>被称为<strong>文档字符串(docstring)<strong>，用于描述函数的功能。文档字符串用</strong>三引号</strong>括起，Python使用它们来生成函数帮助文档</p><p>代码行<strong>print(“Hello!”)<strong>是函数体内的唯一一行代码，</strong>greet_user()<strong>只做一项工作：打印</strong>Hello!</strong></p><h4 id="任务二：函数的调用"><a href="#任务二：函数的调用" class="headerlink" title="任务二：函数的调用"></a><em>任务二：函数的调用</em></h4><p>知识点：</p><p>定义好函数之后，只表示这个函数封装了一段代码而已如果不主动调用函数，<strong>函数是不会主动执行的</strong></p><p>调用函数：需要在程序中，通过 <strong>fun_name()</strong> 即可完成对函数的调用</p><p>例如，Jupyter中，新建一个cell，然后添加下面代码，用于调用之前定义的函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greet_user()</span><br></pre></td></tr></table></figure><h4 id="任务三：函数演练"><a href="#任务三：函数演练" class="headerlink" title="任务三：函数演练"></a><em>任务三：函数演练</em></h4><p>需求分析：</p><p>编写一个打招呼 <strong>say_hello</strong> 的函数，封装三行打招呼的代码</p><p>在函数下方调用打招呼的代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;小明&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解释器知道这里定义了一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say_hello</span>():</span></span><br><span class="line">   print(<span class="string">&quot;hello 1&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;hello 2&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;hello 3&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(name)</span><br><span class="line"><span class="comment"># 只有在调用函数时，之前定义的函数才会被执行</span></span><br><span class="line"><span class="comment"># 函数执行完成之后，会重新回到之前的程序中，继续执行后续的代码</span></span><br><span class="line">say_hello()</span><br><span class="line"></span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure><h4 id="任务四：函数调用流程分析"><a href="#任务四：函数调用流程分析" class="headerlink" title="任务四：函数调用流程分析"></a><em>任务四：函数调用流程分析</em></h4><h4 id="任务五：函数调用能否放函数定义之前？"><a href="#任务五：函数调用能否放函数定义之前？" class="headerlink" title="任务五：函数调用能否放函数定义之前？"></a><em>任务五：函数调用能否放函数定义之前？</em></h4><p>知识点：函数的定义和调用顺序关系</p><p>函数调用是<strong>不能</strong>放函数定义之前</p><p>因为在 <strong>使用函数名</strong>调用函数之前，必须要保证 <strong>Python</strong> 已经知道函数的存在</p><p>否则控制台会提示 <strong>NameError: name ‘say_hello’ is not defined (名称错误：say_hello 这个名字没有被定义)</strong></p><h4 id="任务六：函数的文档注释"><a href="#任务六：函数的文档注释" class="headerlink" title="任务六：函数的文档注释"></a><em>任务六：函数的文档注释</em></h4><p>知识点：</p><p>函数注释是为了协助开发者(其他人调用函数)能快速掌握函数的调用方式：</p><p>函数的功能</p><p>函数的参数说明</p><p>函数的返回</p><p>在开发中，如果希望给函数添加注释，应该在<strong>定义函数</strong>的下方，使用<strong>连续的三对引号</strong>。然后在<strong>连续的三对引号</strong>之间编写对函数的说明文字</p><p>在<strong>函数调用</strong>位置，PyCharm中使用快捷键 <strong>CTRL + Q</strong> 可以查看函数的说明信息；Jupyter中使用快捷键<strong>Shift+Tab</strong></p><p>注意：由于<strong>函数体相对比较独立</strong>，因此在<strong>函数定义的上方</strong>，应该和其他代码(包括注释)保留<strong>两个空行</strong></p><h2 id="10-2-函数的参数"><a href="#10-2-函数的参数" class="headerlink" title="10.2   函数的参数"></a>10.2   函数的参数</h2><h3 id="10-2-1-向函数传递信息：参数"><a href="#10-2-1-向函数传递信息：参数" class="headerlink" title="10.2.1   向函数传递信息：参数"></a>10.2.1   向函数传递信息：参数</h3><h4 id="任务一：需求分析"><a href="#任务一：需求分析" class="headerlink" title="任务一：需求分析"></a><em>任务一：需求分析</em></h4><p>下面将通过一个两数求和函数，来说明<strong>向函数传递参数</strong>的必要性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_2_num</span>():</span>  </span><br><span class="line">   num1 = <span class="number">10</span></span><br><span class="line">   num2 = <span class="number">20</span></span><br><span class="line">   result = num1 + num2    </span><br><span class="line">   print(<span class="string">f&quot;<span class="subst">&#123;num1&#125;</span> + <span class="subst">&#123;num2&#125;</span> = <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br><span class="line">   </span><br><span class="line">sum_2_num()</span><br></pre></td></tr></table></figure><p>思考：</p><p>虽然**sum_2_num()**函数实现了两个数的相加，但是该函数功能非常局限</p><p>因为两个相加的值<strong>num1</strong>和<strong>num2</strong>直接被<strong>固定</strong>在函数体中</p><p>如果能将需要计算的数字，<strong>在调用函数时，传递到函数内部</strong>就好了</p><p>为满足此需求，函数在设计时，可以<strong>通过参数向函数传递必要的信息</strong></p><h4 id="任务二：向函数传递参数"><a href="#任务二：向函数传递参数" class="headerlink" title="任务二：向函数传递参数"></a><em>任务二：向函数传递参数</em></h4><p>知识点：函数参数语法</p><p>在函数名的后面的小括号内部填写函数的<strong>参数</strong></p><p>多个参数之间使用 <strong>,</strong> 分隔</p><p>例子1：求和计算函数，传递两个参数，需要计算的数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_2_num</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">   result = num1 + num2    </span><br><span class="line">   print(<span class="string">f&quot;<span class="subst">&#123;num1&#125;</span> + <span class="subst">&#123;num2&#125;</span> = <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">sum_2_num(<span class="number">50</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>例子2：欢迎语打印函数，传递一个参数，用户名</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greet_user</span>(<span class="params">username</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示简单的问候语&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">&quot;Hello, &quot;</span> + username.title() + <span class="string">&quot;!&quot;</span>)</span><br><span class="line"></span><br><span class="line">greet_user(<span class="string">&#x27;jesse&#x27;</span>)</span><br></pre></td></tr></table></figure><p>程序分析：</p><p>在<strong>函数声明</strong>时，**def greet_user()<strong>的括号内添加</strong>username(形参)**，向函数传递参数</p><p>在<strong>函数调用</strong>时，需要外部程序向函数传递具体的值(<strong>实参</strong>)给<strong>username</strong>参数</p><h3 id="10-2-2-重要-实参与形参"><a href="#10-2-2-重要-实参与形参" class="headerlink" title="10.2.2   (重要) 实参与形参"></a>10.2.2   (重要) 实参与形参</h3><h4 id="任务一：参数的作用"><a href="#任务一：参数的作用" class="headerlink" title="任务一：参数的作用"></a><em>任务一：参数的作用</em></h4><p>知识点：</p><p>如果把函数比喻成一台<strong>机器</strong>，那么<strong>参数</strong>就是原材料，<strong>返回值</strong>就是最终产品</p><p>从一定程度上讲，<strong>函数的作用</strong>就是根据不同的参数产生不同的返回值</p><p>知识点：<strong>函数参数</strong>，极大的提高了函数的<strong>通用性</strong>。在函数定义时，对具体的数据使用参数来<strong>抽象</strong>，那么在设计函数时，只需关注函数本身的<strong>业务逻辑和流程处理</strong></p><p>在<strong>函数定义</strong>时，把参数(<strong>形参</strong>)当做<strong>变量</strong>使用，重点围绕参数展开函数功能设计和数据计算处理</p><p>在<strong>函数调用</strong>时，向函数<strong>传递</strong>函数定义时需要的参数，然后通过函数来对这些具体的数据(<strong>实参</strong>)实现某些功能</p><h4 id="任务二：-重要-函数的形参与实参"><a href="#任务二：-重要-函数的形参与实参" class="headerlink" title="任务二：(重要)函数的形参与实参"></a><em>任务二：(重要)函数的形参与实参</em></h4><p><strong>形参</strong>：</p><p>英语术语：<strong>argument</strong></p><p>在函数定义中，出现的参数可以看做是一个<strong>占位符</strong>，它<strong>没有数据</strong>，只能等到函数被调用时接收传递进来的数据，所以称为<strong>形式参数</strong>，简称<strong>形参</strong></p><p>在函数内部<strong>作为变量使用</strong></p><p>占位符，没有实际数据</p><p><strong>实参</strong>：</p><p>英语术语：<strong>parameter</strong></p><p>在函数调用时，给出的参数包含了实实在在的数据，这些数据将被传递到函数内部使用，所以称为<strong>实际参数</strong>，简称<strong>实参</strong></p><p>是用来把数据传递到<strong>函数内部</strong>用的</p><p>实实在在的数据</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_2_num</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">   result = num1 + num2    </span><br><span class="line">   print(<span class="string">f&quot;<span class="subst">&#123;num1&#125;</span> + <span class="subst">&#123;num2&#125;</span> = <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">sum_2_num(<span class="number">50</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>程序分析：</p><p>**sum_2_num(num1, num2)**函数实现对两个数的求和计算</p><p><strong>形参</strong>：在函数定义时，<strong>num1</strong>和<strong>num2</strong>在函数体中是个占位符，被称为形参。用于设计函数的逻辑运算：<strong>result = num1 + num2</strong> </p><p><strong>实参</strong>：在函数调用时，<strong>sum_2_num(50, 20)<strong>，将</strong>50</strong>和<strong>20</strong>数据通过形参<strong>num1</strong>和<strong>num2</strong>传递到函数内部。这里的<strong>50</strong>和<strong>20</strong>是真实数据，被称为实参</p><h3 id="习题："><a href="#习题：" class="headerlink" title="习题："></a>习题：</h3><p><strong>消息</strong>：编写一个名为**display_message()**的函数，它打印一个句子，指出你在本章学的是什么。调用这个函数，确认显示的消息正确无误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_message</span>():</span></span><br><span class="line">   print(<span class="string">&quot;In the chapter 8, we will learn how to define a function!&quot;</span>)</span><br><span class="line"></span><br><span class="line">display_message()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">In the chapter <span class="number">8</span>, we will learn how to define a function!</span><br></pre></td></tr></table></figure><p><strong>喜欢的图书</strong>：编写一个名为<strong>favorite_book()<strong>的函数，其中包含一个名为</strong>title</strong>的形参。这个函数打印一条消息，如<strong>One of my favorite books is Alice in Wonderland</strong>。调用这个函数，并将一本图书的名称作为实参传递给它</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">favorite_book</span>(<span class="params">title</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;favorite books&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">&quot;One of my favorite books is &quot;</span> +title.title()  +<span class="string">&quot;.&quot;</span>)</span><br><span class="line"></span><br><span class="line">favorite_book(<span class="string">&quot;No Longer Human&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">One of my favorite books <span class="keyword">is</span> No Longer Human.</span><br></pre></td></tr></table></figure><h3 id="10-2-3-位置实参"><a href="#10-2-3-位置实参" class="headerlink" title="10.2.3   位置实参"></a>10.2.3   位置实参</h3><p>知识点：由于函数定义中可能包含多个形参，因此函数调用时也可能包含<strong>多个实参</strong>。向函数传递实参的方式很多，例如：</p><p><strong>位置实参</strong>，要求实参的顺序与形参的顺序相同</p><p><strong>关键字实参</strong>，其中每个实参都由变量名和值组成</p><p>将参数使用<strong>列表和字典打包</strong>传参数</p><p>知识迁移：字符串格式化函数**.format()**函数的使用</p><h4 id="任务一：位置实参的用法"><a href="#任务一：位置实参的用法" class="headerlink" title="任务一：位置实参的用法"></a><em>任务一：位置实参的用法</em></h4><p>知识点：</p><p>调用函数时，Python必须将<strong>每个实参一一对应地与形参进行关联</strong>，且不能有任何歧义</p><p>最简单的关联方式是基于参数的<strong>顺序</strong>。因此，这种关联方式被称为<strong>位置实参</strong></p><p>下面通过显示宠物信息函数来理解<strong>位置实参</strong>的原理</p><p><strong>需求</strong>：</p><p>输入：输入宠物类型和名字</p><p>功能：打印特定的宠物信息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span>(<span class="params">animal_type, pet_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示宠物的信息&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">f&quot;I have a <span class="subst">&#123;animal_type&#125;</span>.&quot;</span>)</span><br><span class="line">   print(<span class="string">f&quot;My <span class="subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)</span><br><span class="line"></span><br><span class="line">describe_pet(<span class="string">&#x27;hamster&#x27;</span>, <span class="string">&#x27;harry&#x27;</span>)</span><br></pre></td></tr></table></figure><p>这个函数的定义表明，它需要两个参数：动物类型<strong>animal_type</strong>和名字<strong>pet_name</strong></p><p>调用<strong>describe_pet(‘hamster’, ‘harry’)<strong>时，需要按</strong>顺序</strong>提供相应的实参</p><p>实参**’hamster’<strong>存储在形参</strong>animal_type<strong>中，实参</strong>‘harry’<strong>存储在形参</strong>pet_name**中</p><p>在函数体内，对这两个参数进行相关功能处理，打印输出特定的宠物信息</p><h4 id="任务二：多次调用函数"><a href="#任务二：多次调用函数" class="headerlink" title="任务二：多次调用函数"></a><em>任务二：多次调用函数</em></h4><p>知识点：多次调用函数时，函数的参数和结果是相互独立的</p><p>可根据需要调用函数任意次。要再描述一个宠物，只需再次调用**describe_pet()**即可：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span>(<span class="params">animal_type, pet_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示宠物的信息&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">f&quot;I have a <span class="subst">&#123;animal_type&#125;</span>.&quot;</span>)</span><br><span class="line">   print(<span class="string">f&quot;My <span class="subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)</span><br><span class="line"></span><br><span class="line">describe_pet(<span class="string">&#x27;hamster&#x27;</span>, <span class="string">&#x27;harry&#x27;</span>)</span><br><span class="line">describe_pet(<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;willie&#x27;</span>)</span><br></pre></td></tr></table></figure><p>两次调用函数，分别<strong>独立地</strong>赋予了不同的实参</p><p>第二次调用函数时，传递了实参**’dog’<strong>和</strong>‘willie’**</p><p>与第一次调用时类似，通过位置顺序信息，将实参**’dog’<strong>关联到形参</strong>animal_type<strong>，并将实参</strong>‘willie’<strong>关联到形参</strong>pet_name**</p><h4 id="任务三：位置实参的顺序很重要"><a href="#任务三：位置实参的顺序很重要" class="headerlink" title="任务三：位置实参的顺序很重要"></a><em>任务三：位置实参的顺序很重要</em></h4><p>知识点：</p><p>使用位置实参来调用函数时，如果实参的顺序不正确，要么程序会崩溃，要么会出现出乎意料的结果</p><p>除了某些特殊的函数，本身就可以互换参数，比如求和函数</p><p>例如，在调用**describe_pet()**函数时，互换参数，虽然程序也可以输出结果，但是结果变得很荒谬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">describe_pet(<span class="string">&#x27;harry&#x27;</span>, <span class="string">&#x27;hamster&#x27;</span>) <span class="comment"># I have a harry. # My harry&#x27;s name is Hamster.</span></span><br></pre></td></tr></table></figure><p>程序分析：</p><p>在这个函数调用中，先指定名字，再指定动物类型</p><p>由于实参**’harry’<strong>在前，这个值将存储到形参</strong>animal_type<strong>中；同理，</strong>‘hamster’<strong>将存储到形参</strong>pet_name**中</p><p>结果得到了一个名为<strong>Hamster</strong>的<strong>harry</strong></p><h3 id="10-2-4-关键字实参"><a href="#10-2-4-关键字实参" class="headerlink" title="10.2.4   关键字实参"></a>10.2.4   关键字实参</h3><h4 id="任务一：关键字实参用法"><a href="#任务一：关键字实参用法" class="headerlink" title="任务一：关键字实参用法"></a><em>任务一：关键字实参用法</em></h4><p>知识点：</p><p><strong>关键字实参</strong>是传递给函数的<strong>名称—值对</strong>。(类似<strong>字典)</strong></p><p>由于在实参中将参数名(<strong>key</strong>)和值(<strong>value</strong>)关联起来，所以在传入时<strong>无需考虑函数调用中的实参顺序</strong></p><p>通过关键字实参还可以清楚地了解函数各参数的意义</p><p>例如，<strong>print()<strong>函数的</strong>end</strong>参数</p><p><strong>关键字实参</strong>是传递给函数的<strong>名称—值对</strong>。下面将通过关键字实参来调用<strong>describe_pet()<strong>，</strong>函数定义与位置实参一样</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span>(<span class="params">animal_type, pet_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示宠物的信息&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">f&quot;I have a <span class="subst">&#123;animal_type&#125;</span>.&quot;</span>)</span><br><span class="line">   print(<span class="string">f&quot;My <span class="subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)</span><br><span class="line"></span><br><span class="line">describe_pet(animal_type=<span class="string">&#x27;hamster&#x27;</span>, pet_name=<span class="string">&#x27;harry&#x27;</span>)</span><br></pre></td></tr></table></figure><p>函数<strong>describe_pet()<strong>还是原来那样，但调用这个函数时，</strong>明确地指出了各个实参对应的形参</strong></p><p>看到这个函数调用时，解释器将实参**’hamster’<strong>和</strong>‘harry’<strong>分别存储在形参</strong>animal_type<strong>和</strong>pet_name**中</p><p><strong>关键字实参的顺序无关紧要</strong>，因为解释器知道各个值与哪个形参进行关联。</p><p>下面两个函数调用是等效的：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">describe_pet(animal_type=<span class="string">&#x27;hamster&#x27;</span>, pet_name=<span class="string">&#x27;harry&#x27;</span>)</span><br><span class="line">describe_pet(pet_name=<span class="string">&#x27;harry&#x27;</span>, animal_type=<span class="string">&#x27;hamster&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：关键字实参易错点"><a href="#任务二：关键字实参易错点" class="headerlink" title="任务二：关键字实参易错点"></a><em>任务二：关键字实参易错点</em></h4><p>知识点：<strong>两个必须</strong></p><p>错误1：使用关键字实参时，<strong>必须</strong>准确无误地指明函数定义的形参名，否则会出错</p><p>错误2：如果位置实参和关键字实参混用时，位置实参<strong>必须</strong>在关键字实参之前</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 错误的关键字实参</span></span><br><span class="line">describe_pet(animal_type1=<span class="string">&#x27;hamster&#x27;</span>, pet_name=<span class="string">&#x27;harry&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 位置实参必须在关键字实参之前</span></span><br><span class="line">describe_pet(pet_name=<span class="string">&#x27;harry&#x27;</span>,<span class="string">&#x27;hamster&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="10-2-5-默认值实参"><a href="#10-2-5-默认值实参" class="headerlink" title="10.2.5   默认值实参"></a>10.2.5   默认值实参</h3><h4 id="任务一：默认值实参的用法"><a href="#任务一：默认值实参的用法" class="headerlink" title="任务一：默认值实参的用法"></a><em>任务一：默认值实参的用法</em></h4><p>知识点：</p><p>在定义函数时，可给<strong>形参指定默认值</strong></p><p>在调用函数时，如果为形参指定实参，那么解释器将使用传入的实参；否则，将使用该形参的默认值实参</p><p>默认值实参的用法，简化了函数的调用。特别是对于参数非常多的参数，如果使用默认值实参可以极大提升开发效率</p><p>例子1：通过<strong>Shift+Tab</strong>观察**print()<strong>函数的定义，该函数共使用了4个默认值实参。如果没有默认值实参，那么高频繁地使用</strong>print()**函数将会非常繁琐</p><p>例子2：对函数**describe_pet()**使用关键字实参</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span>(<span class="params">pet_name, animal_type=<span class="string">&#x27;dog&#x27;</span></span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示宠物的信息&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">f&quot;I have a <span class="subst">&#123;animal_type&#125;</span>.&quot;</span>)</span><br><span class="line">   print(<span class="string">f&quot;My <span class="subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)</span><br><span class="line"></span><br><span class="line">describe_pet(pet_name=<span class="string">&#x27;willie&#x27;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>这里修改了函数<strong>describe_pet()<strong>的定义，在其中给形参</strong>animal_type</strong>指定了默认值**’dog’**</p><p>调用函数时，如果没有给<strong>animal_type</strong>指定值，Python将把这个形参设置为默认值**’dog’**</p><p>知识点：</p><p>定义函数时，可以给<strong>某个参数</strong>指定一个<strong>默认值</strong>，具有默认值的参数就叫做<strong>缺省参数</strong></p><p>调用函数时，如果没有传入 <strong>缺省参数</strong> 的值，则在函数内部使用定义函数时指定的<strong>参数默认值</strong></p><p>函数的缺省参数，<strong>将常见的值设置为参数的缺省值</strong>，从而<strong>简化函数的调用</strong></p><p>例子3：对列表排序程序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gl_num_list = [<span class="number">6</span>, <span class="number">3</span>, <span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认就是升序排序，因为这种应用需求更多</span></span><br><span class="line">gl_num_list.sort()</span><br><span class="line">print(gl_num_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 只有当需要降序排序时，才需要传递 `reverse` 参数</span></span><br><span class="line">gl_num_list.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">print(gl_num_list)</span><br></pre></td></tr></table></figure><h4 id="任务二：为函数指定参数的缺省值"><a href="#任务二：为函数指定参数的缺省值" class="headerlink" title="任务二：为函数指定参数的缺省值"></a><em>任务二：为函数指定参数的缺省值</em></h4><p>知识点：</p><p>在定义函数时，在形参后使用<strong>赋值</strong>语句来指定缺省值</p><p>缺省参数，需要使用<strong>最常见的值</strong>作为默认值</p><p>如果一个参数的值<strong>不能确定</strong>，则不应该设置默认值，具体的数值在调用函数时，由外界传递</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">name, gender=<span class="literal">True</span></span>):</span></span><br><span class="line">   gender_text = <span class="string">&quot;男生&quot;</span></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">not</span> gender:</span><br><span class="line">       gender_text = <span class="string">&quot;女生&quot;</span></span><br><span class="line"></span><br><span class="line">   print(<span class="string">f&quot;<span class="subst">&#123;name&#125;</span>是<span class="subst">&#123;gender_text&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务三：默认值实参的易错点"><a href="#任务三：默认值实参的易错点" class="headerlink" title="任务三：默认值实参的易错点"></a><em>任务三：默认值实参的易错点</em></h4><p>易错点：</p><p>拥有默认值的形参<strong>必须放</strong>非默认形参<strong>之后</strong></p><p><strong>SyntaxError: non-default argument follows default argument</strong>。语法错误，非默认参数在默认参数之后</p><p>注意：形参的英语是<strong>argument</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将默认实参放非默认实参之前，将会导致错误</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span>(<span class="params">animal_type=<span class="string">&#x27;dog&#x27;</span>, pet_name</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示宠物的信息&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">f&quot;I have a <span class="subst">&#123;animal_type&#125;</span>.&quot;</span>)</span><br><span class="line">   print(<span class="string">f&quot;My <span class="subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)</span><br><span class="line"></span><br><span class="line">describe_pet(pet_name=<span class="string">&#x27;willie&#x27;</span>)</span><br></pre></td></tr></table></figure><p>知识点：</p><p>缺省参数的定义位置<strong>必须保证带有默认值的缺省参数在参数列表末尾</strong></p><p>**def print_info(name, gender=True, title):**是错误的缺省值定义方式</p><p>知识点：</p><p>调用带有多个缺省参数的函数</p><p>在<strong>调用函数时</strong>，如果有多个缺省参数中<strong>部分参数需要传递实参</strong>，那么<strong>必需要使用关键字实参来指定参数名</strong>，这样解释器才能够知道参数的对应关系</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">name, title=<span class="string">&quot;&quot;</span>, gender=<span class="literal">True</span></span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">   :param title: 职位</span></span><br><span class="line"><span class="string">   :param name: 班上同学的姓名</span></span><br><span class="line"><span class="string">   :param gender: True 男生 False 女生</span></span><br><span class="line"><span class="string">   &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">   gender_text = <span class="string">&quot;男生&quot;</span></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">not</span> gender:</span><br><span class="line">       gender_text = <span class="string">&quot;女生&quot;</span></span><br><span class="line"></span><br><span class="line">   print(<span class="string">f&quot;<span class="subst">&#123;title&#125;</span><span class="subst">&#123;name&#125;</span>是<span class="subst">&#123;gender_text&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 提示：在指定缺省参数的默认值时，应该使用最常见的值作为默认值！</span></span><br><span class="line">print_info(<span class="string">&quot;小明&quot;</span>)</span><br><span class="line"><span class="comment"># 如果为默认值参数传递实参时，必需要使用关键字实参，否则会引起异常</span></span><br><span class="line">print_info(<span class="string">&quot;老王&quot;</span>, title=<span class="string">&quot;班长&quot;</span>)</span><br><span class="line">print_info(<span class="string">&quot;小美&quot;</span>, gender=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h3 id="10-2-6-实参调用的等价形式"><a href="#10-2-6-实参调用的等价形式" class="headerlink" title="10.2.6   实参调用的等价形式"></a>10.2.6   实参调用的等价形式</h3><h4 id="任务一：函数调用时的实参等价形式"><a href="#任务一：函数调用时的实参等价形式" class="headerlink" title="任务一：函数调用时的实参等价形式"></a><em>任务一：函数调用时的实参等价形式</em></h4><p>知识点：</p><p>可以混合使用<strong>位置实参</strong>、<strong>关键字实参</strong>和<strong>默认值实参</strong>，通常有多种等效的函数调用方式</p><p>注意：如果要使用默认值实参，函数定义的时候必须要有形参赋值为默认值</p><p>例子：函数<strong>describe_pet()<strong>的定义，为形参</strong>animal_type</strong>提供默认值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span>(<span class="params">pet_name, animal_type=<span class="string">&#x27;dog&#x27;</span></span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示宠物的信息&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">f&quot;I have a <span class="subst">&#123;animal_type&#125;</span>.&quot;</span>)</span><br><span class="line">   print(<span class="string">f&quot;My <span class="subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)</span><br></pre></td></tr></table></figure><p>函数调用说明：</p><p>第一个参数：<strong>位置实参</strong>和<strong>关键字实参</strong>。在任何情况下都<strong>必须</strong>给没有默认值的形参<strong>pet_name</strong>提供实参</p><p>第二个参数：<strong>位置实参</strong>、<strong>关键字实参</strong>和<strong>默认值实参</strong>。如果要指定动物类型，可以对<strong>animal_type</strong>提供实参</p><p>下面对这个函数的所有调用都可行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第二个参数为默认值</span></span><br><span class="line"><span class="comment"># 第一个参数位置实参</span></span><br><span class="line">describe_pet(<span class="string">&#x27;willie&#x27;</span>)</span><br><span class="line"><span class="comment"># 第一个参数关键字实参</span></span><br><span class="line">describe_pet(pet_name=<span class="string">&#x27;willie&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二个参数为非默认值</span></span><br><span class="line"><span class="comment"># 位置实参</span></span><br><span class="line">describe_pet(<span class="string">&#x27;harry&#x27;</span>, <span class="string">&#x27;hamster&#x27;</span>)</span><br><span class="line"><span class="comment"># 关键字实参，可以互换位置</span></span><br><span class="line">describe_pet(pet_name=<span class="string">&#x27;harry&#x27;</span>, animal_type=<span class="string">&#x27;hamster&#x27;</span>)</span><br><span class="line">describe_pet(animal_type=<span class="string">&#x27;hamster&#x27;</span>, pet_name=<span class="string">&#x27;harry&#x27;</span>)</span><br></pre></td></tr></table></figure><p>注意：</p><p>使用哪种调用方式无关紧要，只要函数调用能生成你希望的输出就行</p><p>使用对你来说<strong>最容易理解</strong>和<strong>最简便</strong>的调用方式即可</p><h4 id="任务二：常见实参调用错误"><a href="#任务二：常见实参调用错误" class="headerlink" title="任务二：常见实参调用错误"></a><em>任务二：常见实参调用错误</em></h4><p>知识点：<strong>实参个数与函数定义的参数不匹配</strong></p><p>多于形参个数时，程序肯定会出错</p><p>少于形参个数时，程序首先会匹配默认值实参；当不匹配时会出错</p><p>例子：如果调用函数**describe_pet()**时没有指定任何实参，结果将如何呢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_pet</span>(<span class="params">pet_name, animal_type=<span class="string">&#x27;dog&#x27;</span></span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;显示宠物的信息&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">f&quot;I have a <span class="subst">&#123;animal_type&#125;</span>.&quot;</span>)</span><br><span class="line">   print(<span class="string">f&quot;My <span class="subst">&#123;animal_type&#125;</span>&#x27;s name is <span class="subst">&#123;pet_name.title()&#125;</span>.&quot;</span>)</span><br><span class="line"></span><br><span class="line">describe_pet()</span><br></pre></td></tr></table></figure><p>Python发现该函数调用缺少必要的信息，而<strong>traceback</strong>指出了<strong>TypeError: describe_pet() missing 2 required positional arguments</strong>。类型错误，该函数缺失2个必须的位置参数</p><h3 id="习题：-1"><a href="#习题：-1" class="headerlink" title="习题："></a>习题：</h3><p><strong>8-3 T恤</strong>：编写一个名为**make_shirt()**的函数，它接受一个尺码以及要印到T恤上的字样。这个函数应打印一个句子，概要地说明T恤的尺码和字样。使用位置实参调用这个函数来制作一件T恤；再使用关键字实参来调用这个函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_shirt</span>(<span class="params">size,letter_sample</span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;information of size and letter sample&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">&quot;\nThis T-shirt is in size &quot;</span> + size.upper() + <span class="string">&quot;, and please print &quot;</span> + letter_sample.upper() + <span class="string">&quot; on it.&quot;</span>)</span><br><span class="line"></span><br><span class="line">make_shirt(<span class="string">&quot;S&quot;</span>,<span class="string">&quot;Lakers&quot;</span>)</span><br><span class="line">make_shirt(letter_sample= <span class="string">&quot;King&quot;</span>,size=<span class="string">&quot;XL&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">This T-shirt <span class="keyword">is</span> <span class="keyword">in</span> size S, <span class="keyword">and</span> please <span class="built_in">print</span> LAKERS on it.</span><br><span class="line"></span><br><span class="line">This T-shirt <span class="keyword">is</span> <span class="keyword">in</span> size XL, <span class="keyword">and</span> please <span class="built_in">print</span> KING on it.</span><br></pre></td></tr></table></figure><p><strong>8-4 大号T恤</strong>：修改函数**make_shirt()**，使其在默认情况下制作一件印有字样“I love Python”的大号T恤。调用这个函数来制作如下T恤：一件印有默认字样的大号T恤、一件印有默认字样的中号T恤和一件印有其他字样的T恤（尺码无关紧要）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_shirt</span>(<span class="params">size=<span class="string">&quot;L&quot;</span>,letter_sample=<span class="string">&quot;Lakers&quot;</span></span>):</span></span><br><span class="line">   <span class="string">&quot;&quot;&quot;information of size and letter sample&quot;&quot;&quot;</span></span><br><span class="line">   print(<span class="string">&quot;\nPlease make a T-shirt is in size &quot;</span> + size.upper() + <span class="string">&quot;, and print &quot;</span> + letter_sample + <span class="string">&quot; on it.&quot;</span>)</span><br><span class="line"></span><br><span class="line">make_shirt()</span><br><span class="line">make_shirt(size=<span class="string">&quot;xl&quot;</span>)</span><br><span class="line">make_shirt(<span class="string">&quot;m&quot;</span>,<span class="string">&#x27;James&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Please make a T-shirt <span class="keyword">is</span> <span class="keyword">in</span> size L, <span class="keyword">and</span> <span class="built_in">print</span> Lakers on it.</span><br><span class="line"></span><br><span class="line">Please make a T-shirt <span class="keyword">is</span> <span class="keyword">in</span> size XL, <span class="keyword">and</span> <span class="built_in">print</span> Lakers on it.</span><br><span class="line"></span><br><span class="line">Please make a T-shirt <span class="keyword">is</span> <span class="keyword">in</span> size M, <span class="keyword">and</span> <span class="built_in">print</span> James on it.</span><br></pre></td></tr></table></figure><p><strong>8-5 城市</strong>：编写一个名为<strong>describe_city()<strong>的函数，它接受一座城市的名字以及该城市所属的国家。这个函数应打印一个简单的句子，如</strong>Reykjavik is in Iceland</strong>。给用于存储国家的形参指定默认值。为三座不同的城市调用这个函数，且其中至少有一座城市不属于默认国家</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describe_city</span>(<span class="params">city,country=<span class="string">&#x27;china&#x27;</span></span>):</span></span><br><span class="line">   print(<span class="string">&quot;\n&quot;</span> + city.title() + <span class="string">&quot; is in &quot;</span> + country.title() +<span class="string">&quot;.&quot;</span>)</span><br><span class="line"></span><br><span class="line">describe_city(<span class="string">&quot;shanghai&quot;</span>)</span><br><span class="line">describe_city(<span class="string">&quot;hongkong&quot;</span>)</span><br><span class="line">describe_city(<span class="string">&quot;Los Angeles&quot;</span>,<span class="string">&quot;America&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Shanghai <span class="keyword">is</span> <span class="keyword">in</span> China.</span><br><span class="line"></span><br><span class="line">Hongkong <span class="keyword">is</span> <span class="keyword">in</span> China.</span><br><span class="line"></span><br><span class="line">Los Angeles <span class="keyword">is</span> <span class="keyword">in</span> America.</span><br></pre></td></tr></table></figure><h2 id="10-3-进阶函数的参数"><a href="#10-3-进阶函数的参数" class="headerlink" title="10.3   进阶函数的参数"></a>10.3   进阶函数的参数</h2><h3 id="10-3-1-函数的不可变和可变参数"><a href="#10-3-1-函数的不可变和可变参数" class="headerlink" title="10.3.1   函数的不可变和可变参数"></a>10.3.1   函数的不可变和可变参数</h3><h4 id="任务一：变量赋值不影响外部变量"><a href="#任务一：变量赋值不影响外部变量" class="headerlink" title="任务一：变量赋值不影响外部变量"></a><em>任务一：变量赋值不影响外部变量</em></h4><p>知识点：函数内部赋值变量不影响外部实参变量</p><p>形参也是函数的局部变量</p><p>变量赋值修改的是变量的引用，即换个贴标签的内存空间</p><p>在函数<strong>内部</strong>，针对参数使用<strong>赋值语句</strong>，<strong>不影响</strong>函数外部<strong>传递</strong>的实参</p><p>无论向函数传递的参数是<strong>可变</strong>还是<strong>不可变</strong>类型，在函数体内通过<strong>赋值修改该局部变量</strong>的引用，<strong>不影响</strong>外部变量的引用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>(<span class="params">num, num_list</span>):</span></span><br><span class="line">   print(<span class="string">&quot;函数内部&quot;</span>)</span><br><span class="line">   <span class="comment"># 赋值语句</span></span><br><span class="line">   num = <span class="number">200</span></span><br><span class="line">   num_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">   print(num)</span><br><span class="line">   print(num_list)</span><br><span class="line">   print(<span class="string">&quot;函数代码完成&quot;</span>)</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"><span class="comment"># 整形是不可变类型</span></span><br><span class="line">gl_num = <span class="number">99</span></span><br><span class="line"><span class="comment"># 列表是可变类型</span></span><br><span class="line">gl_list = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">demo(gl_num, gl_list)</span><br><span class="line">print(gl_num)</span><br><span class="line">print(gl_list)</span><br></pre></td></tr></table></figure><h4 id="任务二：通过方法修改数据会影响到外部变量"><a href="#任务二：通过方法修改数据会影响到外部变量" class="headerlink" title="任务二：通过方法修改数据会影响到外部变量"></a><em>任务二：通过方法修改数据会影响到外部变量</em></h4><p>知识点：</p><p>如果传递的参数是<strong>可变类型</strong>，在函数内部，使用<strong>方法</strong>修改了数据的内容，<strong>同样会影响到外部的数据</strong></p><p>调用方法并<strong>未更改</strong>变量的引用，而是<strong>直接修改</strong>了真实数据的内容</p><p>关键点：变量引用(<strong>赋值</strong>)、实际内存空间(<strong>调用修改方法</strong>)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>(<span class="params">num_list</span>):</span></span><br><span class="line">   print(<span class="string">&quot;函数内部的代码&quot;</span>)</span><br><span class="line">   <span class="comment"># 使用方法修改列表的内容</span></span><br><span class="line">   num_list.append(<span class="number">9</span>)</span><br><span class="line">   print(num_list)</span><br><span class="line">   print(<span class="string">&quot;函数执行完成&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gl_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">demo(gl_list)</span><br><span class="line">print(gl_list)</span><br></pre></td></tr></table></figure><h4 id="任务三：面试题-的使用"><a href="#任务三：面试题-的使用" class="headerlink" title="任务三：面试题 +=的使用"></a><em>任务三：面试题 +=的使用</em></h4><p>知识点：列表变量调用 <strong>+=</strong> 本质上是在执行列表变量的 <strong>extend</strong> 方法，<strong>不会</strong>修改变量的引用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mutable</span>(<span class="params">num_list</span>):</span></span><br><span class="line">   <span class="comment"># num_list = [1, 2, 3]</span></span><br><span class="line">   num_list.extend([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])    </span><br><span class="line">   print(num_list)</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">gl_list = [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line">mutable(gl_list)</span><br><span class="line">print(gl_list)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>(<span class="params">num, num_list</span>):</span></span><br><span class="line">   print(<span class="string">&quot;函数内部代码&quot;</span>)</span><br><span class="line">   <span class="comment"># num = num + num</span></span><br><span class="line">   num += num</span><br><span class="line">   <span class="comment"># num_list.extend(num_list) 由于是调用方法，所以不会修改变量的引用</span></span><br><span class="line">   <span class="comment"># 函数执行结束后，外部数据同样会发生变化</span></span><br><span class="line">   num_list += num_list</span><br><span class="line"></span><br><span class="line">   print(num)</span><br><span class="line">   print(num_list)</span><br><span class="line">   print(<span class="string">&quot;函数代码完成&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gl_num = <span class="number">9</span></span><br><span class="line">gl_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">demo(gl_num, gl_list)</span><br><span class="line">print(gl_num)</span><br><span class="line">print(gl_list)</span><br></pre></td></tr></table></figure><h3 id="10-3-2-函数传递不确定数量的参数"><a href="#10-3-2-函数传递不确定数量的参数" class="headerlink" title="10.3.2   函数传递不确定数量的参数"></a>10.3.2   函数传递不确定数量的参数</h3><h4 id="任务一：定义支持多值参数的函数"><a href="#任务一：定义支持多值参数的函数" class="headerlink" title="任务一：定义支持多值参数的函数"></a><em>任务一：定义支持多值参数的函数</em></h4><p>知识点：需求分析</p><p>当函数需要接受任意数量的实参，即在函数定义时，并<strong>不能确定函数参数数量</strong>。为此，<strong>Python</strong>使用函数的<strong>多值参数</strong>技术来满足此需求</p><p>例如：**print(str1,str2,…)**函数，可以打印数量不定的字符串</p><p>知识点：多值参数两种用法</p><p>Python函数参数的两种方式：位置实参和关键字实参。那么对应的多值参数方法也有两种：</p><p>参数名前增加<strong>一个 *** 用于接收</strong>元组<strong>。对应</strong>位置实参**</p><p>参数名前增加<strong>两个 *** 用于接收</strong>字典<strong>。对应</strong>关键字实参**</p><p>一般在给多值参数命名时，<strong>习惯</strong>使用以下两个名字：</p><p><strong><em>args</em>* ：存放</strong>元组**参数，前面有一个 *****</p><p>*<strong><em>kwargs</em>* ：存放</strong>字典**参数，前面有两个 *****</p><p><strong>args</strong> 是 <strong>arguments</strong> 的缩写，表示参数的含义</p><p><strong>kw</strong> 是 <strong>keyword</strong> 的缩写，<strong>kwargs</strong> 可以记忆<strong>键值对参数</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>(<span class="params">num, *args, **kwargs</span>):</span></span><br><span class="line">   print(num)</span><br><span class="line">   print(args)</span><br><span class="line">   print(kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">demo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, name=<span class="string">&quot;小明&quot;</span>, age=<span class="number">18</span>, gender=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>知识点：</p><p>多值参数<strong>必须</strong>放在非多值(普通)参数<strong>之后</strong></p><p><strong>Python</strong>解释器会先匹配位置实参和关键字实参，然后再将<strong>余下的实参都收集到最后个多值参数中</strong></p><p>例如，**def demo(*args, num,**kwargs):**将会引起异常</p><h4 id="实例：计算任意多个数字的和"><a href="#实例：计算任意多个数字的和" class="headerlink" title="实例：计算任意多个数字的和"></a><em>实例：计算任意多个数字的和</em></h4><p>需求分析：</p><p>定义一个函数 <strong>sum_numbers</strong>，可以接收的<strong>任意多个整数</strong></p><p>功能要求：将传递的<strong>所有数字累加</strong>并且返回累加结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">   print(args)</span><br><span class="line">   print(kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要将一个元组变量/字典变量传递给函数对应的参数</span></span><br><span class="line">gl_nums = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">gl_xiaoming = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小明&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 会把 num_tuple 和 xiaoming 作为元组传递个 args</span></span><br><span class="line"><span class="comment"># demo(gl_nums, gl_xiaoming)</span></span><br><span class="line"><span class="comment"># 拆包语法，简化元组变量/字典变量的传递</span></span><br><span class="line">demo(*gl_nums, **gl_xiaoming)</span><br></pre></td></tr></table></figure><h4 id="任务二：元组和字典的拆包"><a href="#任务二：元组和字典的拆包" class="headerlink" title="任务二：元组和字典的拆包"></a><em>任务二：元组和字典的拆包</em></h4><p>知识点：</p><p>在调用带有多值参数的函数时，如果希望：</p><p>将一个<strong>元组变量</strong>，直接传递给 <strong>args</strong></p><p>将一个<strong>字典变量</strong>，直接传递给<strong>kwargs</strong></p><p>就可以使用 <strong>拆包</strong>，简化参数的传递，<strong>拆包</strong>的方式是：</p><p>在<strong>元组变量前</strong>，增加<strong>一个</strong>*</p><p>在<strong>字典变量前</strong>，增加<strong>两个</strong>*</p><p>解包或拆包操作：</p><p>先将参数用元组或字典打包，然后在函数传递参数时使用解包操作</p><p>使函数参数传递变得很简洁</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">demo</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">   print(args)</span><br><span class="line">   print(kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要将一个元组变量/字典变量传递给函数对应的参数</span></span><br><span class="line">gl_nums = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">gl_xiaoming = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小明&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 会把 num_tuple 和 xiaoming 作为元组传递个 args</span></span><br><span class="line"><span class="comment"># demo(gl_nums, gl_xiaoming)</span></span><br><span class="line">demo(*gl_nums, **gl_xiaoming)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210531124833272.png&quot; alt=&quot;image-20210531124833272&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记9</title>
    <link href="http://waxll.top/2021/06/17/py9.html"/>
    <id>http://waxll.top/2021/06/17/py9.html</id>
    <published>2021-06-16T16:36:01.000Z</published>
    <updated>2021-06-16T16:37:26.304Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210521125048404.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210521125048404.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210521125048404"></p><span id="more"></span><h1 id="第九章-不定循环：while循环"><a href="#第九章-不定循环：while循环" class="headerlink" title="第九章   不定循环：while循环"></a>第九章   不定循环：while循环</h1><h2 id="9-1-（回顾）用户输入与for循环"><a href="#9-1-（回顾）用户输入与for循环" class="headerlink" title="9.1   （回顾）用户输入与for循环"></a>9.1   （回顾）用户输入与for循环</h2><h3 id="9-1-1-用户输入"><a href="#9-1-1-用户输入" class="headerlink" title="9.1.1   用户输入"></a>9.1.1   用户输入</h3><h4 id="任务一：用户输入input-函数"><a href="#任务一：用户输入input-函数" class="headerlink" title="任务一：用户输入input()函数"></a><em>任务一：用户输入input()函数</em></h4><p>知识点：接收用户输入</p><p>语法：<strong>input([prompt])</strong></p><p>描述：程序会一直等待用户输入，直到用户按<strong>回车键</strong>后继续运行</p><p>参数：(可选) <strong>prompt</strong>为字符串类型，用于提示输入信息</p><p>返回：字符串类型</p><p>当等待输入时，程序会被<strong>中断</strong>/阻塞(cell的左边<strong>In[*]</strong>)，直到接收输入后程序才能继续运行</p><p>注意：此<strong>中断是全局的</strong>，即会影响当前整个jupyter程序的其他cell，导致其他cell运行程序时也会出现<strong>In[*]</strong></p><p><strong>input()<strong>函数的程序</strong>中断</strong>测试</p><p>首先运行下面的输入程序，不输入，此时程序会阻塞，左边出现<strong>In[*]</strong></p><p>再运行其他cell的程序程序，会发现其他cell程序也会被中断，左边出现<strong>In[*]</strong></p><p>然后在**input()**函数的cell中输入数据之后，程序的阻塞会被解除。此时，其他cell的程序也恢复了正常</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先运行这个cell，不输入任何东西</span></span><br><span class="line">a = <span class="built_in">input</span>(<span class="string">&quot;请输入：&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 然后 运行这个cell，会发现程序被中断</span></span><br><span class="line">print(<span class="string">&#x27;只有在解除中断之后，才能运行该cell&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：多次运行带input-的cell"><a href="#任务二：多次运行带input-的cell" class="headerlink" title="任务二：多次运行带input()的cell"></a><em>任务二：多次运行带input()的cell</em></h4><p>知识点：</p><p>多次运行带**input()<strong>的cell，不接受用户输入，整个jupyter将会卡死，此时</strong>input()**输入框也会消失</p><p>为此，需要手动重启kernel：<strong>Kernel–&gt; Restart</strong></p><p>多次运行下面cell，然后通过手动重启kernel来重置Python解释器</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先运行这个cell，不输入任何东西</span></span><br><span class="line">a = <span class="built_in">input</span>(<span class="string">&quot;请输入：&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务三：input-函数的的返回是字符串"><a href="#任务三：input-函数的的返回是字符串" class="headerlink" title="任务三：input()函数的的返回是字符串"></a><em>任务三：input()函数的的返回是字符串</em></h4><p>知识点(回顾)：</p><p>**input()**函数的返回是字符串类型</p><p>如果直接对返回值进行数值运算，会引起异常<strong>TypeError</strong></p><p>为此，需要对返回值显式地调用类型转换函数，例如：**int()、float()**等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">input</span>(<span class="string">&quot;请输入整形：&quot;</span>)</span><br><span class="line">print(<span class="built_in">type</span>(a), a)</span><br><span class="line"></span><br><span class="line">b = <span class="built_in">int</span>(a)</span><br><span class="line">print(<span class="built_in">type</span>(b), b)</span><br></pre></td></tr></table></figure><h4 id="任务四：求模运算符"><a href="#任务四：求模运算符" class="headerlink" title="任务四：求模运算符(%)"></a><em>任务四：求模运算符(%)</em></h4><p>知识点：</p><p><strong>求模运算符</strong>(<strong>%</strong>)将两个数相除并返回余数</p><p>如果一个数可被另一个数整除，余数就为0，因此**%**将返回0</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">4</span> % <span class="number">3</span>)</span><br><span class="line">print(<span class="number">5</span> % <span class="number">3</span>)</span><br><span class="line">print(<span class="number">6</span> % <span class="number">3</span>)</span><br><span class="line">print(<span class="number">7</span> % <span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>奇偶数判断程序。偶数都能被2整除，因此对<strong>number</strong>和2执行求模运算的结果为零，即<strong>number % 2 == 0</strong>；否则就是奇数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">number = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;输入整数：&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> number % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">   print(<span class="string">f&quot;数字<span class="subst">&#123;number&#125;</span>为偶数。&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">f&quot;数字<span class="subst">&#123;number&#125;</span>为奇数。&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="习题："><a href="#习题：" class="headerlink" title="习题："></a>习题：</h3><p><strong>7-1 汽车租赁</strong>：编写一个程序，询问用户要租赁什么样的汽车，并打印一条消息，如“Let me see if I can find you a Subaru”</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">car=<span class="string">&#x27;What kind of car do you need?&#x27;</span></span><br><span class="line">kids=<span class="built_in">input</span>(car)</span><br><span class="line">print(<span class="string">&#x27;let me see if can find you a &#x27;</span>+kids)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let me see <span class="keyword">if</span> can find you a Benz</span><br></pre></td></tr></table></figure><p><strong>7-2 餐馆订位</strong>：编写一个程序，询问用户有多少人用餐。如果超过8人，就打印一条消息，指出没有空桌；否则指出有空桌</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">inquiry=<span class="string">&#x27;How many people have dinner, please?&#x27;</span></span><br><span class="line">num=<span class="built_in">input</span>(inquiry)  <span class="comment"># 3</span></span><br><span class="line">num=<span class="built_in">int</span>(num)</span><br><span class="line"><span class="keyword">if</span> num&gt;<span class="number">8</span>:</span><br><span class="line">    print(<span class="string">&#x27;There are no empty tables&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;There is a table available&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">There <span class="keyword">is</span> a table available</span><br></pre></td></tr></table></figure><p><strong>7-3 10的整数倍</strong>：让用户输入一个数字，并指出这个数字是否是10的整数倍</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num=<span class="string">&#x27;plese input one number:&#x27;</span></span><br><span class="line">nums=<span class="built_in">input</span>(num)   <span class="comment"># 20</span></span><br><span class="line">nums=<span class="built_in">int</span>(nums)</span><br><span class="line"><span class="keyword">if</span> nums%<span class="number">10</span>==<span class="number">0</span>:</span><br><span class="line">    nums=<span class="built_in">str</span>(nums)</span><br><span class="line">    print(nums+<span class="string">&#x27; is an integral multiple of ten&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    nums = <span class="built_in">str</span>(nums)</span><br><span class="line">    print(nums+<span class="string">&#x27; is not inteqral multiple of ten&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">20</span> <span class="keyword">is</span> an integral multiple of ten</span><br></pre></td></tr></table></figure><h3 id="9-1-2-程序的三大流程"><a href="#9-1-2-程序的三大流程" class="headerlink" title="9.1.2   程序的三大流程"></a>9.1.2   程序的三大流程</h3><h4 id="任务一：掌握程序开发的三大流程"><a href="#任务一：掌握程序开发的三大流程" class="headerlink" title="任务一：掌握程序开发的三大流程"></a><em>任务一：掌握程序开发的三大流程</em></h4><p>在程序开发中，一共有<strong>三种</strong>流程方式：</p><p><strong>顺序：从上向下</strong>，顺序执行代码</p><p><strong>分支</strong>：根据<strong>条件判断</strong>，决定执行代码的<strong>分支</strong></p><p><strong>循环</strong>：让 <strong>特定代码块重复</strong> 执行</p><h3 id="9-1-3-确定循环：for循环"><a href="#9-1-3-确定循环：for循环" class="headerlink" title="9.1.3   确定循环：for循环"></a>9.1.3   确定循环：for循环</h3><h4 id="任务一：回顾for循环"><a href="#任务一：回顾for循环" class="headerlink" title="任务一：回顾for循环"></a><em>任务一：回顾for循环</em></h4><p><strong>for</strong>循环语法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> &lt;sequence&gt;:</span><br><span class="line">&lt;statements&gt;</span><br></pre></td></tr></table></figure><p>知识点：回顾请看第4章</p><p>描述： <strong>for</strong>循环用于<strong>遍历序列或集合类型对象</strong>(列表、元组、字典、字符串等)，在循环体中实现对每个元素执行批量操作</p><p>在每次迭代中，循环临时变量<strong>item</strong>依次获取序列**<sequence>**中的元素</p><p>然后，循环体**<statements><strong>针对每个</strong>item**执行一次</p><p><strong>思考：for语句的循环次数是多少？</strong></p><h4 id="任务二：for循环的不足"><a href="#任务二：for循环的不足" class="headerlink" title="任务二：for循环的不足"></a><em>任务二：for循环的不足</em></h4><p><strong>需求分析</strong>：编写一个程序，计算用户输入的一系列数的平均值</p><p>平均值：数的和<strong>除以</strong>数的个数</p><p>为了让程序通用，它应该适用于<strong>任意数量</strong>的数</p><p>思路：</p><p>首先询问用户总共有几个数，通过<strong>input()<strong>输入一个总数量</strong>n</strong></p><p>然后使用循环，通过<strong>input()<strong>接受用户输入的</strong>n</strong>个数，然后依次对它们进行累积total。</p><p>循环结束后对<strong>total</strong>除以n求平均</p><p>算法伪代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">input</span>()输入总共有n个数</span><br><span class="line">初始化 total = <span class="number">0</span></span><br><span class="line">循环 n 次</span><br><span class="line">　　<span class="built_in">input</span>()输入数x</span><br><span class="line">　　total += x</span><br><span class="line">求均值 average = total / n</span><br></pre></td></tr></table></figure><p>根据伪代码，直接转换为Python程序：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;共有多个数？&quot;</span>))</span><br><span class="line">total = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">   x = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入数字：&quot;</span>))</span><br><span class="line">   total += x</span><br><span class="line">print(<span class="string">&quot;均值为：&quot;</span>, total / n)</span><br></pre></td></tr></table></figure><p><strong>缺陷分析：</strong></p><p>上述的求平均值程序肯定是有效的，但是它的人机交互<strong>存在缺陷</strong></p><p>它首先<strong>需要询问用户有多少个数字</strong>。数字较少时，用户可以数一数输入的数字规模。但如果有很多很多的数需要求平均值，那么把所有的数都数一遍是不太可行的</p><p>造成这现象的原因是<strong>for</strong>循环需要提前<strong>明确循环次数。换言之，for循环是有限的确定循环</strong></p><h2 id="9-2-不定循环：while循环"><a href="#9-2-不定循环：while循环" class="headerlink" title="9.2   不定循环：while循环"></a>9.2   不定循环：while循环</h2><h3 id="9-2-1-while循环语法"><a href="#9-2-1-while循环语法" class="headerlink" title="9.2.1   while循环语法"></a>9.2.1   while循环语法</h3><h4 id="任务一：while循环的流程分析"><a href="#任务一：while循环的流程分析" class="headerlink" title="任务一：while循环的流程分析"></a><em>任务一：while循环的流程分析</em></h4><p>需求分析：</p><p>循环的作用就是让<strong>指定的代码</strong>在满足一定的条件下重复的执行</p><p><strong>while</strong> 循环最常用的应用场景就是<strong>让执行的代码根据指定的条件来重复</strong>执行</p><p>需求：打印 5 遍 <strong>Hello Python</strong></p><p>思考：如果要求打印 100 遍怎么办？</p><p><strong>while</strong>循环的伪代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">初始条件设置 —— 通常是重复执行的 计数器</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> 条件(判断 计数器 是否达到 目标次数):</span><br><span class="line">   条件满足时，做的事情<span class="number">1</span></span><br><span class="line">   条件满足时，做的事情<span class="number">2</span></span><br><span class="line">   条件满足时，做的事情<span class="number">3</span></span><br><span class="line">   ...(省略)...</span><br><span class="line">   </span><br><span class="line">   处理条件(计数器 + <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>知识点：</p><p><strong>while</strong> 语句以及缩进部分是一个<strong>完整的代码块</strong></p><p><strong>while</strong>循环通过<strong>判断条件</strong>来决定循环是否执行，因此它适用于指定次数(<strong>for</strong>循环擅长做)和不指定次数(<strong>for</strong>循环不擅长做)的场景</p><h4 id="任务二：while循环语法"><a href="#任务二：while循环语法" class="headerlink" title="任务二：while循环语法"></a><em>任务二：while循环语法</em></h4><p>需求分析：</p><p><strong>for</strong>循环是一个有限的确定循环。即定义<strong>for</strong>循环时，必须确定迭代次数</p><p>在<strong>for</strong>循环求平均数程序中，如果不让用户提前输入总数量，那么程序就无法知道循环迭代次数。这导致程序设计陷入了困境</p><p>如何让程序拥有自动计数功能？</p><p><strong>while</strong>循环语法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> &lt;condition&gt;:</span><br><span class="line">　　&lt;statements&gt;</span><br></pre></td></tr></table></figure><p>知识点：</p><p>Python提供了<strong>不定循环</strong>或<strong>条件循环</strong>机制——<strong>while</strong>循环</p><p>类似于<strong>if</strong>语句，<strong>while</strong>循环使用**<condition>**布尔表达式来控制循环</p><p>只要条件为<strong>True</strong>，循环体**<statements><strong>就会重复执行；当条件为</strong>false**时，循环终止</p><p><strong>while</strong>循环不需明确循环次数，它通过**<condition><strong>来控制循环的运行。因此，相对</strong>确定循环for<strong>语句，它被称为</strong>不定循环**</p><p><strong>先测试</strong>的循环结构：</p><p>在<strong>while</strong>循环体执行之前**<condition>**条件</p><p>如果循环**<condition><strong>最初为</strong>False<strong>，则循环体</strong><statements>**就根本不会被执行</p><p>该循环结构，循环次数**&gt;=0**次，最少为0次</p><p>使用<strong>while</strong>实现5、4、3、2、1倒计时打印</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5</span></span><br><span class="line"><span class="comment"># a &gt; 0为循环条件</span></span><br><span class="line"><span class="keyword">while</span> (a &gt; <span class="number">0</span>):   </span><br><span class="line">   print(a)</span><br><span class="line">   a -= <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="任务三：-while循环实现循环打印"><a href="#任务三：-while循环实现循环打印" class="headerlink" title="任务三： while循环实现循环打印"></a><em>任务三： while循环实现循环打印</em></h4><p>打印5遍 <strong>Hello Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 定义重复次数计数器</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 使用 while 判断条件</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">5</span>:</span><br><span class="line">   <span class="comment"># 要重复执行的代码</span></span><br><span class="line">   print(<span class="string">&quot;Hello Python&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 处理计数器 i</span></span><br><span class="line">   i = i + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(&quot;循环结束后的 i = %d&quot; % i)</span></span><br><span class="line">print(<span class="string">&quot;循环结束后的 i = &#123;i&#125;&quot;</span>) <span class="comment"># f-string方式</span></span><br></pre></td></tr></table></figure><p>注意：循环结束后，之前定义的计数器变量<strong>i</strong>是依旧存在的</p><h4 id="任务四：赋值运算符"><a href="#任务四：赋值运算符" class="headerlink" title="任务四：赋值运算符"></a><em>任务四：赋值运算符</em></h4><p>知识点：</p><p>在 Python 中，使用 <strong>=</strong> 可以给变量赋值</p><p>在算术运算时，为了简化代码的编写，<strong>Python</strong> 还提供了一系列的与<strong>算术运算符</strong> 对应的<strong>赋值运算符</strong></p><p>注意：<strong>赋值运算符中间不能使用空格</strong></p><table><thead><tr><th>运算符</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>=</td><td>简单的赋值运算符</td><td>c = a + b</td></tr><tr><td>+=</td><td>加法赋值运算符</td><td>c += a 等效于 c = c + a</td></tr><tr><td>-=</td><td>减法赋值运算符</td><td>c -= a 等效于 c = c - a</td></tr><tr><td>*=</td><td>乘法赋值运算符</td><td>c *= a 等效于 c = c * a</td></tr><tr><td>/=</td><td>除法赋值运算符</td><td>c /= a 等效于 c = c / a</td></tr><tr><td>//=</td><td>取整除赋值运算符</td><td>c //= a 等效于 c = c // a</td></tr><tr><td>%=</td><td>取模 (余数)赋值运算符</td><td>c %= a 等效于 c = c % a</td></tr><tr><td>**=</td><td>幂赋值运算符</td><td>c* *=a 等效于 c=c**a</td></tr></tbody></table><h4 id="任务五：Python-中的计数方法"><a href="#任务五：Python-中的计数方法" class="headerlink" title="任务五：Python 中的计数方法"></a><em>任务五：Python 中的计数方法</em></h4><p>常见的计数方法有两种，可以分别称为：</p><p><strong>自然计数法</strong>（从 <strong>1</strong> 开始）—— 更符合人类的习惯</p><p><strong>程序计数法</strong>（从 <strong>0</strong> 开始）—— 几乎所有的程序语言都选择从0开始计数</p><p>因此，在编写程序时，应养成习惯：<strong>除非需求的特殊要求，否则循环的计数都从0开始</strong></p><h3 id="9-2-2-实例：while循环计算求和"><a href="#9-2-2-实例：while循环计算求和" class="headerlink" title="9.2.2   实例：while循环计算求和"></a>9.2.2   实例：while循环计算求和</h3><h4 id="任务一：循环实现累加求和"><a href="#任务一：循环实现累加求和" class="headerlink" title="任务一：循环实现累加求和"></a><em>任务一：循环实现累加求和</em></h4><p>需求分析：在程序开发中，通常会遇到<strong>利用循环</strong>，进行<strong>重复计算</strong>(比如求和)的需求</p><p>通常需要在 <strong>while</strong>循环<strong>之前</strong>先定义一个变量，用于<strong>存放累积的计算结果</strong></p><p>然后，在循环体内部，根据计算结果对该变量进行<strong>更新</strong></p><p>计算0~100之间所有数字的累计求和结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算 0 ~ 100 之间所有数字的累计求和结果</span></span><br><span class="line"><span class="comment"># 0. 定义最终结果的变量</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 定义一个整数的变量记录循环的次数</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 开始循环</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line">   print(i)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 每一次循环，都让 result 这个变量和 i 这个计数器相加</span></span><br><span class="line">   result += i</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 处理计数器</span></span><br><span class="line">   i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f&quot;0~100之间的数字求和结果 = <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：循环实现偶数累加求和"><a href="#任务二：循环实现偶数累加求和" class="headerlink" title="任务二：循环实现偶数累加求和"></a><em>任务二：循环实现偶数累加求和</em></h4><p>计算0~100之间所有<strong>偶数</strong>的累计求和结果。在之前的程序基础上，添加奇偶判断</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 0. 最终结果</span></span><br><span class="line">result = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 计数器</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 开始循环</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">100</span>:</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 判断偶数</span></span><br><span class="line">   <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">       print(i)</span><br><span class="line">       result += i</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 处理计数器</span></span><br><span class="line">   i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f&quot;0~100之间的数字求和结果 = <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="9-2-3-循环变量"><a href="#9-2-3-循环变量" class="headerlink" title="9.2.3   循环变量"></a>9.2.3   循环变量</h3><p>知识点(术语)：循环变量</p><p><strong>while</strong>循环需要通过一个额外的循环变量来控制循环流程</p><p>通过<strong>循环变量</strong>来检验**<condition>**是否满足</p><p>在循环体中，需要对<strong>循环变量</strong>进行更新</p><h4 id="任务一：认识循环变量"><a href="#任务一：认识循环变量" class="headerlink" title="任务一：认识循环变量"></a><em>任务一：认识循环变量</em></h4><p>下面是一个简单的<strong>while</strong>循环，按步长为2，从1数到9</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#循环变量为a</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> a &lt; <span class="number">10</span>:</span><br><span class="line">   print(a)</span><br><span class="line">   <span class="comment"># 朝循环终止条件更新a</span></span><br><span class="line">   a += <span class="number">2</span></span><br></pre></td></tr></table></figure><p>将<strong>a</strong>称为<strong>循环变量</strong>，用来控制循环</p><p>在第1行，将循环变量<strong>a</strong>设置为1，从而指定从1开始数</p><p>接下来的<strong>while</strong>循环被设置成这样：只要<strong>a &lt; 10</strong>，就执行循环体</p><p>循环体中打印<strong>print(a)<strong>的值，再更新循环变量</strong>a += 2(a = a + 2</strong>的简写)</p><p>只要满足条件<strong>a &lt; 10</strong>，就继续循环。下图对<strong>while</strong>循环每步运行进行可视化</p><p>上面<strong>while</strong>代码的输出与下面的<strong>for</strong>循环等价</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>):</span><br><span class="line">   print(a)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p><strong>while</strong>循环要求在循环之前负责初始化<strong>a</strong>，并在循环体的底部让<strong>a</strong>增加，不需要指定循环迭代次数</p><p>在<strong>for</strong>循环中，循环临时变量<strong>a</strong>是自动处理的，迭代次数由**range()**生成的序列来决定</p><p>知识点：循环变量可以是显式的定义变量，也可以是<strong>隐式</strong>的，例如列表的长度等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">12</span>, <span class="number">37</span>, <span class="number">5</span>, <span class="number">42</span>, <span class="number">8</span>, <span class="number">3</span>]</span><br><span class="line">even = []</span><br><span class="line">odd = []</span><br><span class="line"><span class="comment"># 将列表长度作为循环变量</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">len</span>(numbers) &gt; <span class="number">0</span>:</span><br><span class="line">   <span class="comment">#通过pop()将numbers尾部元素弹出</span></span><br><span class="line">   <span class="comment"># 本质上朝条件更新循环变量的</span></span><br><span class="line">   number = numbers.pop()</span><br><span class="line">   <span class="comment"># 奇偶判断</span></span><br><span class="line">   <span class="keyword">if</span> (number%<span class="number">2</span>==<span class="number">0</span>):</span><br><span class="line">       even.append(number)</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       odd.append(number)</span><br><span class="line">       </span><br><span class="line">print(even)</span><br><span class="line">print(odd)</span><br></pre></td></tr></table></figure><h3 id="9-2-4-无限循环"><a href="#9-2-4-无限循环" class="headerlink" title="9.2.4   无限循环"></a>9.2.4   无限循环</h3><h4 id="任务一：while循环容易导致死循环"><a href="#任务一：while循环容易导致死循环" class="headerlink" title="任务一：while循环容易导致死循环"></a><em>任务一：while循环容易导致死循环</em></h4><p>知识点：由于程序员的原因，<strong>忘记</strong>在循环内部<strong>修改循环的判断条件</strong>，导致循环持续执行(无限循环)，程序无法终止！</p><p>知识点：不恰当的使用循环变量容易导致无限循环</p><p>由于<strong>while</strong>循环的终止条件是通过<condition>来控制的，使得<strong>while</strong>循环功能强大，它可以处理非序列或集合类型的循环</p><p><strong>while</strong>循环每次通过循环变量a来判断<condition>是否满足</p><p>在循环体中，如果<strong>不恰当或忘记更新</strong>循环变量<strong>a</strong>，将会造成<strong>程序无限循环</strong>，cell一直*<em>In[</em>]**状态</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 忘记更新a导致无限循环</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> a &lt; <span class="number">10</span>:</span><br><span class="line">   print(a)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>当Python到达<strong>while</strong>循环时，<strong>a</strong>是1，小于10，所以循环体执行，打印1</p><p>现在控制变量<strong>a</strong>返回到条件，<strong>a</strong>仍是1，所以循环体再次执行，打印1</p><p>现在控制返回到条件，<strong>a</strong>仍是0，所以循环体再次执行，打印1…… (死循环)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不恰当更新a导致无限循环</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> a &lt; <span class="number">10</span>:</span><br><span class="line">   print(a)</span><br><span class="line">   a -= <span class="number">2</span></span><br></pre></td></tr></table></figure><p>程序解析：</p><p>当Python到达<strong>while</strong>循环时，<strong>a</strong>是1，小于10，所以循环体执行，打印1</p><p>现在控制变量<strong>a</strong>返回到条件，<strong>a</strong>是-1，所以循环体再次执行，打印-1</p><p>现在控制返回到条件，<strong>a</strong>是-3，所以循环体再次执行，打印-3…… (死循环)</p><p>知识点：</p><p>作为初学者，很容易一不小心会写出无限循环程序，这是通往高手的必经之路</p><p>如果出现无限循环，要检查循环变量的更新是否是朝终止条件的</p><p>换言之，<strong>循环变量的更新是否收敛于循环控制条件</strong></p><p>出现无限循环是，Jupyter通过<strong>Kernel–&gt;Interrupt</strong>进行重置</p><h2 id="9-3-常见循环模式"><a href="#9-3-常见循环模式" class="headerlink" title="9.3   常见循环模式"></a>9.3   常见循环模式</h2><h3 id="9-3-1-交互式循环"><a href="#9-3-1-交互式循环" class="headerlink" title="9.3.1   交互式循环"></a>9.3.1   交互式循环</h3><h4 id="任务一：交互式循环"><a href="#任务一：交互式循环" class="headerlink" title="任务一：交互式循环"></a><em>任务一：交互式循环</em></h4><p>知识点：</p><p>不定循环<strong>while</strong>可以实现程序与用户的交互式循环</p><p>所谓的交互式循环，就是在<strong>while</strong>循环期间，程序通过不断询问用户，来决定是否继续循环</p><p>下面将通过数字平均值求解来分析交互式循环的机制</p><p>需求分析：</p><p>回忆，该程序之前需要<strong>强制用户提前输入一个需要参与运算数字的总数</strong></p><p>为此，希望<strong>while</strong>循环能自动记录这个数。定义变量<strong>count</strong>来实现计数功能，初识从0开始，每次循环增加1</p><p><strong>交互式循环</strong>：为了允许用户可以控制循环是否结束，在每次迭代过程中，程序都将交互式地询问用户是否还有数据要处理</p><p><strong>交互式循环</strong>的<strong>通用算法流程</strong>描述如下，其中<strong>moredata</strong>为循环循环变量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">设置 moredata 为 <span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="keyword">while</span> (moredata 是否 <span class="string">&quot;yes&quot;</span>)</span><br><span class="line">　　获得 the <span class="built_in">next</span> data item</span><br><span class="line">　　处理 the item</span><br><span class="line">　　询问用户是否有还有数据要处理，来控制moredata</span><br></pre></td></tr></table></figure><p>将交互式循环与计数器<strong>count</strong>相结合，得到这个平均值程序算法的<strong>伪代码</strong>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">初始 total to 0.0</span><br><span class="line">初始 count to 0</span><br><span class="line">设置 moredata to &quot;yes&quot;</span><br><span class="line">while moredata is &quot;yes&quot;</span><br><span class="line">　　input a number, x</span><br><span class="line">　　total +&#x3D; x</span><br><span class="line">　　count +&#x3D; 1</span><br><span class="line">　　ask user if there is moredata</span><br><span class="line">输出 total &#x2F; count</span><br></pre></td></tr></table></figure><p>根据上面的伪代码，转换为Python程序：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0.0</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line">moredata = <span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="keyword">while</span> moredata[<span class="number">0</span>] == <span class="string">&quot;y&quot;</span>:</span><br><span class="line"> x = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入数字：&quot;</span>))</span><br><span class="line"> total += x</span><br><span class="line"> count += <span class="number">1</span></span><br><span class="line"> moredata = <span class="built_in">input</span>(<span class="string">&quot;是否有额外数字需要处理 (yes or no)? &quot;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;\n平均数为：&quot;</span>, total / count)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>使用<strong>total</strong>变量来累加求和；使用<strong>count</strong>变量来统计用户输入数据的数量</p><p>使用<strong>moredata</strong>来控制循环，<strong>while</strong>循环判断条件**moredata[0] == “y”<strong>为用户输入的字符串第一个字母是否为</strong>“y”<strong>。例如，</strong>“y”、”yes”、”yeah”<strong>等。对于非</strong>“y”**开始的字符串，则终止循环</p><p><strong>缺陷</strong>：在这个版本中，虽然用户不必对数据量提前进行计数，但是人机交互不太友好，<strong>很繁琐</strong>，程序要不断地询问用户是否有输入</p><h3 id="9-3-2-哨兵式循环（重要）"><a href="#9-3-2-哨兵式循环（重要）" class="headerlink" title="9.3.2   哨兵式循环（重要）"></a>9.3.2   哨兵式循环（重要）</h3><p>需求分析：</p><p>上面程序虽然实现了<strong>while</strong>循环能自动提供计数功能，但它在每次迭代中询问用户是否有数据输入，人机交互非常繁琐</p><p>如果程序能<strong>根据输入的数据本身特点来控制循环是否继续</strong>，就可以避免显式地询问用户的步骤，这种模式称为哨兵式循环</p><h4 id="任务一：哨兵式循环"><a href="#任务一：哨兵式循环" class="headerlink" title="任务一：哨兵式循环"></a><em>任务一：哨兵式循环</em></h4><p>知识点：</p><p><strong>哨兵式循环</strong>：循环体中，不断接收新数据，直到用户输入某些特殊值，表明迭代结束。例如，程序需要输入**&gt;=0<strong>的整数，根据数据特点，如果用户输入</strong>&lt;0**的数，就可以将它作为循环终止条件</p><p><strong>哨兵(sentinel)<strong>：可以选择任何数据值作为</strong>哨兵</strong>，唯一的限制是<strong>能与实际数据值区分</strong>开来。例如，正常数据为**&gt;=0<strong>的整数，那么</strong>&lt;0**的数就可以作为哨兵。</p><p><strong>哨兵式循环</strong>的<strong>通用算法流程</strong>描述如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">输入 the first item</span><br><span class="line"><span class="keyword">while</span> (item 是否为 哨兵)</span><br><span class="line">　　处理 the item</span><br><span class="line">　　输入 the <span class="built_in">next</span> item</span><br></pre></td></tr></table></figure><p>说明：</p><p>在循环开始之前要求用户输入第一项数据<strong>item</strong>，称为“启动输入”</p><p>如果第一项是哨兵，<strong>while</strong>循环将立即终止。否则，进入循环体，处理该项数据<strong>item</strong>，并读取下一项</p><p>在下次循环开始前，<strong>while</strong>的循环条件会判断上次输入的<strong>item</strong>是否为哨兵，来控制循环是否继续被执行。如果遇到哨兵，循环终止</p><p><strong>启动输入</strong>和<strong>循环体内的输入</strong>是一样的，都是用于接受新数据</p><p>将哨兵式循环用于数字平均值计算问题。首先要<strong>选择哨兵</strong>，即循环终止条件。假设数据是来源于期末考试成绩，通常成绩都是**&gt;=0<strong>的。因此，可以选用</strong>&lt;0**作为哨兵。具体Python程序如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0.0</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line">x = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入数字(负数退出循环)：&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># x&lt;0 作为哨兵</span></span><br><span class="line"><span class="keyword">while</span> x &gt;= <span class="number">0</span>:</span><br><span class="line"> total = total + x</span><br><span class="line"> count = count + <span class="number">1</span></span><br><span class="line"> x = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入数字(负数退出循环)：&quot;</span>))</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;平均值：&quot;</span>, total / count)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>相比于交互式循环，哨兵式循环的用户交互简单易用，省去了一直输入<strong>yes</strong>的麻烦</p><p><strong>x = float(input(“输入数字(负数退出循环):”))：while</strong>循环体外的<strong>启动输入</strong>和<strong>循环体内的输入</strong>是一样的，都是用于接受新数据。哨兵式循环需要在<strong>while</strong>循环外，提前接受一项数据</p><p><strong>while x &gt;= 0</strong>，此时哨兵为<strong>x&lt;0</strong>，即循环结束条件</p><p><strong>缺陷</strong>：该程序不能用于对一组既包含负值又包含正值的数字求平均值</p><h4 id="任务二：扩大哨兵范围"><a href="#任务二：扩大哨兵范围" class="headerlink" title="任务二：扩大哨兵范围"></a><em>任务二：扩大哨兵范围</em></h4><p>需求分析：</p><p>为了使得问题能处理任何范围的数值输入，需要拥有一个<strong>真正独特的哨兵</strong></p><p>首先可以将用户的输入作为字符串来获取，并定义一个<strong>特殊的非数字字符串</strong>(比如空字符串**””<strong>，</strong>“Q”<strong>或</strong>“q”**)，作为循环结束标识(<strong>哨兵</strong>)</p><p>其他的数值类型输入都将被转换为数字，用于计算</p><p>一个空字符串在Python中被表示为**””<strong>(不含空格)。如果用户输入空白行(只需输入<Enter>)，Python将返回一个空字符串。可以使用</strong>“”**作为哨兵，来改进平均数计算程序。Python程序如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0.0</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line">xStr = <span class="built_in">input</span>(<span class="string">&quot;输入数字(&lt;Enter&gt;退出循环)：&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 哨兵为 空字符串</span></span><br><span class="line"><span class="keyword">while</span> xStr != <span class="string">&quot;&quot;</span>:</span><br><span class="line"> x = <span class="built_in">float</span>(xStr)</span><br><span class="line"> total = total + x</span><br><span class="line"> count = count + <span class="number">1</span></span><br><span class="line"> xStr = <span class="built_in">input</span>(<span class="string">&quot;输入数字(&lt;Enter&gt;退出循环)：&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;平均值：&quot;</span>, total / count)</span><br></pre></td></tr></table></figure><p>这段代码检查并确保输入不是哨兵**””<strong>后，然后将输入转换成浮点数</strong>float**用于均值计算</p><h3 id="9-3-3-使用Flag来控制循环（重要）"><a href="#9-3-3-使用Flag来控制循环（重要）" class="headerlink" title="9.3.3   使用Flag来控制循环（重要）"></a>9.3.3   使用Flag来控制循环（重要）</h3><h4 id="任务一：掌握为何需要使用Flag"><a href="#任务一：掌握为何需要使用Flag" class="headerlink" title="任务一：掌握为何需要使用Flag"></a><em>任务一：掌握为何需要使用Flag</em></h4><p>需求分析：</p><p><strong>while</strong>循环的执行依赖于循环条件</p><p>之前，<strong>影响循环条件的都只有1个变量</strong>。然而，某些循环场景往往又会受到多个变量的同时影响，即有<strong>多个变量会影响循环的终止</strong>。例如，游戏程序中，游戏失败往往会有多个触发条件</p><p>如果<strong>while</strong>循环在一条语句中同时检测所有条件，将会导致程序变得非常复杂</p><p>本质上，就是有<strong>多个哨兵</strong>时，程序如何来控制循环条件</p><p>知识点：循环控制标志(<strong>Flag</strong>)</p><p>为了解决上述问题，可以定义一个<strong>bool</strong>类型的变量<strong>Flag</strong>作为<strong>循环控制标志</strong>，用于监测(判断)循环是否处于活跃状态</p><p>它充当了程序的<strong>信号灯</strong>作用，如果<strong>Flag</strong>为<strong>True</strong>，说明程序是活跃状态，可以继续执行循环；如果是<strong>False</strong>，那么有循环终止事件被触发了，它将终止循环</p><p>多个循环影响因素(哨兵)可以通过<strong>Flag</strong>间接的来控制循环的执行</p><p>在<strong>while</strong>循环条件中，只需要检查<strong>Flag</strong>是否为<strong>True</strong>。而触发<strong>Flag</strong>值为<strong>False</strong>的事件(哨兵)可以放在循环体的其他地方。从而使得程序整个逻辑变得更清晰</p><p>下面的程序，将上节的平均值计算程序添加一个<strong>Flag</strong>变量，来控制<strong>while</strong>循环</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0.0</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Flag = <span class="literal">True</span></span><br><span class="line"><span class="comment"># 哨兵为 空字符串</span></span><br><span class="line"><span class="keyword">while</span> Flag:</span><br><span class="line">   xStr = <span class="built_in">input</span>(<span class="string">&quot;输入数字(&lt;Enter&gt;退出循环)：&quot;</span>)</span><br><span class="line">   </span><br><span class="line">   <span class="comment"># 哨兵1：输入不为空</span></span><br><span class="line">   <span class="keyword">if</span> (xStr == <span class="string">&#x27;&#x27;</span>):</span><br><span class="line">       Flag = <span class="literal">False</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       x = <span class="built_in">float</span>(xStr)</span><br><span class="line">       total += x</span><br><span class="line">       count += <span class="number">1</span></span><br><span class="line">   <span class="comment"># 哨兵2：总数不超过9    </span></span><br><span class="line">   <span class="keyword">if</span> count &gt; <span class="number">9</span>:</span><br><span class="line">       Flag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (count != <span class="number">0</span>):</span><br><span class="line">   print(<span class="string">&quot;平均值：&quot;</span>, total / count)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">&quot;没输入任何数！&quot;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>定义一个<strong>Flag</strong>变量，使用它来作为<strong>while</strong>循环的控制条件</p><p><strong>Flag</strong>变量的初始值为<strong>True</strong>；并在循环体中，有2个哨兵</p><p>第1个哨兵<strong>xStr == ‘’<strong>来触发</strong>Flag</strong>为<strong>False</strong>；第2个哨兵<strong>count &gt; 9</strong>来触发<strong>Flag</strong>为<strong>False</strong></p><h4 id="任务二：Flag和哨兵的关系"><a href="#任务二：Flag和哨兵的关系" class="headerlink" title="任务二：Flag和哨兵的关系"></a><em>任务二：Flag和哨兵的关系</em></h4><p>知识点：使用<strong>Flag</strong>来控制<strong>while</strong>循环，本质上，就是根据<strong>if</strong>语句来检测哨兵，然后触发<strong>Flag</strong>变量为<strong>False</strong></p><p>下面这个程序为<strong>消息回音</strong>，即计算机会将用户输入的字符串，原封不动的输出。这里使用**’quit’**作为哨兵</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">prompt = <span class="string">&quot;输入&#x27;quit&#x27;结束程序&quot;</span></span><br><span class="line"></span><br><span class="line">Flag = <span class="literal">True</span></span><br><span class="line"><span class="keyword">while</span> Flag:</span><br><span class="line">   message = <span class="built_in">input</span>(prompt)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> message == <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">       Flag = <span class="literal">False</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       print(message)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>将变量<strong>Flag</strong>设置成了<strong>True</strong>，让程序最初处于活动状态</p><p>在<strong>while</strong>循环中，在用户输入后使用一条<strong>if</strong>语句来检查变量<strong>message</strong>的值</p><p>如果用户输入的是**’quit’<strong>，就将变量</strong>Flag<strong>设置为</strong>False<strong>，这将导致</strong>while**循环不再继续执行</p><p>如果用户输入的不是**’quit’**，就将输入作为一条消息打印出来</p><h3 id="9-3-4-break和continue控制循环流程"><a href="#9-3-4-break和continue控制循环流程" class="headerlink" title="9.3.4   break和continue控制循环流程"></a>9.3.4   break和continue控制循环流程</h3><h4 id="任务一：控制循环流程"><a href="#任务一：控制循环流程" class="headerlink" title="任务一：控制循环流程"></a><em>任务一：控制循环流程</em></h4><p>知识点：<strong>break</strong> 和 <strong>continue</strong> 是专门用于循环流程中断控制的关键字</p><p><strong>break</strong>：退出循环，不再执行循环的后续代码</p><p><strong>continue</strong>：不执行<strong>本次</strong>循环的后续代码，并执行下一轮循环</p><p>嵌套循环时，<strong>break</strong> 和 <strong>continue</strong> 只针对<strong>当前所在循环</strong>有效</p><h4 id="任务二：break退出循环"><a href="#任务二：break退出循环" class="headerlink" title="任务二：break退出循环"></a><em>任务二：break退出循环</em></h4><p><strong>在循环过程中</strong>，如果<strong>某一个条件满足后</strong>，<strong>不</strong>再希望<strong>循环继续执行</strong>，可以使用 <strong>break</strong>退出循环。<strong>break</strong> 只针对当前所在循环有效</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">10</span>:</span><br><span class="line"></span><br><span class="line">   <span class="comment"># break 某一条件满足时，退出循环，不再执行后续重复的代码</span></span><br><span class="line">   <span class="comment"># i == 3</span></span><br><span class="line">   <span class="keyword">if</span> i == <span class="number">3</span>:</span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">   print(i)</span><br><span class="line"></span><br><span class="line">   i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;over&quot;</span>)</span><br></pre></td></tr></table></figure><p>知识点：</p><p>在循环中，可以使用<strong>break</strong>语句强制彻底地退出循环，不管循环条件是否满足</p><p>如果使用<strong>break</strong>语句，即使<strong>while</strong>条件为<strong>True</strong>，也随时停止循环</p><p><strong>break</strong>语句也适用于for循环，来退出遍历</p><p>下面程序让用户输入一系列去过的城市，并在输入**’quit’<strong>后使用</strong>break<strong>语句立即退出</strong>while**循环</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">prompt = <span class="string">&quot;输入喜欢的城市，并以&#x27;quit&#x27;结束程序&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置条件为永True</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">   message = <span class="built_in">input</span>(prompt)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> message == <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">       <span class="keyword">break</span> </span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       print(<span class="string">&quot;I&#x27;d love to go to &quot;</span> + city.title() + <span class="string">&quot;!&quot;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p><strong>while</strong>条件设置为永真，即如果没有<strong>break</strong>语句，程序将会无止境的运行</p><p>循环体中，要求用户不断输入去过的城市名字，直到输入**’quit’**为止</p><p>当用户输入**’quit’<strong>后，将执行</strong>break**语句来退出循环</p><h4 id="任务三：continue跳过该次循环"><a href="#任务三：continue跳过该次循环" class="headerlink" title="任务三：continue跳过该次循环"></a><em>任务三：continue跳过该次循环</em></h4><p><strong>在循环过程中</strong>，如果<strong>某一个条件满足后，不</strong>希望<strong>执行循环代码</strong>，<strong>但是又不希望退出循环</strong>，可以使用 <strong>continue</strong></p><p>知识点：相对于<strong>break</strong>语句彻底退出循环，<strong>continue</strong>语句近跳过该次循环，不执行该语句之后的语句，重新返回到循环开头</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">10</span>:</span><br><span class="line">   <span class="comment"># 当 i == 7 时，不希望执行需要重复执行的代码</span></span><br><span class="line">   <span class="keyword">if</span> i == <span class="number">7</span>:</span><br><span class="line">       <span class="comment"># 在使用 continue 之前，同样应该修改计数器</span></span><br><span class="line">       <span class="comment"># 否则会出现死循环</span></span><br><span class="line">       i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 重复执行的代码</span></span><br><span class="line">   print(i)</span><br><span class="line"></span><br><span class="line">   i += <span class="number">1</span></span><br></pre></td></tr></table></figure><p>使用 <strong>continue</strong> 时，<strong>条件处理部分的代码，需要特别注意</strong>，不小心会出现 <strong>死循环</strong></p><p>下面例子中，通过<strong>continue</strong>语句实现，在循环体中只打印从1到10的奇数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">current_number = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> current_number &lt; <span class="number">10</span>:</span><br><span class="line">   current_number += <span class="number">1</span></span><br><span class="line">   <span class="keyword">if</span> current_number % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">       <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">   print(current_number)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>首先将<strong>current_number</strong>设置成了0，由于它小于10，Python进入<strong>while</strong>循环</p><p>进入循环后，我们以步长1的方式往上数，因此<strong>current_number</strong>为1</p><p>接下来，<strong>if</strong>语句检查<strong>current_number</strong>与2的求模运算结果</p><p>如果结果为0(意味着<strong>current_number</strong>可被2整除)，就执行<strong>continue</strong>语句，让Python忽略余下的代码，并返回到循环的开头。如果当前的数字不能被2整除，就执行循环中余下的代码，Python将这个数字打印出来</p><h3 id="习题：-1"><a href="#习题：-1" class="headerlink" title="习题："></a>习题：</h3><p><strong>7-4 比萨配料</strong>：编写一个循环，提示用户输入一系列的比萨配料，并在用户输入**’quit’**时结束循环。每当用户输入一种配料后，都打印一条消息，说我们会在比萨中添加这种配料</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">shuru = <span class="string">&quot;请输入你需要添加的pizza配料：&quot;</span></span><br><span class="line">shuru +=<span class="string">&quot;\n当你输入quit，将停止添加配料：&quot;</span></span><br><span class="line">pizzas = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">while</span> pizzas != <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">    pizzas = <span class="built_in">input</span>(shuru)</span><br><span class="line">    <span class="keyword">if</span> pizzas != <span class="string">&#x27;quit&#x27;</span>:</span><br><span class="line">        print(<span class="string">&quot;你的比萨添加&quot;</span>+pizzas+<span class="string">&quot;成功\n&quot;</span>)    </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">你的比萨添加牛肉成功</span><br><span class="line"></span><br><span class="line">你的比萨添加羊肉成功</span><br><span class="line"></span><br><span class="line">你的比萨添加猪肉成功</span><br></pre></td></tr></table></figure><p><strong>7-5 电影票</strong>：有家电影院根据观众的年龄收取不同的票价：不到3岁的观众免费；3~12岁的观众为10美元；超过12岁的观众为15美元。请编写一个循环，在其中询问用户的年龄，并指出其票价</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入用户年龄:&quot;</span>)) <span class="comment"># 5</span></span><br><span class="line">    <span class="keyword">if</span> age &lt; <span class="number">3</span>:</span><br><span class="line">        print(<span class="string">&quot;该用户免费&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="number">3</span> &lt;= age &lt; <span class="number">12</span>:</span><br><span class="line">        print(<span class="string">&quot;该年龄段用户收费的是10美元&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&quot;该年龄段用户收费的是15美元&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">该年龄段用户收费的是<span class="number">10</span>美元</span><br></pre></td></tr></table></figure><p><strong>7-6 三个出口</strong>：以另一种方式完成练习7-4或练习7-5，在程序中采取如下所有做法</p><p>在<strong>while</strong>循环中使用条件测试来结束循环</p><p>使用变量<strong>active</strong>来控制循环结束的时机</p><p>使用<strong>break</strong>语句在用户输入**’quit’**时退出循环</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">active = <span class="built_in">input</span>(<span class="string">&quot;请输入你的年龄:&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入用户年龄:&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span> age &lt; <span class="number">3</span>:</span><br><span class="line">        print(<span class="string">&quot;该用户免费&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="number">3</span> &lt;= age &lt; <span class="number">12</span>:</span><br><span class="line">        print(<span class="string">&quot;该年龄段用户收费的是10美元&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&quot;该年龄段用户收费的是15美元&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> active == <span class="string">&quot;quit&quot;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p><strong>7-7 无限循环</strong>：编写一个没完没了的循环，并运行它，并Jupyter通过<strong>Kernel–&gt; Interrupt</strong>进行重置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> a &gt;<span class="number">0</span>:</span><br><span class="line">    a += <span class="number">1</span></span><br><span class="line">    print(a)</span><br></pre></td></tr></table></figure><h2 id="9-4-嵌套循环"><a href="#9-4-嵌套循环" class="headerlink" title="9.4   嵌套循环"></a>9.4   嵌套循环</h2><h3 id="9-4-1-while循环嵌套流程分析"><a href="#9-4-1-while循环嵌套流程分析" class="headerlink" title="9.4.1   while循环嵌套流程分析"></a>9.4.1   while循环嵌套流程分析</h3><p><strong>while</strong> 嵌套就是：<strong>while</strong> 里面还有 <strong>while</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件 <span class="number">1</span>:</span><br><span class="line">   条件满足时，做的事情<span class="number">1</span></span><br><span class="line">   条件满足时，做的事情<span class="number">2</span></span><br><span class="line">   条件满足时，做的事情<span class="number">3</span></span><br><span class="line">   ...(省略)...</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">while</span> 条件 <span class="number">2</span>:</span><br><span class="line">       条件满足时，做的事情<span class="number">1</span></span><br><span class="line">       条件满足时，做的事情<span class="number">2</span></span><br><span class="line">       条件满足时，做的事情<span class="number">3</span></span><br><span class="line">       ...(省略)...</span><br><span class="line">   </span><br><span class="line">       处理条件 <span class="number">2</span></span><br><span class="line">   </span><br><span class="line">   处理条件 <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="9-4-2-实例：九九乘法表"><a href="#9-4-2-实例：九九乘法表" class="headerlink" title="9.4.2   实例：九九乘法表"></a>9.4.2   实例：九九乘法表</h3><h4 id="任务一：打印小星星"><a href="#任务一：打印小星星" class="headerlink" title="任务一：打印小星星"></a><em>任务一：打印小星星</em></h4><p>在控制台连续输出五行 *****，每一行星号的数量依次递增：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">**</span><br><span class="line">***</span><br><span class="line">****</span><br><span class="line">*****</span><br></pre></td></tr></table></figure><p>知识点：</p><p>字符串的乘法，表示复制字符串内容</p><p>例如，**”<em>“ * 2*<em>，表示复制字符</em></em>`”*”**两次</p><p>使用字符串 ***** 打印</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 定义一个计数器变量，从数字1开始，循环会比较方便</span></span><br><span class="line">row = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> row &lt;= <span class="number">5</span>:</span><br><span class="line">   print(<span class="string">&quot;*&quot;</span> * row)</span><br><span class="line">   row += <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="任务二：print-函数的end-””参数"><a href="#任务二：print-函数的end-””参数" class="headerlink" title="任务二：print 函数的end=””参数"></a><em>任务二：print 函数的end=””参数</em></h4><p>知识点(回顾)：</p><p>在默认情况下，<strong>print</strong> 函数输出内容之后，会自动在内容末尾增加换行</p><p>如果不希望末尾增加换行，可以通过<strong>print</strong> 函数的**end=””**关键字参数指定结束字符</p><p><strong>end=”@”<strong>：</strong>print</strong> 函数输出的尾部添加**@**字符</p><p><strong>end=””</strong> ：<strong>print</strong> 函数输出的尾部不添加任何字符，也不再换行了。</p><p>语法格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 向控制台输出内容结束之后，不会换行</span></span><br><span class="line">print(<span class="string">&quot;*&quot;</span>, end=<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="comment"># 单纯的换行</span></span><br><span class="line">print(<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务三：使用循环嵌套打印小星星"><a href="#任务三：使用循环嵌套打印小星星" class="headerlink" title="任务三：使用循环嵌套打印小星星"></a><em>任务三：使用循环嵌套打印小星星</em></h4><p>假设<strong>Python</strong> 没有提供字符串的 ***** 复制操作运算，需要通过嵌套<strong>while</strong>循环来实现该功能，来实现连续输出五行 *****，每一行星号的数量依次递增</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">**</span><br><span class="line">***</span><br><span class="line">****</span><br><span class="line">*****</span><br></pre></td></tr></table></figure><p>思路分析：</p><p>完成 5 行内容的简单输出</p><p>分析每行内部的 ***** 应该如何处理？</p><p>每行显示的星星和当前所在的行数是一致的</p><p>嵌套一个小的循环，专门处理每一行中<strong>列</strong>的星星显示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">row = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> row &lt;= <span class="number">5</span>:</span><br><span class="line">   <span class="comment"># 假设 python 没有提供字符串 * 操作</span></span><br><span class="line">   <span class="comment"># 在循环内部，再增加一个循环，实现每一行的 星星 打印</span></span><br><span class="line">   col = <span class="number">1</span></span><br><span class="line">   <span class="keyword">while</span> col &lt;= row:</span><br><span class="line">       print(<span class="string">&quot;*&quot;</span>, end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">       col += <span class="number">1</span></span><br><span class="line">   <span class="comment"># 每一行星号输出完成后，再增加一个换行</span></span><br><span class="line">   print(<span class="string">&quot;&quot;</span>)</span><br><span class="line">   row += <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="任务四：嵌套打印九九乘法表"><a href="#任务四：嵌套打印九九乘法表" class="headerlink" title="任务四：嵌套打印九九乘法表"></a><em>任务四：嵌套打印九九乘法表</em></h4><p>输出九九乘法表，格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> * <span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="number">1</span> * <span class="number">2</span> = <span class="number">22</span> * <span class="number">2</span> = <span class="number">4</span></span><br><span class="line"><span class="number">1</span> * <span class="number">3</span> = <span class="number">32</span> * <span class="number">3</span> = <span class="number">63</span> * <span class="number">3</span> = <span class="number">9</span></span><br><span class="line"><span class="number">1</span> * <span class="number">4</span> = <span class="number">42</span> * <span class="number">4</span> = <span class="number">83</span> * <span class="number">4</span> = <span class="number">12</span> <span class="number">4</span> * <span class="number">4</span> = <span class="number">16</span> </span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>步骤一：打印 9 行小星星</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">**</span><br><span class="line">***</span><br><span class="line">****</span><br><span class="line">*****</span><br><span class="line">******</span><br><span class="line">*******</span><br><span class="line">********</span><br><span class="line">*********</span><br></pre></td></tr></table></figure><p>步骤二：将每一个 ***** 替换成对应的行与列相乘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义起始行</span></span><br><span class="line">row = <span class="number">1</span></span><br><span class="line"><span class="comment"># 最大打印 9 行</span></span><br><span class="line"><span class="keyword">while</span> row &lt;= <span class="number">9</span>:</span><br><span class="line">   <span class="comment"># 定义起始列</span></span><br><span class="line">   col = <span class="number">1</span></span><br><span class="line">   <span class="comment"># 最大打印 row 列</span></span><br><span class="line">   <span class="keyword">while</span> col &lt;= row:</span><br><span class="line">       <span class="comment"># end = &quot;&quot;，表示输出结束后，不换行</span></span><br><span class="line">       <span class="comment"># &quot;\t&quot; 可以在控制台输出一个制表符，协助在输出文本时对齐</span></span><br><span class="line">       <span class="comment"># print(&quot;%d * %d = %d&quot; % (col, row, row * col), end=&quot;\t&quot;)</span></span><br><span class="line">       <span class="comment"># f-string方式，相对%输出更简洁</span></span><br><span class="line">       print(<span class="string">f&quot;<span class="subst">&#123;col&#125;</span> * <span class="subst">&#123;row&#125;</span> = <span class="subst">&#123;row * col&#125;</span>&quot;</span>, end=<span class="string">&quot;\t&quot;</span>)</span><br><span class="line">       <span class="comment"># 列数 + 1</span></span><br><span class="line">       col += <span class="number">1</span></span><br><span class="line">   <span class="comment"># 一行打印完成的换行</span></span><br><span class="line">   print(<span class="string">&quot;&quot;</span>)</span><br><span class="line">   <span class="comment"># 行数 + 1</span></span><br><span class="line">   row += <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="任务五：字符串中的转义字符-回顾"><a href="#任务五：字符串中的转义字符-回顾" class="headerlink" title="任务五：字符串中的转义字符(回顾)"></a><em>任务五：字符串中的转义字符(回顾)</em></h4><p><strong>\t</strong> 在控制台输出一个 <strong>制表符</strong>，协助在输出文本时 <strong>垂直方向</strong> 保持对齐。<strong>制表符</strong>的功能是在不使用表格的情况下在垂直方向按列对齐文本</p><p><strong>\n</strong> 在控制台输出一个 <strong>换行符</strong></p><table><thead><tr><th>转义字符</th><th>描述</th></tr></thead><tbody><tr><td>\</td><td>反斜杠符号</td></tr><tr><td>&#39;</td><td>单引号</td></tr><tr><td>&quot;</td><td>双引号</td></tr><tr><td>\n</td><td>换行</td></tr><tr><td>\t</td><td>横向制表符</td></tr><tr><td>\r</td><td>回车</td></tr></tbody></table><h3 id="9-4-3-实例：进阶平均数计算"><a href="#9-4-3-实例：进阶平均数计算" class="headerlink" title="9.4.3   实例：进阶平均数计算"></a>9.4.3   实例：进阶平均数计算</h3><h4 id="任务一：数据生成"><a href="#任务一：数据生成" class="headerlink" title="任务一：数据生成"></a><em>任务一：数据生成</em></h4><p>创建一个数据文件，共100行，每行为10~20个随机数，以数字之间**,**为间隔</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> rd</span><br><span class="line"><span class="comment"># 例如：Data.txt</span></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;请输入文件名: &#x27;</span>)</span><br><span class="line">f = <span class="built_in">open</span>(name, <span class="string">&quot;w+&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">   <span class="comment"># 每行元素个数为10~20个</span></span><br><span class="line">   s = rd.randint(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">   <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(s):</span><br><span class="line">       <span class="comment"># 随机生成[-10,10]区间的整数</span></span><br><span class="line">       num = rd.randint(-<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">       <span class="comment"># 将num转换为字符串，并用&#x27;,&#x27;拼接，写入文件中</span></span><br><span class="line">       <span class="comment"># 最后一个元素(j=s-1)，添加换行符&#x27;\n&#x27;</span></span><br><span class="line">       <span class="keyword">if</span> j &lt; s - <span class="number">1</span>:</span><br><span class="line">           f.write(<span class="built_in">str</span>(num) + <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">       <span class="keyword">else</span>:</span><br><span class="line">           f.write(<span class="built_in">str</span>(num) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;生成结束，请打开<span class="subst">&#123;name&#125;</span>查看结果&#x27;</span>)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h4 id="任务二：字符串拆分"><a href="#任务二：字符串拆分" class="headerlink" title="任务二：字符串拆分"></a><em>任务二：字符串拆分</em></h4><p>知识点：</p><p>语法：<strong>str.split(str=””)</strong></p><p>描述：通过指定分隔符<strong>str</strong>对字符串进行切分</p><p>参数：<strong>str</strong>为分隔符，默认为所有的空字符，包括空格、换行(<strong>\n</strong>)、制表符(<strong>\t</strong>)等</p><p>返回：返回分割后的字符串列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&quot;Line1-abcdef \nLine2-abc \nLine4-abcd&quot;</span></span><br><span class="line"><span class="comment"># 以空格为分隔符，包含 \n</span></span><br><span class="line">print(<span class="built_in">str</span>.split());  </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">txt = <span class="string">&quot;Google#Runoob#Taobao#Facebook&quot;</span></span><br><span class="line"><span class="comment">#以#为分隔符</span></span><br><span class="line">print(txt.split(<span class="string">&quot;#&quot;</span>))</span><br></pre></td></tr></table></figure><h4 id="任务三：嵌套式循环求平均值"><a href="#任务三：嵌套式循环求平均值" class="headerlink" title="任务三：嵌套式循环求平均值"></a><em>任务三：嵌套式循环求平均值</em></h4><p>算法分析：</p><p>外层循环使用哨兵式循环<strong>while</strong>循环，<strong>for</strong>循环会更简单</p><p>外层循环：在循环体中，通过<strong>readline()<strong>按行读取文件。以</strong>‘’<strong>作为</strong>while</strong>循环哨兵</p><p>内层循环：对每行的字符串使用<strong>split()<strong>方法进行拆分字符串，返回的是一个子列表，再嵌套</strong>for</strong>循环，对子列表元素进行计算</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输入之前生成数字的文件：Data.txt</span></span><br><span class="line">fileName = <span class="built_in">input</span>(<span class="string">&quot;输入文件名: &quot;</span>)</span><br><span class="line">infile = <span class="built_in">open</span>(fileName,<span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">total = <span class="number">0.0</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从文件中先读一行</span></span><br><span class="line">line = infile.readline()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将line为空作为哨兵，即读到文件末尾</span></span><br><span class="line"><span class="keyword">while</span> line != <span class="string">&quot;&quot;</span>:</span><br><span class="line">   <span class="keyword">for</span> num <span class="keyword">in</span> line.split(<span class="string">&quot;,&quot;</span>):  </span><br><span class="line">       total += <span class="built_in">float</span>(num)</span><br><span class="line">       count += <span class="number">1</span></span><br><span class="line">   line = infile.readline()</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;平均值为：&quot;</span>, total / count)</span><br></pre></td></tr></table></figure><p>嵌套循环的设计准则：</p><ul><li>首先设计外层，不考虑内层的内容</li><li>然后设计内层，忽略外层循环</li><li>最后放在一起，注意保留嵌套循环变量间的<strong>耦合性</strong>。如果单个循环是正确的，则嵌套的结果就会正常工作，要相信这一点</li><li>通过一点练习，将轻松掌握双重甚至三重嵌套循环</li></ul><h2 id="9-5-使用while循环来处理列表和字典"><a href="#9-5-使用while循环来处理列表和字典" class="headerlink" title="9.5   使用while循环来处理列表和字典"></a>9.5   使用while循环来处理列表和字典</h2><h4 id="任务一：for循环和while循环的不同定位"><a href="#任务一：for循环和while循环的不同定位" class="headerlink" title="任务一：for循环和while循环的不同定位"></a><em>任务一：for循环和while循环的不同定位</em></h4><p>知识点：</p><p><strong>只读模式</strong>：<strong>for</strong>循环的目的是通过遍历列表(序列或容器)的每个元素，对它们执行相同的批量化操作。循环体中，对临时变量进行修改，并不会影响原列表元素内容。因此，<strong>for</strong>循环是一种只读模式</p><p><strong>可写模式</strong>：如果需要在迭代列表的同时，对元素进行修改，建议使用<strong>while</strong>循环</p><h4 id="任务二：在列表间移动元素"><a href="#任务二：在列表间移动元素" class="headerlink" title="任务二：在列表间移动元素"></a><em>任务二：在列表间移动元素</em></h4><p>假设有一个列表，其中包含新注册但还未验证的网站用户；验证这些用户后，如何将他们移到另一个已验证用户列表中呢？</p><p>使用<strong>while</strong>循环可以有效的满足上述的需求。在验证用户的同时将其从未验证用户列表中提取出来，再将其加入到另一个已验证用户列表中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先，创建一个待验证用户列表</span></span><br><span class="line"><span class="comment">#  和一个用于存储已验证用户的空列表</span></span><br><span class="line">unconfirmed_users = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;brian&#x27;</span>, <span class="string">&#x27;candace&#x27;</span>]</span><br><span class="line">confirmed_users = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证每个用户，直到没有未验证用户为止</span></span><br><span class="line"><span class="comment">#  将每个经过验证的列表都移到已验证用户列表中</span></span><br><span class="line"><span class="keyword">while</span> unconfirmed_users:</span><br><span class="line">   current_user = unconfirmed_users.pop()</span><br><span class="line"></span><br><span class="line">   print(<span class="string">&quot;待验证用户: &quot;</span> + current_user.title())</span><br><span class="line">   confirmed_users.append(current_user)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示所有已验证的用户</span></span><br><span class="line">print(<span class="string">&quot;已验证用户:&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> confirmed_user <span class="keyword">in</span> confirmed_users:</span><br><span class="line">   print(confirmed_user.title())</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>首先创建了一个未验证用户列表，其中包含用户Alice、Brian和Candace，还创建了一个空列表，用于存储已验证的用户</p><p>然后，<strong>while</strong>循环将不断地运行，直到列表<strong>unconfirmed_users</strong>变成空的。</p><p>在这个循环中，函数<strong>pop()<strong>以每次一个的方式从列表</strong>unconfirmed_users</strong>末尾删除未验证的用户</p><p>由于Candace位于列表<strong>unconfirmed_users</strong>末尾，因此其名字将首先被删除、存储到变量<strong>current_user</strong>中并加入到列表<strong>confirmed_users</strong>中。接下来是Brian，然后是Alice</p><p>为模拟用户验证过程，打印一条验证消息并将用户加入到已验证用户列表中。未验证用户列表会越来越短，而已验证用户列表越来越长。未验证用户列表为空后结束循环，最后打印已验证用户列表</p><h4 id="任务三：删除包含特定值的所有列表元素"><a href="#任务三：删除包含特定值的所有列表元素" class="headerlink" title="任务三：删除包含特定值的所有列表元素"></a><em>任务三：删除包含特定值的所有列表元素</em></h4><p><strong>remove()<strong>方法在删除列表特定值时，只能删除列表中，首次出现的元素值。那么如何删除列表中</strong>所有</strong>等于特定值的元素呢？</p><p>假设有一个宠物列表，其中包含多个值为**’cat’<strong>的元素。要删除所有</strong>‘cat’<strong>元素，可以使用</strong>while<strong>循环，通过</strong>in<strong>表达式检测列表是否包含</strong>‘cat’**来作为循环条件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pets = [<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;goldfish&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>]</span><br><span class="line">print(pets)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="string">&#x27;cat&#x27;</span> <span class="keyword">in</span> pets:</span><br><span class="line">   pets.remove(<span class="string">&#x27;cat&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(pets)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>首先创建了一个列表，其中包含多个值为**’cat’**的元素</p><p>打印这个列表后，Python进入<strong>while</strong>循环，因为它发现**’cat’**在列表中至少出现了一次</p><p>进入这个循环后，Python删除第一个**’cat’<strong>并返回到</strong>while<strong>代码行，然后发现</strong>‘cat’**还包含在列表中，因此再次进入循环</p><p>它不断删除**’cat’**，直到这个值不再包含在列表中，然后退出循环并再次打印列表</p><h4 id="任务四：接收用户输入来填充字典"><a href="#任务四：接收用户输入来填充字典" class="headerlink" title="任务四：接收用户输入来填充字典"></a><em>任务四：接收用户输入来填充字典</em></h4><p>下面来创建一个调查程序，定义<strong>responses</strong>字典用于存相关问卷信息。核心程序使用带<strong>Flag</strong>标志变量的<strong>while</strong>循环。在循环体中，接收用户的问卷信息(用户名和问卷回答)，并保存到字典中<strong>responses[name] = response</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">responses = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置一个Flag标志，指出调查是否继续</span></span><br><span class="line">Flag = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> Flag:</span><br><span class="line">   <span class="comment"># 提示输入被调查者的名字和回答</span></span><br><span class="line">   name = <span class="built_in">input</span>(<span class="string">&quot;\nWhat is your name? &quot;</span>)</span><br><span class="line">   response = <span class="built_in">input</span>(<span class="string">&quot;Which mountain would you like to climb someday? &quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 将答卷存储在字典中</span></span><br><span class="line">   responses[name] = response</span><br><span class="line"></span><br><span class="line">   <span class="comment"># repeat为循环的哨兵</span></span><br><span class="line">   repeat = <span class="built_in">input</span>(<span class="string">&quot;Would you like to let another person respond? (yes/ no) &quot;</span>)</span><br><span class="line">   <span class="keyword">if</span> repeat == <span class="string">&#x27;no&#x27;</span>:</span><br><span class="line">       Flag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调查结束，显示结果</span></span><br><span class="line">print(<span class="string">&quot;\n--- Poll Results ---&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> name, response <span class="keyword">in</span> responses.items():</span><br><span class="line">   print(name + <span class="string">&quot; would like to climb &quot;</span> + response + <span class="string">&quot;.&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="习题：-2"><a href="#习题：-2" class="headerlink" title="习题："></a>习题：</h3><p><strong>7-8 熟食店</strong>：创建一个名为<strong>sandwich_orders</strong>的列表，在其中包含各种三明治的名字；再创建一个名为<strong>finished_sandwiches</strong>的空列表。遍历列表<strong>sandwich_orders</strong>，对于其中的每种三明治，都打印一条消息，如<strong>I made your tuna sandwich</strong>，并将其移到列表<strong>finished_sandwiches</strong>。所有三明治都制作好后，打印一条消息，将这些三明治列出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sandwich_orders=[<span class="string">&#x27;Tuna sandwich&#x27;</span>,<span class="string">&#x27;Ham cheese sandwich&#x27;</span>,<span class="string">&#x27;Chicken sandwich&#x27;</span>]</span><br><span class="line">finished_sandwiches=[]</span><br><span class="line"><span class="keyword">while</span> sandwich_orders:</span><br><span class="line">    current_orders=sandwich_orders.pop()</span><br><span class="line">    print(<span class="string">&quot;I made your &quot;</span>+current_orders.title()+<span class="string">&quot;.&quot;</span>)</span><br><span class="line">    finished_sandwiches.append(current_orders)</span><br><span class="line">print(<span class="string">&quot;\nAll the sandwiches have been finished.&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> finished_sandwiche <span class="keyword">in</span> finished_sandwiches:</span><br><span class="line">    print(finished_sandwiche.title())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">I made your Chicken Sandwich.</span><br><span class="line">I made your Ham Cheese Sandwich.</span><br><span class="line">I made your Tuna Sandwich.</span><br><span class="line"></span><br><span class="line">All the sandwiches have been finished.</span><br><span class="line">Chicken Sandwich</span><br><span class="line">Ham Cheese Sandwich</span><br><span class="line">Tuna Sandwich</span><br></pre></td></tr></table></figure><p><strong>7-9 五香烟熏牛肉（pastrami）卖完了</strong>：使用为完成练习7-8而创建的列表<strong>sandwich_orders</strong>，并确保**’pastrami’<strong>在其中至少出现了三次。在程序开头附近添加这样的代码：打印一条消息，指出熟食店的五香烟熏牛肉卖完了；再使用一个</strong>while<strong>循环将列表</strong>sandwich_orders<strong>中的</strong>‘pastrami’<strong>都删除。确认最终的列表</strong>finished_sandwiches<strong>中不包含</strong>‘pastrami’**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sandwich_orders = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;pastrami&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;pastrami&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;pastrami&quot;</span>]</span><br><span class="line">print(<span class="string">&quot;五香熏牛肉卖完啦&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="string">&quot;pastrami&quot;</span> <span class="keyword">in</span> sandwich_orders:</span><br><span class="line">    sandwich_orders.remove(<span class="string">&quot;pastrami&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> sandwich_orders:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">五香熏牛肉卖完啦</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br></pre></td></tr></table></figure><h2 id="9-6-习题"><a href="#9-6-习题" class="headerlink" title="9.6   习题"></a>9.6   习题</h2><ul><li><p>猜数字游戏：</p></li><li><ul><li>系统随机生成一个1～100的数字；</li><li>用户共有6次机会猜；</li><li>如果用户猜测数字大于系统给出的数字，打印”big”。</li><li>如果用户猜测数字小于系统给出的数字，打印”small”。</li><li>如果用户猜测的数字等于系统给出的数字，打印”恭喜中奖”，并退出循环</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">x = random.randint(<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">print(x)</span><br><span class="line"></span><br><span class="line">trycount = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> trycount &lt; <span class="number">6</span>:</span><br><span class="line">    tk = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入你猜测的数字:&#x27;</span>))</span><br><span class="line">    <span class="keyword">if</span> tk == x:</span><br><span class="line">        print(<span class="string">&#x27;恭喜中奖&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> tk &lt; x:</span><br><span class="line">        print(<span class="string">&#x27;too small&#x27;</span>)</span><br><span class="line">        trycount += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;too big&#x27;</span>)</span><br><span class="line">        trycount += <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;机会已经用完&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li><p>制造星星，根据用户的输入星星行数，分奇数和偶数情况讨论。</p><p>对于偶数，比如输出10行内容，第1行一个星号，第2行2个星号，第5行5个星号和第6行5个星号，第7行4个星号，以此类推第10行1个星号。</p><p>对于奇数，比如输出9行内容，第1行一个星号，第2行2个星号，第5行5个星号，第6行4个星号，以此类推第9行1个星号</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;num:&#x27;</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">2</span>*n,<span class="number">2</span>):</span><br><span class="line">    print((<span class="string">&#x27;*&#x27;</span> * i).center(<span class="number">3</span> * n))</span><br><span class="line">s = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">2</span>*(n-<span class="number">1</span>),<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s[::-<span class="number">1</span>]:</span><br><span class="line">    print((<span class="string">&#x27;*&#x27;</span> * i).center(<span class="number">3</span> * n))</span><br></pre></td></tr></table></figure><p>计算从1到1000以内所有能同时被3，5和7整除的数的和并输出</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">1001</span>):</span><br><span class="line">    <span class="keyword">if</span> i%<span class="number">3</span>==<span class="number">0</span> <span class="keyword">and</span> i%<span class="number">5</span>==<span class="number">0</span> <span class="keyword">and</span> i%<span class="number">7</span>==<span class="number">0</span>:</span><br><span class="line">        <span class="built_in">list</span>.append(i)</span><br><span class="line">        a=<span class="built_in">sum</span>(<span class="built_in">list</span>)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4725</span></span><br></pre></td></tr></table></figure><p>计算从1到100临近两个整数的合并依次输出。比如第一次输出3(1+2)，第二次输出5(2+3)，最后一次输出199(99+100)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    <span class="keyword">if</span> i&gt;=<span class="number">2</span>:</span><br><span class="line">        a=i-<span class="number">1</span>+i</span><br><span class="line">        s.append(a)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">21</span>, <span class="number">23</span>, <span class="number">25</span>, <span class="number">27</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">33</span>, <span class="number">35</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">41</span>, <span class="number">43</span>, <span class="number">45</span>, <span class="number">47</span>, <span class="number">49</span>, <span class="number">51</span>, <span class="number">53</span>, <span class="number">55</span>, <span class="number">57</span>, <span class="number">59</span>, <span class="number">61</span>, <span class="number">63</span>, <span class="number">65</span>, <span class="number">67</span>, <span class="number">69</span>, <span class="number">71</span>, <span class="number">73</span>, <span class="number">75</span>, <span class="number">77</span>, <span class="number">79</span>, <span class="number">81</span>, <span class="number">83</span>, <span class="number">85</span>, <span class="number">87</span>, <span class="number">89</span>, <span class="number">91</span>, <span class="number">93</span>, <span class="number">95</span>, <span class="number">97</span>, <span class="number">99</span>, <span class="number">101</span>, <span class="number">103</span>, <span class="number">105</span>, <span class="number">107</span>, <span class="number">109</span>, <span class="number">111</span>, <span class="number">113</span>, <span class="number">115</span>, <span class="number">117</span>, <span class="number">119</span>, <span class="number">121</span>, <span class="number">123</span>, <span class="number">125</span>, <span class="number">127</span>, <span class="number">129</span>, <span class="number">131</span>, <span class="number">133</span>, <span class="number">135</span>, <span class="number">137</span>, <span class="number">139</span>, <span class="number">141</span>, <span class="number">143</span>, <span class="number">145</span>, <span class="number">147</span>, <span class="number">149</span>, <span class="number">151</span>, <span class="number">153</span>, <span class="number">155</span>, <span class="number">157</span>, <span class="number">159</span>, <span class="number">161</span>, <span class="number">163</span>, <span class="number">165</span>, <span class="number">167</span>, <span class="number">169</span>, <span class="number">171</span>, <span class="number">173</span>, <span class="number">175</span>, <span class="number">177</span>, <span class="number">179</span>, <span class="number">181</span>, <span class="number">183</span>, <span class="number">185</span>, <span class="number">187</span>, <span class="number">189</span>, <span class="number">191</span>, <span class="number">193</span>, <span class="number">195</span>, <span class="number">197</span>, <span class="number">199</span>]</span><br></pre></td></tr></table></figure><p>一球从100米高度自由落下，每次落地后反跳回原高度的一半，再落下。求它在第n次落地时，共经过多少米？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="built_in">input</span>()  <span class="comment"># 5</span></span><br><span class="line">far = []</span><br><span class="line">high = <span class="number">100</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">int</span>(n)):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">1</span>:</span><br><span class="line">        far.append(high)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        far.append(high * <span class="number">2</span>)</span><br><span class="line">    high = high / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f&#x27;经过的总距离：far = <span class="subst">&#123;<span class="built_in">sum</span>(far)&#125;</span>&#x27;</span>)</span><br><span class="line">print(<span class="string">f&#x27;第n次反弹多高：high = <span class="subst">&#123;high&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">经过的总距离：far = <span class="number">275.0</span></span><br><span class="line">第n次反弹多高：high = <span class="number">6.25</span></span><br></pre></td></tr></table></figure><p>输出所有的三位水仙花数，其各位数字立方和等于该数本身</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>, <span class="number">1000</span>):</span><br><span class="line">    x = num // <span class="number">100</span></span><br><span class="line">    y = num // <span class="number">10</span> % <span class="number">10</span></span><br><span class="line">    z = num % <span class="number">10</span></span><br><span class="line">    <span class="keyword">if</span> x ** <span class="number">3</span> + y ** <span class="number">3</span> + z ** <span class="number">3</span> == num:</span><br><span class="line">        print(<span class="built_in">str</span>(num) + <span class="string">&quot;是水仙花&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">153</span>是水仙花</span><br><span class="line"><span class="number">370</span>是水仙花</span><br><span class="line"><span class="number">371</span>是水仙花</span><br><span class="line"><span class="number">407</span>是水仙花</span><br></pre></td></tr></table></figure><ul><li><p>石头剪刀布，使用while死循环，用户不停输入“石头剪刀布”与计算机对弈，直到<code>quit</code>退出。</p><p>计算机随机生成石头剪刀布。提示，随机生成1~3的整数，来代替 石头：rock；剪刀：scissors；布：paper。</p><p>用户从外部输入对应的字符串，计算机判断，并给结果</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    print(<span class="string">&quot;---石头剪刀布游戏开始---&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;请按下面提示出拳：石头[1]剪刀[2]布[3]退出[4]&quot;</span>)</span><br><span class="line">    user=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入你的选项：&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span> user==<span class="number">4</span>:</span><br><span class="line">        print(<span class="string">&quot;游戏退出&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    computer=random.randint(<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">if</span> ((computer==<span class="number">1</span> <span class="keyword">and</span> user==<span class="number">3</span>) <span class="keyword">or</span> (computer==<span class="number">2</span> <span class="keyword">and</span> user==<span class="number">1</span>) <span class="keyword">or</span> (computer==<span class="number">3</span> <span class="keyword">and</span> user==<span class="number">2</span>)):</span><br><span class="line">        print(<span class="string">&quot;玩家出拳为&#123;&#125;，电脑出拳为&#123;&#125;，玩家胜利&quot;</span>.<span class="built_in">format</span>(user,computer))</span><br><span class="line">    <span class="keyword">elif</span> computer==user:</span><br><span class="line">        print(<span class="string">&quot;玩家出拳为&#123;&#125;，电脑出拳为&#123;&#125;，平局&quot;</span>.<span class="built_in">format</span>(user,computer))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&quot;玩家出拳为&#123;&#125;，电脑出拳为&#123;&#125;，电脑胜利&quot;</span>.<span class="built_in">format</span>(user,computer))</span><br><span class="line">print(<span class="string">&quot;游戏结束&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210521125048404.png&quot; alt=&quot;image-20210521125048404&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记8</title>
    <link href="http://waxll.top/2021/06/17/py8.html"/>
    <id>http://waxll.top/2021/06/17/py8.html</id>
    <published>2021-06-16T16:33:41.000Z</published>
    <updated>2021-06-16T16:34:48.039Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210517200120122.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210517200120122.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210517200120122"></p><span id="more"></span><h1 id="第八章-数据类型：dict字典"><a href="#第八章-数据类型：dict字典" class="headerlink" title="第八章   数据类型：dict字典"></a>第八章   数据类型：dict字典</h1><h2 id="8-1-初识字典"><a href="#8-1-初识字典" class="headerlink" title="8.1   初识字典"></a>8.1   初识字典</h2><h3 id="8-1-1-为何需要字典？"><a href="#8-1-1-为何需要字典？" class="headerlink" title="8.1.1   为何需要字典？"></a>8.1.1   为何需要字典？</h3><h4 id="任务一：为何需要字典？"><a href="#任务一：为何需要字典？" class="headerlink" title="任务一：为何需要字典？"></a><em>任务一：为何需要字典？</em></h4><p>知识点：</p><p><strong>字典</strong>也是Python提供的一种常用的<strong>容器类型</strong>的数据结构，它用于存放一组具有<strong>映射关系</strong>的数据</p><p>例如，个人信息，姓名：小明，年龄：18，性别：男，身高：1.75</p><p>这组数据看上去像两个列表，但这两个列表的元素之间<strong>有一定的关联关系</strong></p><p>如果单纯使用两个列表来保存这组数据，则无法记录两组数据之间的关联关系</p><p>为了保存具有映射关系的数据，Python提供了字典，字典相当于保存了两组数据，其中一组数据是关键数据，被称为 <strong>key</strong>；另一组数据可通过<strong>key</strong>来访问，被称为value</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 希望将key和val成对绑定</span></span><br><span class="line">key = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;gender&#x27;</span>, <span class="string">&#x27;height&#x27;</span>]</span><br><span class="line">val = [<span class="string">&quot;小明&quot;</span>, <span class="number">18</span>, <span class="literal">True</span>, <span class="number">1.75</span>]</span><br><span class="line">print(key, val)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 无法直接绑定信息，只能通过索引隐式的绑定</span></span><br><span class="line">print(<span class="string">f&#x27;<span class="subst">&#123;key[<span class="number">0</span>]&#125;</span>:<span class="subst">&#123;val[<span class="number">0</span>]&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：字典的定义"><a href="#任务二：字典的定义" class="headerlink" title="任务二：字典的定义"></a><em>任务二：字典的定义</em></h4><p>知识点：</p><p>字典(<strong>dictionary</strong>)是 <strong>除列表以外</strong>， <strong>Python</strong> 之中 <strong>最灵活</strong>的数据类型</p><p>字典用来<strong>存储多个数据</strong>，是一种<strong>无序</strong>的可变容器模型，且可存储任意类型对象。字典可以存储用于<strong>描述某个物体 的额外信息</strong> </p><p>字典与列表区别：</p><p><strong>列表</strong>是<strong>有序</strong>的对象集合</p><p><strong>字典</strong>是<strong>无序</strong>的对象集合</p><p>知识点：定义字典</p><p>语法：<strong>d = {key1:value1, key2:value2}</strong></p><p>字典使用**{}** 来定义和标识</p><p>字典使用<strong>键值对</strong>(<strong>key-value</strong>)存储数据，键值对之间使用 , 分隔</p><p><strong>键 key</strong> 是索引，必须是<strong>唯一</strong>的</p><p><strong>值 value</strong> 是数据，可以取任何数据类型</p><p>每个<strong>键值对</strong>中的<strong>键</strong>和<strong>值</strong>用冒号**:**分割</p><p><strong>值</strong>可以取任何数据类型，但<strong>键</strong> 只能使用<strong>字符串</strong>、<strong>数字</strong>或 <strong>元组</strong></p><p><strong>dict</strong>为字典类型，避免使用<strong>dict</strong>作为变量名</p><h4 id="任务三：解析字典数据结构"><a href="#任务三：解析字典数据结构" class="headerlink" title="任务三：解析字典数据结构"></a><em>任务三：解析字典数据结构</em></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建个人信息字典</span></span><br><span class="line">info = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小明&quot;</span>,</span><br><span class="line">           <span class="string">&quot;age&quot;</span>: <span class="number">18</span>,</span><br><span class="line">           <span class="string">&quot;gender&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">           <span class="string">&quot;height&quot;</span>: <span class="number">1.75</span>&#125;</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">type</span>(info), info)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以使用key作为索引访问字典元素</span></span><br><span class="line">print(info[<span class="string">&#x27;height&#x27;</span>])</span><br></pre></td></tr></table></figure><h4 id="任务四：字典变量的适用场景"><a href="#任务四：字典变量的适用场景" class="headerlink" title="任务四：字典变量的适用场景"></a><em>任务四：字典变量的适用场景</em></h4><p>知识点：</p><p>字典一般用于<strong>描述某个物体属性信息</strong></p><p>字典的<strong>key</strong>通常为字符串，用于描述<strong>value</strong></p><p>字典是<strong>无序</strong>的数据集合</p><h3 id="8-1-2-字典的创建"><a href="#8-1-2-字典的创建" class="headerlink" title="8.1.2   字典的创建"></a>8.1.2   字典的创建</h3><p>常用的有两种字典创建方式，一种是使用**{}<strong>创建字典；另外种是通过</strong>dict()**函数</p><h4 id="任务一：使用-创建字典"><a href="#任务一：使用-创建字典" class="headerlink" title="任务一：使用{}创建字典"></a><em>任务一：使用{}创建字典</em></h4><p>知识点：</p><p><strong>d = {key1:value1, key2:value2}<strong>，将多个</strong>key-value</strong>对作为字典元素，放在**{}**中创建字典</p><p>**d = {}**为创建空字典</p><p>使用**{}<strong>方式创建字典，只能手动添加</strong>key-value**对</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vegetables = &#123;<span class="string">&#x27;celery&#x27;</span>: <span class="number">1.58</span>, <span class="string">&#x27;brocoli&#x27;</span>: <span class="number">1.29</span>, <span class="string">&#x27;lettuce&#x27;</span>: <span class="number">2.19</span>&#125;</span><br><span class="line">print(vegetables)</span><br><span class="line"></span><br><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line">empty_dict = &#123;&#125;</span><br><span class="line">print(empty_dict)</span><br></pre></td></tr></table></figure><h4 id="任务二：使用dict-创建字典"><a href="#任务二：使用dict-创建字典" class="headerlink" title="任务二：使用dict()创建字典"></a><em>任务二：使用dict()创建字典</em></h4><p>知识点：</p><p>在使用<strong>dict()<strong>函数创建字典时，可以传入</strong>嵌套的列表或元组参数</strong>作为<strong>key-value</strong>对</p><p>每个列表的元素为由两个元素构成的子列表或元组，作为字典的一个<strong>key-value</strong>对</p><p>**dict()**函数可以从已有的数据(列表或元组)创建字典</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建包含3组key-value对的字典</span></span><br><span class="line">vegetables = [(<span class="string">&#x27;celery&#x27;</span>, <span class="number">1.58</span>), (<span class="string">&#x27;brocoli&#x27;</span>, <span class="number">1.29</span>), (<span class="string">&#x27;lettuce&#x27;</span>, <span class="number">2.19</span>)]</span><br><span class="line">dict3 = <span class="built_in">dict</span>(vegetables)</span><br><span class="line">print(dict3)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建包含3组key-value对的字典</span></span><br><span class="line">cars = [[<span class="string">&#x27;BMW&#x27;</span>, <span class="number">8.5</span>], [<span class="string">&#x27;BENS&#x27;</span>, <span class="number">8.3</span>], [<span class="string">&#x27;AUDI&#x27;</span>, <span class="number">7.9</span>]]</span><br><span class="line">dict4 = <span class="built_in">dict</span>(cars)</span><br><span class="line">print(dict4)</span><br></pre></td></tr></table></figure><p>知识点：如果不为**dict()**函数传入任何参数，则代表创建一个空的字典</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建空的字典</span></span><br><span class="line">dict5 = <span class="built_in">dict</span>()</span><br><span class="line">print(dict5)</span><br></pre></td></tr></table></figure><p>知识点：</p><p>通过为<strong>dict()<strong>函数指定</strong>关键字</strong>参数创建字典，此时字典的<strong>key</strong>不允许使用表达式</p><p><strong>dict()<strong>函数会</strong>关键字</strong>参数作为字典的<strong>key</strong>，不需要将它们写成字符串形式，<strong>dict()<strong>函数会自动将它们转化为字符串格式的</strong>key</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接写spinach、cabbage而非字符串</span></span><br><span class="line">dict6 = <span class="built_in">dict</span>(spinach = <span class="number">1.39</span>, cabbage = <span class="number">2.59</span>)</span><br><span class="line">print(dict6)</span><br></pre></td></tr></table></figure><h4 id="任务三：三种括号对应的数据类型"><a href="#任务三：三种括号对应的数据类型" class="headerlink" title="任务三：三种括号对应的数据类型"></a><em>任务三：三种括号对应的数据类型</em></h4><p>知识点(总结)：三种括号对应的数据类型</p><p>列表<strong>list</strong>的标识为**[]<strong>；元组</strong>tuple<strong>的标识为</strong>()<strong>；字典</strong>dict<strong>的标识为</strong>{}**</p><p>相对于列表和元组用<strong>数字</strong>来索引元素，字典可以使用<strong>自定义有意义</strong>的<strong>key</strong>来索引元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 空列表、元组、字典创建</span></span><br><span class="line">list_val = []</span><br><span class="line">print(<span class="built_in">type</span>(list_val), list_val)</span><br><span class="line"></span><br><span class="line">tuple_val = ()</span><br><span class="line">print(<span class="built_in">type</span>(tuple_val), tuple_val)</span><br><span class="line"></span><br><span class="line">dict_val = &#123;&#125;</span><br><span class="line">print(<span class="built_in">type</span>(dict_val), dict_val)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">list_val = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">print(<span class="built_in">type</span>(list_val), list_val)</span><br><span class="line"></span><br><span class="line">tuple_val = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">print(<span class="built_in">type</span>(tuple_val), tuple_val)</span><br><span class="line"></span><br><span class="line">dict_val = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">4</span>&#125;</span><br><span class="line">print(<span class="built_in">type</span>(dict_val), dict_val)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表和元组用数字来索引元素</span></span><br><span class="line"><span class="comment"># 字典使用key来索引元素</span></span><br><span class="line">print(list_val[<span class="number">0</span>], tuple_val[<span class="number">0</span>])</span><br><span class="line">print(dict_val[<span class="string">&#x27;a&#x27;</span>])</span><br></pre></td></tr></table></figure><h2 id="8-2-深入字典"><a href="#8-2-深入字典" class="headerlink" title="8.2   深入字典"></a>8.2   深入字典</h2><h3 id="8-2-1-字典元素：键值对"><a href="#8-2-1-字典元素：键值对" class="headerlink" title="8.2.1   字典元素：键值对"></a>8.2.1   字典元素：键值对</h3><h4 id="任务一：字典元素是key-value键值对"><a href="#任务一：字典元素是key-value键值对" class="headerlink" title="任务一：字典元素是key-value键值对"></a><em>任务一：字典元素是key-value键值对</em></h4><p>知识点：<strong>d = {key1:value1, key2:value2}</strong></p><p>字典的元素是<strong>键值对</strong>(<strong>key-value</strong>)</p><p>每个<strong>key-value</strong>用冒号**:<strong>分割，每对之间用逗号</strong>,<strong>分割，整个字典包括在大括号</strong>{}**中</p><p>每个<strong>key</strong>都有与之关联的<strong>value</strong>，可以通过<strong>key</strong>来访问(索引)相应的<strong>value</strong>。例如，<strong>value = d[key]</strong></p><p>字典的<strong>key</strong>是唯一，<strong>value</strong>可以重复</p><p>知识点：</p><p>通过字典的<strong>key</strong>可以索引<strong>value</strong>，也可以对<strong>value</strong>进行修改</p><p>例如，访问元素<strong>val = d[key1]<strong>；修改元素</strong>d[key1] = new_value</strong></p><p>列表、元组是有序的，它的索引是从0开始的序号；字典是无序的，它的索引是<strong>key</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line"><span class="comment"># 通过key来访问value</span></span><br><span class="line">print(cars[<span class="string">&#x27;BMW&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过key修改value值</span></span><br><span class="line">cars[<span class="string">&#x27;BMW&#x27;</span>] = <span class="number">10.1</span></span><br><span class="line">print(cars)</span><br></pre></td></tr></table></figure><h4 id="任务二：字典特性-key是唯一的"><a href="#任务二：字典特性-key是唯一的" class="headerlink" title="任务二：字典特性(key是唯一的)"></a><em>任务二：字典特性(key是唯一的)</em></h4><p>知识点：</p><p>字典的<strong>key</strong>必须是<strong>唯一</strong>的，但<strong>value</strong>可以重复</p><p>如果字典中<strong>存在重复</strong>的<strong>key</strong>，那么后面一个<strong>key</strong>的<strong>value</strong>会<strong>覆盖</strong>前个<strong>key</strong>的<strong>value</strong></p><p>字典的<strong>key</strong>是唯一的。例如，两组相同的<strong>key：’height’: 1.8</strong>和**’height’: 80<strong>。那么，</strong>‘height’<strong>的</strong>value**会被80覆盖</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># key是唯一的</span></span><br><span class="line">info = &#123;<span class="string">&#x27;height&#x27;</span>: <span class="number">1.8</span>, <span class="string">&#x27;height&#x27;</span>: <span class="number">80</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;sex&#x27;</span>: <span class="number">0</span>&#125;</span><br><span class="line">print(<span class="built_in">type</span>(info), info)</span><br></pre></td></tr></table></figure><p>不同的<strong>key</strong>可以使用相同的<strong>value</strong>。例如，**’height’: 1.8<strong>和</strong>‘weight’: 1.8**，它们相互不影响</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># value可以重复</span></span><br><span class="line">info = &#123;<span class="string">&#x27;height&#x27;</span>: <span class="number">1.8</span>, <span class="string">&#x27;weight&#x27;</span>: <span class="number">1.8</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">20</span>, <span class="string">&#x27;sex&#x27;</span>: <span class="number">0</span>&#125;</span><br><span class="line">print(<span class="built_in">type</span>(info), info)</span><br></pre></td></tr></table></figure><h4 id="任务三：字典特性-key必须是不可变类型"><a href="#任务三：字典特性-key必须是不可变类型" class="headerlink" title="任务三：字典特性(key必须是不可变类型)"></a><em>任务三：字典特性(key必须是不可变类型)</em></h4><p>知识点：<strong>key</strong>和<strong>value</strong>的类型要求</p><p><strong>key</strong>：必须是<strong>不可变类型</strong>，包括数值类型、字符串和元组<strong>tuple</strong></p><p><strong>value</strong>：可以是任意类型的对象</p><p>建议<strong>key</strong>使用有意义的字符串。<strong>key</strong>的目的是为了<strong>方便地索引</strong>字典元素</p><p>知识点(注意)：</p><p>元组是不可变类型，因此元组<strong>tuple</strong>可以作为字典的<strong>key</strong></p><p>列表是可变类型，因此列表<strong>list</strong>不能作为字典的<strong>key</strong>，否则会引起<strong>TypeError</strong></p><p>下面例子中，第1个元素的<strong>key</strong>为字符串，第2个为整形，第3个为浮点数，第4个元组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 不同类型的key</span></span><br><span class="line">info = &#123;<span class="string">&#x27;height&#x27;</span>: <span class="number">1.8</span>, <span class="number">80</span>: <span class="string">&#x27;weight&#x27;</span>, <span class="number">3.1</span>: &#123;<span class="number">20</span>, <span class="number">11</span>&#125;, (<span class="number">0</span>, ): <span class="string">&#x27;sex&#x27;</span>&#125;</span><br><span class="line">print(<span class="built_in">type</span>(info), info)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可变类型的列表不能作为key</span></span><br><span class="line">info = &#123;<span class="string">&#x27;height&#x27;</span>: <span class="number">1.8</span>, [<span class="number">1</span>,<span class="number">1</span>]: <span class="string">&#x27;weight&#x27;</span>, <span class="number">3.1</span>: &#123;<span class="number">20</span>, <span class="number">11</span>&#125;, (<span class="number">0</span>, ): <span class="string">&#x27;sex&#x27;</span>&#125;</span><br><span class="line">print(<span class="built_in">type</span>(info), info)</span><br></pre></td></tr></table></figure><h3 id="8-2-2-字典元素操作"><a href="#8-2-2-字典元素操作" class="headerlink" title="8.2.2   字典元素操作"></a>8.2.2   字典元素操作</h3><h4 id="任务一：字典基本使用"><a href="#任务一：字典基本使用" class="headerlink" title="任务一：字典基本使用"></a><em>任务一：字典基本使用</em></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">xiaoming_dict = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小明&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 取值</span></span><br><span class="line">print(xiaoming_dict[<span class="string">&quot;name&quot;</span>])</span><br><span class="line"><span class="comment"># 在取值的时候，如果指定的key不存在，程序会报错！</span></span><br><span class="line"><span class="comment"># print(xiaoming_dict[&quot;name123&quot;])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 增加/修改</span></span><br><span class="line"><span class="comment"># 如果key不存在，会新增键值对</span></span><br><span class="line">xiaoming_dict[<span class="string">&quot;age&quot;</span>] = <span class="number">18</span></span><br><span class="line"><span class="comment"># 如果key存在，会修改已经存在的键值对</span></span><br><span class="line">xiaoming_dict[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;小小明&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 删除</span></span><br><span class="line">xiaoming_dict.pop(<span class="string">&quot;name&quot;</span>)</span><br><span class="line"><span class="comment"># 在删除指定键值对的时候，如果指定的key不存在，程序会报错！</span></span><br><span class="line"><span class="comment"># xiaoming_dict.pop(&quot;name123&quot;)</span></span><br><span class="line"></span><br><span class="line">print(xiaoming_dict)</span><br></pre></td></tr></table></figure><h4 id="任务二：添加新元素"><a href="#任务二：添加新元素" class="headerlink" title="任务二：添加新元素"></a><em>任务二：添加新元素</em></h4><p>知识点：为字典添加新的<strong>key-value</strong>，只需通过对<strong>不存在</strong>的<strong>key</strong>赋值即可</p><p>语法：<strong>d[key]=value</strong></p><p>如果<strong>key</strong>存在，那么修改<strong>key</strong>对应的<strong>value</strong></p><p>如果<strong>key</strong>不存在，那么对<strong>dict</strong>添加新的<strong>key-value</strong>元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不存在的key添加新元素</span></span><br><span class="line">cars[<span class="string">&#x27;Ford&#x27;</span>] = <span class="number">10.1</span></span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 存在的key修改value</span></span><br><span class="line">cars[<span class="string">&#x27;BMW&#x27;</span>] = <span class="number">9.1</span></span><br><span class="line">print(cars)</span><br></pre></td></tr></table></figure><h4 id="任务三：访问不存在的字典元素"><a href="#任务三：访问不存在的字典元素" class="headerlink" title="任务三：访问不存在的字典元素"></a><em>任务三：访问不存在的字典元素</em></h4><p>知识点：如果使用不存在的<strong>key</strong>来访问<strong>dict</strong>中元素，那么就会引发异常<strong>KeyError</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line">print(cars[<span class="string">&#x27;Ferraris&#x27;</span>])</span><br></pre></td></tr></table></figure><h4 id="任务四：删除字典元素和整个字典"><a href="#任务四：删除字典元素和整个字典" class="headerlink" title="任务四：删除字典元素和整个字典"></a><em>任务四：删除字典元素和整个字典</em></h4><p>知识点：使用<strong>del</strong>可以删除整个字典或者是字典中的某个元素，<strong>永远消失</strong></p><p>删除单个元素：<strong>del d[key]</strong></p><p>删除整个字典：<strong>del d</strong></p><p>在删除整个字典后，字典在内存中被销毁，如果再次使用该字典会引发异常<strong>NameError</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除&#x27;BENS&#x27;键值对</span></span><br><span class="line"><span class="keyword">del</span> cars[<span class="string">&#x27;BENS&#x27;</span>]</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除整个字典cars</span></span><br><span class="line"><span class="keyword">del</span> cars</span><br><span class="line"><span class="comment"># 由于cars在内存中被删除，因此打印cars会出错</span></span><br><span class="line"><span class="comment"># print(cars)</span></span><br></pre></td></tr></table></figure><h4 id="任务五：检查字典是否包含指定的key"><a href="#任务五：检查字典是否包含指定的key" class="headerlink" title="任务五：检查字典是否包含指定的key"></a><em>任务五：检查字典是否包含指定的key</em></h4><p>知识点：类似于列表，使用<strong>in</strong>或<strong>not in</strong>运算符来检查<strong>dict</strong>是否包含某个<strong>key</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line"><span class="comment"># 判断cars是否包含名为&#x27;AUDI&#x27;的key</span></span><br><span class="line">print(<span class="string">&#x27;AUDI&#x27;</span> <span class="keyword">in</span> cars)</span><br><span class="line">print(<span class="string">&#x27;PORSCHE&#x27;</span> <span class="keyword">in</span> cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断cars是否不包含名为&#x27;LAMBORGHINI&#x27;的key</span></span><br><span class="line">print(<span class="string">&#x27;LAMBORGHINI&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> cars)</span><br></pre></td></tr></table></figure><h3 id="8-2-3-字典和列表的比较"><a href="#8-2-3-字典和列表的比较" class="headerlink" title="8.2.3   字典和列表的比较"></a>8.2.3   字典和列表的比较</h3><h4 id="任务一：字典的key和列表的索引比较"><a href="#任务一：字典的key和列表的索引比较" class="headerlink" title="任务一：字典的key和列表的索引比较"></a><em>任务一：字典的key和列表的索引比较</em></h4><p>知识点：</p><p><strong>key</strong>是字典的精髓，用于元素的索引</p><p><strong>key</strong>类型可以是整数、浮点数、字符串和元组</p><p>字典通过<strong>key</strong>来实现对元素的访问、添加、删除等操作</p><p>知识点：</p><p><strong>区别1</strong>：列表的索引必须是整数**(0,1,2,…)**，从0开始、连续逐渐增大；但字典的索引即便是整数类型，也不需要从0开始，而且也不需要按顺序</p><p><strong>区别2</strong>：列表不允许对不存在的索引进行赋值，否则会触发异常<strong>IndexError</strong>；但字典则允许直接对不存在的<strong>key</strong>进行赋值，字典自动添加新元素</p><p>换句话说，列表和字典都支持用<strong>索引</strong>来访问任意值，但是字典的<strong>key</strong>可用的数据类型比列表的索引要多得多</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表整数索引</span></span><br><span class="line">list_age = [<span class="number">20</span>,<span class="number">11</span>,<span class="number">18</span>,<span class="number">30</span>]</span><br><span class="line">print(list_age[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#对于不存在的索引赋值会出错</span></span><br><span class="line">list_age[<span class="number">5</span>] = <span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字典key索引</span></span><br><span class="line">dict_age = &#123;<span class="string">&#x27;zhang&#x27;</span>:<span class="number">20</span>, <span class="string">&#x27;li&#x27;</span>:<span class="number">11</span>, <span class="string">&#x27;wang&#x27;</span>:<span class="number">18</span>, <span class="string">&#x27;xu&#x27;</span>:<span class="number">30</span>&#125;</span><br><span class="line">print(dict_age[<span class="string">&#x27;zhang&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以对不存在的key赋值，添加为新元素</span></span><br><span class="line">dict_age[<span class="string">&#x27;xi&#x27;</span>] = <span class="number">28</span></span><br></pre></td></tr></table></figure><h4 id="任务二：列表和字典的值可以放任意类型对象"><a href="#任务二：列表和字典的值可以放任意类型对象" class="headerlink" title="任务二：列表和字典的值可以放任意类型对象"></a><em>任务二：列表和字典的值可以放任意类型对象</em></h4><p>知识点(相同)：列表和字典的值都可以存放<strong>任何类型的对象</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list_age = [<span class="string">&#x27;20&#x27;</span>, <span class="number">11</span>, [<span class="number">18</span>], &#123;<span class="string">&#x27;zhang&#x27;</span>:<span class="number">20</span>&#125;]</span><br><span class="line">print(list_age)</span><br><span class="line"></span><br><span class="line">dict_age = &#123;<span class="string">&#x27;zhang&#x27;</span>:<span class="string">&#x27;20&#x27;</span>, <span class="string">&#x27;li&#x27;</span>:<span class="number">11</span>, <span class="string">&#x27;wang&#x27;</span>:[<span class="number">18</span>], <span class="string">&#x27;xu&#x27;</span>:<span class="number">30</span>&#125;</span><br><span class="line">print(dict_age)</span><br></pre></td></tr></table></figure><h4 id="任务三：列表和字典的储存方式"><a href="#任务三：列表和字典的储存方式" class="headerlink" title="任务三：列表和字典的储存方式"></a><em>任务三：列表和字典的储存方式</em></h4><p>知识点(不同)：</p><p><strong>列表的元素是有序储存的</strong>，Python使用这些连续的整数(位置信息)来访问元素</p><p><strong>字典的元素是无序储存的</strong>，<strong>key</strong>并不需要与具体元素存储的位置相对应，因此字典<strong>key</strong>可以是任意的不可变类型</p><h4 id="任务四：字典是一种映射方式"><a href="#任务四：字典是一种映射方式" class="headerlink" title="任务四：字典是一种映射方式"></a><em>任务四：字典是一种映射方式</em></h4><p>知识点：字典提供了一种<strong>映射手段，可从一组任意对象映射到有关联的另一组任意对象</strong>。类似于现实世界中的字典、辞典和翻译书</p><p>下面给出了一段将颜色从英文转换为法文的定义：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;---  创建空字典&quot;</span>)</span><br><span class="line">english_to_french = &#123;&#125;    </span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;---  存入3个单词&quot;</span>)</span><br><span class="line">english_to_french[<span class="string">&#x27;red&#x27;</span>] = <span class="string">&#x27;rouge&#x27;</span>      </span><br><span class="line">english_to_french[<span class="string">&#x27;blue&#x27;</span>] = <span class="string">&#x27;bleu&#x27;</span></span><br><span class="line">english_to_french[<span class="string">&#x27;green&#x27;</span>] = <span class="string">&#x27;vert&#x27;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;---  获取“red”对应的值&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;red is&quot;</span>, english_to_french[<span class="string">&#x27;red&#x27;</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;--访问：列表和字典，访问元素时，该元素必须存在，否则会出错--&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;--赋值：列表赋值元素必须存在，字典赋值元素不一定存在--&#x27;</span>)</span><br><span class="line">color = <span class="built_in">input</span>(<span class="string">&#x27;input color:&#x27;</span>)</span><br><span class="line">print(color + <span class="string">&quot; is&quot;</span>, english_to_french[color])</span><br><span class="line">print(<span class="string">&#x27;&#123;&#125; is &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(color, english_to_french[color]))</span><br></pre></td></tr></table></figure><h3 id="习题："><a href="#习题：" class="headerlink" title="习题："></a>习题：</h3><p><strong>6-1 人</strong>：使用一个字典来存储一个熟人的信息，包括名、姓、年龄和居住的城市。该字典应包含键<strong>first_name</strong>、<strong>last_name</strong>、<strong>age</strong>和<strong>city</strong>。将存储在该字典中的每项信息都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">&#x27;first name&#x27;</span>:<span class="string">&#x27;LeBron&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;last name&#x27;</span>:<span class="string">&#x27;James&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;37&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;city&#x27;</span>:<span class="string">&#x27;Cleveland&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> dic.items():</span><br><span class="line">print(<span class="string">&#x27;His &#x27;</span> + each[<span class="number">0</span>] + <span class="string">&#x27; is &#x27;</span> + each[<span class="number">1</span>])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">His first name <span class="keyword">is</span> LeBron</span><br><span class="line">His last name <span class="keyword">is</span> James</span><br><span class="line">His age <span class="keyword">is</span> <span class="number">37</span></span><br><span class="line">His city <span class="keyword">is</span> Cleveland</span><br></pre></td></tr></table></figure><p><strong>6-2 喜欢的数字</strong>：使用一个字典来存储一些人喜欢的数字。请想出5个人的名字，并将这些名字用作字典中的键；想出每个人喜欢的一个数字，并将这些数字作为值存储在字典中。打印每个人的名字和喜欢的数字。为让这个程序更有趣，通过询问朋友确保数据是真实的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">favorite_nums = &#123;<span class="string">&#x27;James&#x27;</span>:<span class="number">1</span>,</span><br><span class="line">                 <span class="string">&#x27;Kobe&#x27;</span>:<span class="number">2</span>,</span><br><span class="line">                 <span class="string">&#x27;Garnett&#x27;</span>:<span class="number">3</span>,</span><br><span class="line">                 <span class="string">&#x27;Duncan&#x27;</span>:<span class="number">4</span>,</span><br><span class="line">                 <span class="string">&#x27;Jordan&#x27;</span>:<span class="number">5</span>,</span><br><span class="line">                 &#125;</span><br><span class="line"><span class="keyword">for</span> name,numb <span class="keyword">in</span> favorite_nums.items():</span><br><span class="line">    print(name.title()+<span class="string">&quot;&#x27;s favorite number is &quot;</span>+<span class="built_in">str</span>(numb))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">James<span class="string">&#x27;s favorite number is 1</span></span><br><span class="line"><span class="string">Kobe&#x27;</span>s favorite number <span class="keyword">is</span> <span class="number">2</span></span><br><span class="line">Garnett<span class="string">&#x27;s favorite number is 3</span></span><br><span class="line"><span class="string">Duncan&#x27;</span>s favorite number <span class="keyword">is</span> <span class="number">4</span></span><br><span class="line">Jordan<span class="string">&#x27;s favorite number is 5</span></span><br></pre></td></tr></table></figure><p><strong>6-3 词汇表</strong>：Python字典可用于模拟现实生活中的字典，但为避免混淆，我们将后者称为词汇表。</p><p>想出你在前面学过的5个python关键字(转换为字符串)，将它们用作词汇表中的键，并将它们的含义作为值存储在词汇表中。</p><p>以整洁的方式打印每个词汇及其含义。为此，可以先打印词汇，在它后面加上一个冒号，再打印词汇的含义；也可在一行打印词汇，再使用换行符（<strong>\n</strong>）插入一个空行，然后在下一行以缩进的方式打印词汇的含义</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">programming_vocabulary=&#123;</span><br><span class="line"><span class="string">&#x27;str()&#x27;</span>:<span class="string">&#x27;将非字符串值表示为字符串&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;del&#x27;</span>:<span class="string">&#x27;彻底删除一个元素&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;sort()&#x27;</span>:<span class="string">&#x27;对列表进行永久性排序&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;sorted()&#x27;</span>:<span class="string">&#x27;对列表进行临时排序&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;range()&#x27;</span>:<span class="string">&#x27;生成一系列数字&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">print(<span class="string">&#x27;\nstr()&#x27;</span>+<span class="string">&#x27;:\n\t&#x27;</span>+programming_vocabulary[<span class="string">&#x27;str()&#x27;</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;\ndel&#x27;</span>+<span class="string">&#x27;:\n\t&#x27;</span>+programming_vocabulary[<span class="string">&#x27;del&#x27;</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;\nsort()&#x27;</span>+<span class="string">&#x27;:\n\t&#x27;</span>+programming_vocabulary[<span class="string">&#x27;sort()&#x27;</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;\nsorted()&#x27;</span>+<span class="string">&#x27;:\n\t&#x27;</span>+programming_vocabulary[<span class="string">&#x27;sorted()&#x27;</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;\nrange()&#x27;</span>+<span class="string">&#x27;:\n\t&#x27;</span>+programming_vocabulary[<span class="string">&#x27;range()&#x27;</span>])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span>():</span><br><span class="line">将非字符串值表示为字符串</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span>:</span><br><span class="line">彻底删除一个元素</span><br><span class="line"></span><br><span class="line">sort():</span><br><span class="line">对列表进行永久性排序</span><br><span class="line"></span><br><span class="line"><span class="built_in">sorted</span>():</span><br><span class="line">对列表进行临时排序</span><br><span class="line"></span><br><span class="line"><span class="built_in">range</span>():</span><br><span class="line">生成一系列数字</span><br></pre></td></tr></table></figure><h2 id="8-3-遍历字典"><a href="#8-3-遍历字典" class="headerlink" title="8.3   遍历字典"></a>8.3   遍历字典</h2><h3 id="8-3-1-概述字典的遍历"><a href="#8-3-1-概述字典的遍历" class="headerlink" title="8.3.1   概述字典的遍历"></a>8.3.1   概述字典的遍历</h3><h4 id="任务一：初识字典的遍历"><a href="#任务一：初识字典的遍历" class="headerlink" title="任务一：初识字典的遍历"></a><em>任务一：初识字典的遍历</em></h4><p>知识点：</p><p>字典可能只包含几个<strong>key-value</strong>，也可能包含数百万个<strong>key-value</strong>。鉴于字典可能包含大量的数据，Python为字典提供了3种遍历方式：</p><p>遍历<strong>key-value：for key, val in dict.items()</strong></p><p>遍历<strong>key：for key in dict.keys()</strong></p><p>遍历<strong>value：for val in dict.value()</strong></p><p>字典的<strong>遍历</strong>就是<strong>依次</strong>从<strong>字典</strong>中获取所有<strong>键值对</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xiaoming = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小明&quot;</span>,</span><br><span class="line">           <span class="string">&quot;age&quot;</span>: <span class="number">18</span>,</span><br><span class="line">           <span class="string">&quot;gender&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">           <span class="string">&quot;height&quot;</span>: <span class="number">1.75</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># for 循环内部使用的 `key 的变量` in 字典</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> xiaoming:</span><br><span class="line">   print(<span class="string">f&quot;<span class="subst">&#123;k&#125;</span>: <span class="subst">&#123;xiaoming[k]&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>注意：在实际开发中，由于字典中每一个键值对保存数据的类型是不同的，所以针对字典的循环遍历<strong>需求并不是很多</strong></p><h4 id="任务二：字典和列表综合遍历"><a href="#任务二：字典和列表综合遍历" class="headerlink" title="任务二：字典和列表综合遍历"></a><em>任务二：字典和列表综合遍历</em></h4><p>需求分析：</p><p>尽管可以使用 <strong>for in</strong> 遍历 <strong>字典</strong></p><p>但是在开发中，更多的应用场景是：</p><p>使用<strong>多个键值对</strong>，来存储<strong>描述某个 物体 的相关信息</strong> —— 描述更复杂的数据信息</p><p>将<strong>多个物体(字典)<strong>放在</strong>一个列表</strong>中，再进行遍历，在循环体内部针对每一个字典进行<strong>相同的处理</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用多个键值对，存储描述一个物体的相关信息</span></span><br><span class="line"><span class="comment"># 来描述更复杂的数据信息。</span></span><br><span class="line"><span class="comment"># 将多个字典放在一个列表中，再进行遍历。</span></span><br><span class="line">card_list = [</span><br><span class="line">   &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">    <span class="string">&quot;qq&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">    <span class="string">&quot;phone&quot;</span>: <span class="string">&quot;110&quot;</span>&#125;,</span><br><span class="line">   &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;李四&quot;</span>,</span><br><span class="line">    <span class="string">&quot;qq&quot;</span>: <span class="string">&quot;54321&quot;</span>,</span><br><span class="line">    <span class="string">&quot;phone&quot;</span>: <span class="string">&quot;10086&quot;</span>&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> card_info <span class="keyword">in</span> card_list:</span><br><span class="line">   print(card_info)</span><br></pre></td></tr></table></figure><h3 id="8-3-2-items-遍历字典key-value"><a href="#8-3-2-items-遍历字典key-value" class="headerlink" title="8.3.2   items()遍历字典key-value"></a>8.3.2   items()遍历字典key-value</h3><h4 id="任务一：items-函数返回key-value数组"><a href="#任务一：items-函数返回key-value数组" class="headerlink" title="任务一：items()函数返回key-value数组"></a><em>任务一：items()函数返回key-value数组</em></h4><p>知识点：</p><p>语法：<strong>dict.items()</strong></p><p>描述： 为字典<strong>dict</strong>返回可遍历的(键, 值)元组数组</p><p>参数：无</p><p>返回：<strong>class ‘dict_items’<strong>数组类型(可迭代对象)，元素为</strong>key-value</strong>的元组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">d_items = cars.items()</span><br><span class="line">print(<span class="built_in">type</span>(d_items), d_items)</span><br></pre></td></tr></table></figure><h4 id="任务二：items-函数遍历字典的key-value"><a href="#任务二：items-函数遍历字典的key-value" class="headerlink" title="任务二：items()函数遍历字典的key-value"></a><em>任务二：items()函数遍历字典的key-value</em></h4><p>知识点：遍历字典所有的<strong>key-value</strong></p><p>语法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">dict</span>.items():</span><br><span class="line"> &lt;缩进语句块&gt;</span><br></pre></td></tr></table></figure><p>类似于<strong>enumerate()<strong>函数，每次迭代</strong>items()<strong>返回的是一个包含</strong>(key, value)<strong>的键值对</strong>元组</strong></p><p>因此，这里需要使用两个临时变量<strong>k</strong>和<strong>v</strong>对遍历的元组(字典元素)进行<strong>解包</strong></p><p><strong>k</strong>变量：储存键值对的<strong>key</strong>。<strong>v</strong>变量：储存键值对的<strong>value</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> cars.items():</span><br><span class="line">   print(<span class="string">f&#x27;<span class="subst">&#123;k.title()&#125;</span>:<span class="subst">&#123;v&#125;</span>&#x27;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>将字典的<strong>key</strong>和<strong>value</strong>组成一个新的列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">result = []</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> cars.items():</span><br><span class="line">   result.append((k, v))</span><br><span class="line"></span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表推导式</span></span><br><span class="line">print([(k, v) <span class="keyword">for</span> k, v <span class="keyword">in</span> cars.items()])</span><br></pre></td></tr></table></figure><h3 id="8-3-3-keys-遍历字典key"><a href="#8-3-3-keys-遍历字典key" class="headerlink" title="8.3.3   keys()遍历字典key"></a>8.3.3   keys()遍历字典key</h3><h4 id="任务一：keys-返回字典key数组"><a href="#任务一：keys-返回字典key数组" class="headerlink" title="任务一：keys()返回字典key数组"></a><em>任务一：keys()返回字典key数组</em></h4><p>知识点：</p><p>语法：<strong>dict.keys()</strong></p><p>描述： 为字典<strong>dict</strong>返回可遍历的<strong>key</strong>数组</p><p>参数：无</p><p>返回：**’class dict_keys’<strong>数组类型(可迭代对象)，元素为</strong>key**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">d_keys = cars.keys()</span><br><span class="line">print(<span class="built_in">type</span>(d_keys), d_keys)</span><br></pre></td></tr></table></figure><h4 id="任务二：keys-函数遍历字典的key"><a href="#任务二：keys-函数遍历字典的key" class="headerlink" title="任务二：keys()函数遍历字典的key"></a><em>任务二：keys()函数遍历字典的key</em></h4><p>知识点：遍历字典所有的<strong>key</strong></p><p>语法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">dict</span>.keys():</span><br><span class="line"> &lt;缩进语句块&gt;</span><br></pre></td></tr></table></figure><p>每次迭代<strong>keys()<strong>返回的是一个元素的</strong>key</strong>值，存储在临时变量<strong>k</strong>中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> cars.keys():</span><br><span class="line">   print(<span class="string">f&#x27;<span class="subst">&#123;k.title()&#125;</span>&#x27;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务三：查询某个key是否在字典中"><a href="#任务三：查询某个key是否在字典中" class="headerlink" title="任务三：查询某个key是否在字典中"></a><em>任务三：查询某个key是否在字典中</em></h4><p>知识点：</p><p>语法：<strong>if k in dict.keys():</strong> 或 <strong>if k not in dict.keys():</strong></p><p>描述：查询变量<strong>k</strong>是否是字典<strong>dict</strong>的<strong>key</strong></p><p>方法<strong>keys()<strong>并非只能用于遍历；实际上，它返回一个包含字典所有</strong>key</strong>的数组，然后，使用关键字<strong>in</strong>和<strong>not in</strong>来查询是否包括某个<strong>key</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;Ford&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> cars.keys():</span><br><span class="line">   print(<span class="string">&quot;Ford not in cars&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务四：使用sorted-对字典的key进行排序"><a href="#任务四：使用sorted-对字典的key进行排序" class="headerlink" title="任务四：使用sorted()对字典的key进行排序"></a><em>任务四：使用sorted()对字典的key进行排序</em></h4><p>知识点：</p><p>由于字典储存<strong>key-value</strong>是无序的。因此，使用**keys()**获得元素也是无序的</p><p>如果希望对字典的<strong>key</strong>按升序或降序方式排序，可以使用**sorted(dict.keys())**方式</p><p>**sorted(dict.keys())**仅返回排序的拷贝，对字典本身无影响</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按升序排序</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">sorted</span>(cars.keys(), reverse=<span class="literal">False</span>):</span><br><span class="line">   <span class="comment">#cars[k]为通过k返回对于的value</span></span><br><span class="line">   print(<span class="string">f&#x27;<span class="subst">&#123;k&#125;</span>:<span class="subst">&#123;cars[k]&#125;</span> &#x27;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="8-3-4-values-遍历字典value"><a href="#8-3-4-values-遍历字典value" class="headerlink" title="8.3.4   values()遍历字典value"></a>8.3.4   values()遍历字典value</h3><h4 id="任务一：values-字典value数组"><a href="#任务一：values-字典value数组" class="headerlink" title="任务一：values()字典value数组"></a><em>任务一：values()字典value数组</em></h4><p>知识点：</p><p>语法：<strong>dict.values()</strong></p><p>描述： 为字典<strong>dict</strong>返回可遍历的<strong>value</strong>数组</p><p>参数：无</p><p>返回：**’class dict_values’<strong>数组类型(可迭代对象)，元素为</strong>value**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">d_values = cars.values()</span><br><span class="line">print(<span class="built_in">type</span>(d_values), d_values)</span><br></pre></td></tr></table></figure><p>知识点：遍历字典所有的<strong>value</strong></p><p>语法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> <span class="built_in">dict</span>.value():</span><br><span class="line"> &lt;缩进语句块&gt;</span><br></pre></td></tr></table></figure><p>每次迭代<strong>values()<strong>返回的是一个元素的</strong>value</strong>值，存储在临时变量<strong>v</strong>中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">languages = &#123;</span><br><span class="line">   <span class="string">&#x27;jen&#x27;</span>: <span class="string">&#x27;python&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;sarah&#x27;</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;edward&#x27;</span>: <span class="string">&#x27;ruby&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;phil&#x27;</span>: <span class="string">&#x27;python&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> languages.values():</span><br><span class="line">   print(v.title())</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>这条for语句提取字典中的每个值，并将它们依次存储到变量<strong>language</strong>中</p><p>通过打印这些值，就获得了一个列表，其中包含被调查者选择的各种语言</p><p><strong>这种做法提取字典中所有的值，而没有考虑是否重复</strong>。涉及的值很少时，这也许不是问题，但如果被调查者很多，最终的列表可能包含大量的重复项</p><h4 id="任务二：set-剔除重复值"><a href="#任务二：set-剔除重复值" class="headerlink" title="任务二：set()剔除重复值"></a><em>任务二：set()剔除重复值</em></h4><p>知识点：</p><p><strong>为剔除重复项，可使用集合set类型</strong></p><p>**class ‘set’**为容器类型(迭代对象)的数据结构</p><p><strong>set</strong>对象，使用**{}**包含元素，每个元素是唯一的、不重复的</p><p><strong>set()<strong>函数可以将某个序列转换为</strong>set</strong>类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">languages = &#123;</span><br><span class="line">   <span class="string">&#x27;jen&#x27;</span>: <span class="string">&#x27;python&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;sarah&#x27;</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;edward&#x27;</span>: <span class="string">&#x27;ruby&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;phil&#x27;</span>: <span class="string">&#x27;python&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;--set数据结构：1.无序 2.不重复 3.&#123;&#125;包含元素--&quot;</span>)</span><br><span class="line">set_languages = <span class="built_in">set</span>(languages.values())</span><br><span class="line">print(<span class="built_in">type</span>(set_languages), set_languages)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历set元素</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> set_languages:</span><br><span class="line">   print(v.title())</span><br></pre></td></tr></table></figure><h3 id="习题：-1"><a href="#习题：-1" class="headerlink" title="习题："></a>习题：</h3><p><strong>6-4 词汇表2</strong>：既然你知道了如何遍历字典，现在请整理你为完成练习6-3而编写的代码，将其中的一系列<strong>print</strong>语句替换为一个遍历字典中的键和值的循环。确定该循环正确无误后，再在词汇表中添加5个Python术语。当你再次运行这个程序时，这些新术语及其含义将自动包含在输出中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">programming_vocabulary=&#123;</span><br><span class="line"><span class="string">&#x27;str()&#x27;</span>:<span class="string">&#x27;将非字符串值表示为字符串&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;del&#x27;</span>:<span class="string">&#x27;彻底删除一个元素&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;sort()&#x27;</span>:<span class="string">&#x27;对列表进行永久性排序&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;sorted()&#x27;</span>:<span class="string">&#x27;对列表进行临时排序&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;range()&#x27;</span>:<span class="string">&#x27;生成一系列数字&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">programming_vocabulary[<span class="string">&#x27;title()&#x27;</span>]=<span class="string">&#x27;首字母大写&#x27;</span></span><br><span class="line"></span><br><span class="line">programming_vocabulary[<span class="string">&#x27;lower()&#x27;</span>]=<span class="string">&#x27;全部字母小写&#x27;</span></span><br><span class="line"></span><br><span class="line">programming_vocabulary[<span class="string">&#x27;upper()&#x27;</span>]=<span class="string">&#x27;全部字母大写&#x27;</span></span><br><span class="line"></span><br><span class="line">programming_vocabulary[<span class="string">&#x27;append()&#x27;</span>]=<span class="string">&#x27;在列表末尾添加元素&#x27;</span></span><br><span class="line"></span><br><span class="line">programming_vocabulary[<span class="string">&#x27;insert()&#x27;</span>]=<span class="string">&#x27;在列表中插元素&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> programming_vocabulary.items():</span><br><span class="line">print(key+<span class="string">&#x27;:\n\t&#x27;</span>+value+<span class="string">&#x27;.&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span>():</span><br><span class="line">将非字符串值表示为字符串.</span><br><span class="line"><span class="keyword">del</span>:</span><br><span class="line">彻底删除一个元素.</span><br><span class="line">sort():</span><br><span class="line">对列表进行永久性排序.</span><br><span class="line"><span class="built_in">sorted</span>():</span><br><span class="line">对列表进行临时排序.</span><br><span class="line"><span class="built_in">range</span>():</span><br><span class="line">生成一系列数字.</span><br><span class="line">title():</span><br><span class="line">首字母大写.</span><br><span class="line">lower():</span><br><span class="line">全部字母小写.</span><br><span class="line">upper():</span><br><span class="line">全部字母大写.</span><br><span class="line">append():</span><br><span class="line">在列表末尾添加元素.</span><br><span class="line">insert():</span><br><span class="line">在列表中插元素.</span><br></pre></td></tr></table></figure><p><strong>6-5 河流</strong>：创建一个字典，在其中存储三条大河流及其流经的国家。其中一个键—值对可能是**’nile’: ‘egypt’**</p><p>使用循环为每条河流打印一条消息，如“The Nile runs through Egypt.”</p><p>使用循环将该字典中每条河流的名字都打印出来</p><p>使用循环将该字典包含的每个国家的名字都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">&#x27;Euphrates&#x27;</span>:<span class="string">&#x27;Iraq&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;Nile&#x27;</span>:<span class="string">&#x27;Egypt&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;Huanghe&#x27;</span>:<span class="string">&#x27;China&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> dic.items():</span><br><span class="line">print(<span class="string">&#x27;The &#x27;</span> + key + <span class="string">&#x27; runs through &#x27;</span> + value)</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dic.keys():</span><br><span class="line">print(key)</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> dic.values():</span><br><span class="line">print(value)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">The Euphrates runs through Iraq</span><br><span class="line">The Nile runs through Egypt</span><br><span class="line">The Huanghe runs through China</span><br><span class="line">Euphrates</span><br><span class="line">Nile</span><br><span class="line">Huanghe</span><br><span class="line">Iraq</span><br><span class="line">Egypt</span><br><span class="line">China</span><br></pre></td></tr></table></figure><h3 id="8-3-5-list-获得key和value列表"><a href="#8-3-5-list-获得key和value列表" class="headerlink" title="8.3.5   list()获得key和value列表"></a>8.3.5   list()获得key和value列表</h3><h4 id="任务一：list-获得key和value列表"><a href="#任务一：list-获得key和value列表" class="headerlink" title="任务一：list()获得key和value列表"></a><em>任务一：list()获得key和value列表</em></h4><p>知识点：</p><p><strong>items()<strong>、</strong>keys()<strong>和</strong>values()<strong>获得的数据类型</strong>不是列表类型</strong>，不能对它们实施列表相关操作，比如元素修改、添加或删除、排序等。否则会引起异常<strong>TypeError</strong></p><p>为此，可以通过**list()**函数将它们转换为列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">d_items = cars.items()</span><br><span class="line">print(<span class="built_in">type</span>(d_items), d_items)</span><br><span class="line"></span><br><span class="line"><span class="comment">#不能对items()返回结果进行操作，TypeError</span></span><br><span class="line">d_items[<span class="number">1</span>] = (<span class="string">&#x27;BMW&#x27;</span>, <span class="number">10.5</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将items()转换为列表</span></span><br><span class="line"><span class="comment"># 或l_items = list(cars.items())</span></span><br><span class="line">l_items = <span class="built_in">list</span>(d_items)</span><br><span class="line">print(<span class="built_in">type</span>(l_items), l_items)</span><br><span class="line">l_items[<span class="number">1</span>] = (<span class="string">&#x27;BMW&#x27;</span>, <span class="number">10.5</span>)</span><br></pre></td></tr></table></figure><h2 id="8-4-字典内置函数和方法"><a href="#8-4-字典内置函数和方法" class="headerlink" title="8.4   字典内置函数和方法"></a>8.4   字典内置函数和方法</h2><h4 id="任务一：查看字典常用操作"><a href="#任务一：查看字典常用操作" class="headerlink" title="任务一：查看字典常用操作"></a><em>任务一：查看字典常用操作</em></h4><p>知识点：</p><p>在python中，字典类型是<strong>dict</strong>类</p><p>可以通过**dir(dict)**函数查看字典对象里里所包含的属性和方法</p><p>暂时忽略**__<strong>下划线的属性和方法。</strong>dict<strong>类为字典操作提供：</strong>‘clear()’, ‘copy()’, ‘fromkeys()’, ‘get()’, ‘items()’, ‘keys()’, ‘pop()’, ‘popitem()’, ‘setdefault()’, ‘update()’, ‘values()’**方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="built_in">dir</span>(<span class="built_in">dict</span>), end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>根据Jupyter智能联想功能，查看字典的函数。步骤如下：</p><p>定义一个<strong>字典</strong>，例如：<strong>xiaoming = {}</strong></p><p>输入 <strong>xiaoming.</strong> 再按下<strong>TAB</strong>键(装有智能联想插件后，不需要按<strong>TAB</strong>键)，<strong>Jupyter</strong>会提示智能联想<strong>字典</strong>的所有函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.clear       xiaoming.items       xiaoming.setdefault</span><br><span class="line">xiaoming.copy        xiaoming.keys        xiaoming.update</span><br><span class="line">xiaoming.fromkeys    xiaoming.pop         xiaoming.values</span><br><span class="line">xiaoming.get         xiaoming.popitem  </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">xiaoming_dict = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小明&quot;</span>,</span><br><span class="line">                <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 统计键值对数量</span></span><br><span class="line">print(<span class="built_in">len</span>(xiaoming_dict))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 合并字典</span></span><br><span class="line">temp_dict = &#123;<span class="string">&quot;height&quot;</span>: <span class="number">1.75</span>,</span><br><span class="line">            <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意：如果被合并的字典中包含已经存在的键值对，会覆盖原有的键值对</span></span><br><span class="line">xiaoming_dict.update(temp_dict)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 清空字典</span></span><br><span class="line">xiaoming_dict.clear()</span><br><span class="line"></span><br><span class="line">print(xiaoming_dict)</span><br></pre></td></tr></table></figure><h4 id="任务二：len-dict-函数返回字典元素个数"><a href="#任务二：len-dict-函数返回字典元素个数" class="headerlink" title="任务二：len(dict)函数返回字典元素个数"></a><em>任务二：len(dict)函数返回字典元素个数</em></h4><p>知识点：**len(dict)**返回字典元素(<strong>key-value</strong>)的个数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(<span class="built_in">len</span>(cars))</span><br></pre></td></tr></table></figure><h4 id="任务三：clear-方法清空字典"><a href="#任务三：clear-方法清空字典" class="headerlink" title="任务三：clear()方法清空字典"></a><em>任务三：clear()方法清空字典</em></h4><p>知识点：</p><p>语法：<strong>dict.clear()</strong></p><p>描述：用于清空字典<strong>dict</strong>中所有的<strong>key-value</strong>。对一个字典执行<strong>clear()<strong>方法之后，该字典就会变成一个</strong>空字典</strong></p><p>参数和返回：无</p><p>和<strong>del dict</strong>区别：<strong>del dict</strong>将字典从内存中销毁，而<strong>dict.clear()<strong>只是清空字典，字典</strong>dict</strong>在内存中依然存在</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清空cars所有key-value</span></span><br><span class="line">cars.clear()</span><br><span class="line">print(cars)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在内存中销毁字典cars对象, 之后的语句cars不存在</span></span><br><span class="line"><span class="keyword">del</span> cars</span><br><span class="line"><span class="comment"># print会出错</span></span><br><span class="line">print(cars)</span><br></pre></td></tr></table></figure><h4 id="任务四：get-方法获取字典元素"><a href="#任务四：get-方法获取字典元素" class="headerlink" title="任务四：get()方法获取字典元素"></a><em>任务四：get()方法获取字典元素</em></h4><p>知识点：</p><p>语法：<strong>dict.get(key)</strong></p><p>描述：根据<strong>key</strong>来获取<strong>value</strong>，它相当于方括号语法**dict[key]**的增强版</p><p><strong>dict[key]<strong>：访问并不存在的</strong>key</strong>时，字典会引发<strong>KeyError</strong>错误</p><p><strong>dict.get(key)<strong>：访问并不存在的</strong>key</strong>时，会简单地返回<strong>None</strong>，不会导致错误</p><p>参数：要查询的<strong>key</strong>，不管元素是否存在</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line"><span class="comment"># 获取&#x27;BMW&#x27;对应的value</span></span><br><span class="line">print(cars.get(<span class="string">&#x27;BMW&#x27;</span>)) <span class="comment"># 8.5</span></span><br><span class="line">print(cars.get(<span class="string">&#x27;PORSCHE&#x27;</span>)) <span class="comment"># None</span></span><br><span class="line">print(cars[<span class="string">&#x27;PORSCHE&#x27;</span>]) <span class="comment"># KeyError</span></span><br></pre></td></tr></table></figure><h4 id="任务五：setdefault-方法查询字典元素"><a href="#任务五：setdefault-方法查询字典元素" class="headerlink" title="任务五：setdefault()方法查询字典元素"></a><em>任务五：setdefault()方法查询字典元素</em></h4><p>知识点：</p><p>语法：<strong>dict.setdefault(key, default=None)</strong></p><p>描述：类似于<strong>get()<strong>方法, 根据</strong>key</strong>来获取对应<strong>value</strong>的值。是增强版的**get()**方法</p><p>和<strong>get()<strong>方法的相同：如果</strong>key</strong>存在，则直接返回<strong>key</strong>对应的<strong>value</strong></p><p>和<strong>get()<strong>方法的区别：如果</strong>key</strong>不存在，先将默认值<strong>default</strong>作为<strong>value</strong>和<strong>key</strong>一起添加到字典，然后再返回对应的<strong>value</strong>；</p><p>参数：要查询的<strong>key</strong>。<strong>default</strong>为<strong>key</strong>不存在时的默认值<strong>value</strong></p><p>返回：<strong>key</strong>对应的<strong>value</strong>或<strong>default</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置默认值，该key在dict中不存在，新增key-value对</span></span><br><span class="line">print(cars.setdefault(<span class="string">&#x27;PORSCHE&#x27;</span>, <span class="number">9.2</span>)) <span class="comment"># 9.2</span></span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置默认值，该key在dict中存在，不会修改dict内容</span></span><br><span class="line">print(cars.setdefault(<span class="string">&#x27;BMW&#x27;</span>, <span class="number">3.4</span>)) <span class="comment"># 8.5</span></span><br><span class="line">print(cars)</span><br></pre></td></tr></table></figure><h4 id="任务六：update-方法更新字典元素"><a href="#任务六：update-方法更新字典元素" class="headerlink" title="任务六：update()方法更新字典元素"></a><em>任务六：update()方法更新字典元素</em></h4><p>知识点：</p><p>语法：<strong>dict.update(sub_dict)</strong></p><p>描述：使用一个字典<strong>sub_dict</strong>中所包含的<strong>key-value</strong>来更新字典<strong>dict</strong></p><p>如果被更新的字典<strong>dict</strong>中己包含对应的<strong>key-value</strong>，那么原<strong>value</strong>会被覆盖</p><p>如果被更新的字典<strong>dict</strong>中不包含对应的<strong>key-value</strong>，则添加该<strong>key-value</strong></p><p>参数：字典<strong>sub_dict</strong>，元素包含需要添加的<strong>key-value</strong></p><p>返回：无</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x27;BMW&#x27;被更新，&#x27;PORSCHE&#x27;被添加</span></span><br><span class="line">cars.update(&#123;<span class="string">&#x27;BMW&#x27;</span>:<span class="number">4.5</span>, <span class="string">&#x27;PORSCHE&#x27;</span>: <span class="number">9.3</span>&#125;)</span><br><span class="line">print(cars)</span><br></pre></td></tr></table></figure><h4 id="任务七：pop-方法弹出字典元素"><a href="#任务七：pop-方法弹出字典元素" class="headerlink" title="任务七：pop()方法弹出字典元素"></a><em>任务七：pop()方法弹出字典元素</em></h4><p>知识点：</p><p>语法：<strong>dict.pop(key)</strong></p><p>描述：获取指定<strong>key</strong>对应的<strong>value</strong>，并把这个<strong>key-value</strong>从字典<strong>dict</strong>中删除</p><p>参数：输入字典<strong>dict</strong>需要弹出元素的<strong>key</strong></p><p>返回：<strong>key</strong>对应的<strong>value</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cars = &#123;<span class="string">&#x27;BMW&#x27;</span>: <span class="number">8.5</span>, <span class="string">&#x27;BENS&#x27;</span>: <span class="number">8.3</span>, <span class="string">&#x27;AUDI&#x27;</span>: <span class="number">7.9</span>&#125;</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line">print(cars.pop(<span class="string">&#x27;AUDI&#x27;</span>)) <span class="comment"># 7.9</span></span><br><span class="line">print(cars) <span class="comment"># &#123;&#x27;BMW&#x27;: 8.5, &#x27;BENS&#x27;: 8.3&#125;</span></span><br></pre></td></tr></table></figure><h3 id="习题：-2"><a href="#习题：-2" class="headerlink" title="习题："></a>习题：</h3><p><strong>6-7 人</strong>：在为完成练习6-1而编写的程序中，再创建两个表示人的字典，然后将这三个字典都存储在一个名为<strong>people</strong>的列表中。遍历这个列表，将其中每个人的所有信息都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">dic1 = &#123;<span class="string">&#x27;first_name&#x27;</span>:<span class="string">&#x27;jiajia&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;last_name&#x27;</span>:<span class="string">&#x27;amy&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;18&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;city&#x27;</span>:<span class="string">&#x27;shantou&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">dic2 = &#123;<span class="string">&#x27;first_name&#x27;</span>:<span class="string">&#x27;yinyin&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;last_name&#x27;</span>:<span class="string">&#x27;mike&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;28&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;city&#x27;</span>:<span class="string">&#x27;NewYork&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">dic3 = &#123;<span class="string">&#x27;first_name&#x27;</span>:<span class="string">&#x27;bai&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;last_name&#x27;</span>:<span class="string">&#x27;LI&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;38&#x27;</span>,</span><br><span class="line">   <span class="string">&#x27;city&#x27;</span>:<span class="string">&#x27;shanghai&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">dic_ls = [dic1, dic2, dic3]</span><br><span class="line"><span class="keyword">for</span> index, each <span class="keyword">in</span> <span class="built_in">enumerate</span>(dic_ls):</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> each.items():</span><br><span class="line">print(<span class="built_in">str</span>(index) + <span class="string">&#x27;\&#x27;s &#x27;</span> + key + <span class="string">&#x27; is &#x27;</span> + value)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span><span class="string">&#x27;s first_name is jiajia</span></span><br><span class="line"><span class="string">0&#x27;</span>s last_name <span class="keyword">is</span> amy</span><br><span class="line"><span class="number">0</span><span class="string">&#x27;s age is 18</span></span><br><span class="line"><span class="string">0&#x27;</span>s city <span class="keyword">is</span> shantou</span><br><span class="line"><span class="number">1</span><span class="string">&#x27;s first_name is yinyin</span></span><br><span class="line"><span class="string">1&#x27;</span>s last_name <span class="keyword">is</span> mike</span><br><span class="line"><span class="number">1</span><span class="string">&#x27;s age is 28</span></span><br><span class="line"><span class="string">1&#x27;</span>s city <span class="keyword">is</span> NewYork</span><br><span class="line"><span class="number">2</span><span class="string">&#x27;s first_name is bai</span></span><br><span class="line"><span class="string">2&#x27;</span>s last_name <span class="keyword">is</span> LI</span><br><span class="line"><span class="number">2</span><span class="string">&#x27;s age is 38</span></span><br><span class="line"><span class="string">2&#x27;</span>s city <span class="keyword">is</span> shanghai</span><br></pre></td></tr></table></figure><p><strong>6-8 宠物</strong>：创建多个字典，对于每个字典，都使用一个宠物的名称来给它命名；在每个字典中，包含宠物的类型及其主人的名字。将这些字典存储在一个名为<strong>pets</strong>的列表中，再遍历该列表，并将宠物的所有信息都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">pets = []</span><br><span class="line">pet = &#123;</span><br><span class="line">    <span class="string">&#x27;animal type&#x27;</span>: <span class="string">&#x27;python&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;john&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;owner&#x27;</span>: <span class="string">&#x27;guido&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;weight&#x27;</span>: <span class="number">43</span>,</span><br><span class="line">    <span class="string">&#x27;eats&#x27;</span>: <span class="string">&#x27;bugs&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">pets.append(pet)</span><br><span class="line"></span><br><span class="line">pet = &#123;</span><br><span class="line">    <span class="string">&#x27;animal type&#x27;</span>: <span class="string">&#x27;chicken&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;clarence&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;owner&#x27;</span>: <span class="string">&#x27;tiffany&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;weight&#x27;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&#x27;eats&#x27;</span>: <span class="string">&#x27;seeds&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">pets.append(pet)</span><br><span class="line"></span><br><span class="line">pet = &#123;</span><br><span class="line">    <span class="string">&#x27;animal type&#x27;</span>: <span class="string">&#x27;dog&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;peso&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;owner&#x27;</span>: <span class="string">&#x27;eric&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;weight&#x27;</span>: <span class="number">37</span>,</span><br><span class="line">    <span class="string">&#x27;eats&#x27;</span>: <span class="string">&#x27;shoes&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">pets.append(pet)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> pet <span class="keyword">in</span> pets:</span><br><span class="line">    print(<span class="string">&quot;\nHere&#x27;s what I know about &quot;</span> + pet[<span class="string">&#x27;name&#x27;</span>].title() + <span class="string">&quot;:&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> key, value <span class="keyword">in</span> pet.items():</span><br><span class="line">        print(<span class="string">&quot;\t&quot;</span> + key + <span class="string">&quot;: &quot;</span> + <span class="built_in">str</span>(value))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Here<span class="string">&#x27;s what I know about John:</span></span><br><span class="line"><span class="string">animal type: python</span></span><br><span class="line"><span class="string">name: john</span></span><br><span class="line"><span class="string">owner: guido</span></span><br><span class="line"><span class="string">weight: 43</span></span><br><span class="line"><span class="string">eats: bugs</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Here&#x27;</span>s what I know about Clarence:</span><br><span class="line">animal <span class="built_in">type</span>: chicken</span><br><span class="line">name: clarence</span><br><span class="line">owner: tiffany</span><br><span class="line">weight: <span class="number">2</span></span><br><span class="line">eats: seeds</span><br><span class="line"></span><br><span class="line">Here<span class="string">&#x27;s what I know about Peso:</span></span><br><span class="line"><span class="string">animal type: dog</span></span><br><span class="line"><span class="string">name: peso</span></span><br><span class="line"><span class="string">owner: eric</span></span><br><span class="line"><span class="string">weight: 37</span></span><br><span class="line"><span class="string">eats: shoes</span></span><br></pre></td></tr></table></figure><p><strong>6-9 喜欢的地方</strong>：创建一个名为<strong>favorite_places</strong>的字典。在这个字典中，将三个人的名字用作键；对于其中的每个人，都存储他喜欢的1~3个地方。为让这个练习更有趣些，可让一些朋友指出他们喜欢的几个地方。遍历这个字典，并将其中每个人的名字及其喜欢的地方打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">favorite_places=&#123;</span><br><span class="line">    <span class="string">&#x27;James&#x27;</span>:[<span class="string">&#x27;hangzhou&#x27;</span>,<span class="string">&#x27;wuhan&#x27;</span>,<span class="string">&#x27;changsha&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;Kobe&#x27;</span>: [<span class="string">&#x27;hawaii&#x27;</span>, <span class="string">&#x27;iceland&#x27;</span>],</span><br><span class="line">    <span class="string">&#x27;Jordan&#x27;</span>: [<span class="string">&#x27;verstovia&#x27;</span>, <span class="string">&#x27;the playground&#x27;</span>, <span class="string">&#x27;south carolina&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name,places <span class="keyword">in</span> favorite_places.items():</span><br><span class="line">    print(name.title()+<span class="string">&quot; likes &quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> place <span class="keyword">in</span> places:</span><br><span class="line">        print(<span class="string">&quot;- &quot;</span> + place.title())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">James likes </span><br><span class="line">- Hangzhou</span><br><span class="line">- Wuhan</span><br><span class="line">- Changsha</span><br><span class="line">Kobe likes </span><br><span class="line">- Hawaii</span><br><span class="line">- Iceland</span><br><span class="line">Jordan likes </span><br><span class="line">- Verstovia</span><br><span class="line">- The Playground</span><br><span class="line">- South Carolina</span><br></pre></td></tr></table></figure><p><strong>6-10 喜欢的数字</strong>：修改为完成练习6-2而编写的程序，让每个人都可以有多个喜欢的数字，然后将每个人的名字及其喜欢的数字打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">favorite_numbers = &#123;</span><br><span class="line">    <span class="string">&#x27;James&#x27;</span>: [<span class="number">23</span>,<span class="number">6</span>],</span><br><span class="line">    <span class="string">&#x27;Kobe&#x27;</span>: [<span class="number">24</span>,<span class="number">8</span>],</span><br><span class="line">    <span class="string">&#x27;Jordan&#x27;</span>: [<span class="number">45</span>,<span class="number">23</span>,<span class="number">0</span>],</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">for</span> people,number <span class="keyword">in</span> favorite_numbers.items():</span><br><span class="line">    print(people+<span class="string">&#x27; like &#x27;</span>+<span class="built_in">str</span>(number))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">James like [<span class="number">23</span>, <span class="number">6</span>]</span><br><span class="line">Kobe like [<span class="number">24</span>, <span class="number">8</span>]</span><br><span class="line">Jordan like [<span class="number">45</span>, <span class="number">23</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure><p><strong>6-11 城市</strong>：创建一个名为<strong>cities</strong>的字典，其中将三个城市名用作键；对于每座城市，都创建一个字典，并在其中包含该城市所属的国家、人口约数以及一个有关该城市的事实。在表示每座城市的字典中，应包含<strong>country</strong>、<strong>population</strong>和<strong>fact</strong>等键。将每座城市的名字以及有关它们的信息都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">cities=&#123;</span><br><span class="line">    <span class="string">&#x27;武汉&#x27;</span>:&#123;</span><br><span class="line">        <span class="string">&#x27;country&#x27;</span>:<span class="string">&#x27;China&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;population&#x27;</span>:<span class="string">&#x27;1121.20W&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;fact&#x27;</span>:<span class="string">&#x27;Gui&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;杭州&#x27;</span>:&#123;</span><br><span class="line">        <span class="string">&#x27;country&#x27;</span>:<span class="string">&#x27;China&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;population&#x27;</span>:<span class="string">&#x27;1036W&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;fact&#x27;</span>:<span class="string">&#x27;Tian Mu&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;kathmandu&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;country&#x27;</span>: <span class="string">&#x27;nepal&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;population&#x27;</span>: <span class="number">1003285</span>,</span><br><span class="line">        <span class="string">&#x27;fact&#x27;</span>: <span class="string">&#x27;himilaya&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> city, city_info <span class="keyword">in</span> cities.items():</span><br><span class="line">    country = city_info[<span class="string">&#x27;country&#x27;</span>].title()</span><br><span class="line">    population = city_info[<span class="string">&#x27;population&#x27;</span>]</span><br><span class="line">    mountain = city_info[<span class="string">&#x27;fact&#x27;</span>].title()</span><br><span class="line">    </span><br><span class="line">    print(<span class="string">&quot;\n&quot;</span> + city.title() + <span class="string">&quot; is in &quot;</span> + country + <span class="string">&quot;.&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;  It has a population of about &quot;</span> + <span class="built_in">str</span>(population) + <span class="string">&quot;.&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;  The &quot;</span> + mountain + <span class="string">&quot; mountain is nearby.&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">武汉 <span class="keyword">is</span> <span class="keyword">in</span> China.</span><br><span class="line">  It has a population of about <span class="number">1121.20</span>W.</span><br><span class="line">  The Gui mountain <span class="keyword">is</span> nearby.</span><br><span class="line"></span><br><span class="line">杭州 <span class="keyword">is</span> <span class="keyword">in</span> China.</span><br><span class="line">  It has a population of about 1036W.</span><br><span class="line">  The Tian Mu mountain <span class="keyword">is</span> nearby.</span><br><span class="line"></span><br><span class="line">Kathmandu <span class="keyword">is</span> <span class="keyword">in</span> Nepal.</span><br><span class="line">  It has a population of about <span class="number">1003285.</span></span><br><span class="line">  The Himilaya mountain <span class="keyword">is</span> nearby.</span><br></pre></td></tr></table></figure><h2 id="8-5-实例：词频统计"><a href="#8-5-实例：词频统计" class="headerlink" title="8.5   实例：词频统计"></a>8.5   实例：词频统计</h2><p>编写一个用于分析文档并<strong>计算每个单词在文档中出现的次数</strong>的程序。这种文档分析常被用于检测两个文档内容的相似度，也被用于自动索引和归档程序（如互联网搜索引擎）</p><p>需求分析：</p><p>从程序角度上，只需<strong>遍历文档</strong>，对每个出现的单词进行<strong>累加计数</strong></p><p>这里将使用本章学习到的字典，为每个单词建立一个<strong>计数器</strong></p><h4 id="任务一：构建词频统计字典"><a href="#任务一：构建词频统计字典" class="headerlink" title="任务一：构建词频统计字典"></a><em>任务一：构建词频统计字典</em></h4><p>建立维护单词计数器的字典<strong>counts</strong>，其中<strong>key</strong>是代表文档中的单词的字符串，<strong>value</strong>是计算单词出现次数的整数。要更新特定单词<strong>w</strong>的计数，只需要一行代码，当遍历到单词<strong>w</strong>，那么就将它的计数+1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># w为单词字符串</span></span><br><span class="line">counts[w] = counts[w] + <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="任务二：更新词频统计"><a href="#任务二：更新词频统计" class="headerlink" title="任务二：更新词频统计"></a><em>任务二：更新词频统计</em></h4><p>对词频字典<strong>counts</strong>更新词频的统计。在这里使用字典会遇到一个Bug。第一次遇到一个单词时，由于字典<strong>counts</strong>中还没有该单词，如果对它进行访问<strong>counts[w]<strong>会引起</strong>KeyError</strong>异常。为了防范这种情况，需要在算法中做出判断：</p><p>如果字典<strong>counts</strong>中已经存在单词<strong>w</strong>那么就对它进行+1</p><p>如果单词<strong>w</strong>不存在，那么就向字典添加新元素</p><p>方法一：为检测某个<strong>key</strong>是否在字典中存在，可以使用<strong>in</strong>运算符：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> w <span class="keyword">in</span> counts:</span><br><span class="line">   counts[w] = counts[w] + <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   counts[w] = <span class="number">1</span></span><br></pre></td></tr></table></figure><p>方法二：更优雅的方法是使用<strong>setdefault()<strong>方法，如果</strong>w</strong>不在字典中，将返回0，结果是<strong>w</strong>的条目设置为1：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果不存在，则添加新元素，初始值为0</span></span><br><span class="line">counts[w] = counts.setdefault(w,<span class="number">0</span>) + <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="任务三：文件输入和预处理"><a href="#任务三：文件输入和预处理" class="headerlink" title="任务三：文件输入和预处理"></a><em>任务三：文件输入和预处理</em></h4><p>在分析文件词频前，需要对文本文档拆分成一系列的单词。但在拆分之前，需要做如下两个操作：</p><p>将所有文本单词统一转换为小写(这样出现“Foo”将匹配“foo”)</p><p>消除标点符号（这样“foo,”匹配“foo”）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输入文件名比如 &#x27;hello.txt&#x27;</span></span><br><span class="line">fname = <span class="built_in">input</span>(<span class="string">&quot;File to analyze: &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将整个文件读取为一个长字符串</span></span><br><span class="line"><span class="comment"># open(fname,&quot;r&quot;)为&#x27;r&#x27;只读模式打开文件，然后再调用read()读文件</span></span><br><span class="line"><span class="comment"># encoding = &#x27;UTF-8&#x27;指定文件编码类型&#x27;UTF-8&#x27;</span></span><br><span class="line">text = <span class="built_in">open</span>(fname,<span class="string">&#x27;r&#x27;</span>, encoding = <span class="string">&#x27;UTF-8&#x27;</span>).read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有字符转换为小写</span></span><br><span class="line">text = text.lower()</span><br><span class="line"><span class="comment"># 删除标点，将文本的标点符号统一替换为空格&#x27; &#x27;</span></span><br><span class="line"><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">&#x27;!&quot;#$%&amp;()*+,-./:;&lt;=&gt;?@[\\]^_‘&#123;|&#125;~&#x27;</span>:</span><br><span class="line">　　text = text.replace(ch, <span class="string">&quot; &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串的split()方法将字符串按空格拆分为words列表</span></span><br><span class="line">words = text.split()</span><br></pre></td></tr></table></figure><h4 id="任务四：更新字典词频"><a href="#任务四：更新字典词频" class="headerlink" title="任务四：更新字典词频"></a><em>任务四：更新字典词频</em></h4><p>遍历单词列表<strong>words</strong>，构建字典<strong>counts</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">counts = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> words:</span><br><span class="line">   counts[w] = counts.get(w, <span class="number">0</span>) + <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="任务五：对词频进行排序"><a href="#任务五：对词频进行排序" class="headerlink" title="任务五：对词频进行排序"></a><em>任务五：对词频进行排序</em></h4><p>按词频的降序排序，总结<strong>counts</strong>的内容</p><p>方法一：打印所有单词。按字母顺序打印出单词列表及其关联的计数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得所有单词，即字典的key</span></span><br><span class="line">uniqueWords = <span class="built_in">list</span>(counts.keys())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对单词列表进行排序</span></span><br><span class="line">uniqueWords.sort()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再打印排序结果</span></span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> uniqueWords:</span><br><span class="line">   print(w, counts[w])</span><br></pre></td></tr></table></figure><p>方法二：打印前<strong>n</strong>个单词。然而，对于一个大文件，很多单词仅出现少数几次。更好的方式是打印文档中前<strong>n</strong>个最常见单词的计数。为此，需要创建一个按计数排序的列表<strong>c_words</strong>，然后从列表中选择前<strong>n</strong>项</p><p>首先用字典的<strong>items()<strong>方法，获取键值对的列表，这里的</strong>c_words</strong>是一个字典的<strong>key-value</strong>元组列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将items()返回结果转换为list类型</span></span><br><span class="line">c_words = <span class="built_in">list</span>(counts.items())</span><br></pre></td></tr></table></figure><p>然后，对列表<strong>c_words</strong>进行排序</p><p>如果直接使用列表排序**c_words.sort()**，Python会按默认的排序方法</p><p>然而，当Python比较<strong>元组</strong>时，它会按部分<strong>从左到右</strong>排序。由于<strong>key-value</strong>元组的第一个部分是单词，所以<strong>c_words.sort()<strong>将会按</strong>照字母顺序</strong>排列此列表</p><p>为了能让列表排序按<strong>词频</strong>(<strong>key-value</strong>元组的第二个部分)，可以自定义**sort()<strong>的排序规则。注意，元组像列表一样从0开始索引，所以</strong>pair[1]**将元组的词频部分返回</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自定义排序规则，pair为列表元素(元组)，按词频pair[1]排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">byFreq</span>(<span class="params">pair</span>):</span></span><br><span class="line">   <span class="keyword">return</span> pair[<span class="number">1</span>]</span><br></pre></td></tr></table></figure><p>将排序规则通过<strong>key</strong>参数传给**c_words.sort()**函数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设定排序规则函数</span></span><br><span class="line">c_words.sort(key=byFreq)</span><br></pre></td></tr></table></figure><p><strong>双重排序</strong>：希望对的列表主要按词频排序，但在词频相同时按字母顺序排列。如何处理这种双重排序呢？</p><p>解决方法：如果在按词频排序之前，所有单词按照字母顺序排列，那么具有相同词频的单词仍将按照字母顺序排列。为此，只需要对列表进行两次排序，先按单词排序，再按频率排序：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c_words.sort() <span class="comment">#先按单词字母升序排序</span></span><br><span class="line">c_words.sort(key=byFreq, reverse=<span class="literal">True</span>) <span class="comment">#后按词频降序排序</span></span><br></pre></td></tr></table></figure><h4 id="任务六：输出结果"><a href="#任务六：输出结果" class="headerlink" title="任务六：输出结果"></a><em>任务六：输出结果</em></h4><p>按照从最频繁到最不频繁的顺序排列，打印前 <strong>n</strong> 个最常见的单词的报告。通过格式化字符串形式遍历列表<strong>c_words</strong>前<strong>n</strong>个元素：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">   <span class="comment">#列表元素是元组，解包元组</span></span><br><span class="line">   word, count = c_words[i]</span><br><span class="line">   print(<span class="string">&quot;&#123;0:&lt;15&#125;&#123;1:&gt;5&#125;&quot;</span>.<span class="built_in">format</span>(word, count))</span><br></pre></td></tr></table></figure><p>索引<strong>i</strong>用于从列表<strong>c_words</strong>中获取<strong>c_words[i]<strong>元素(元组)，并将该元组解包到</strong>word</strong>和<strong>count</strong>中。</p><p>然后通过**.format()**函数格式化输出字符串，单词格式15个空格左对齐，词频5个空格右对齐</p><h4 id="任务七：最终程序"><a href="#任务七：最终程序" class="headerlink" title="任务七：最终程序"></a><em>任务七：最终程序</em></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">byFreq</span>(<span class="params">pair</span>):</span></span><br><span class="line">　　<span class="keyword">return</span> pair[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;此程序对文件单词(英语)进行词频分析&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;并输出前n个词频最高的单词.\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入文件：Python_Data.txt</span></span><br><span class="line">fname = <span class="built_in">input</span>(<span class="string">&quot;File to analyze: &quot;</span>)</span><br><span class="line">text = <span class="built_in">open</span>(fname,<span class="string">&#x27;r&#x27;</span>, encoding = <span class="string">&#x27;UTF-8&#x27;</span>).read()</span><br><span class="line">text = text.lower()</span><br><span class="line"><span class="keyword">for</span> ch <span class="keyword">in</span> ’!<span class="string">&quot;#$%&amp;()*+,-./:;&lt;=&gt;?@[\\]^_‘&#123;|&#125;~’:</span></span><br><span class="line"><span class="string"> text = text.replace(ch, ’ ’)</span></span><br><span class="line"><span class="string"> words = text.split()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 构建词频统计字典</span></span><br><span class="line"><span class="string">counts = &#123;&#125;</span></span><br><span class="line"><span class="string">for w in words:</span></span><br><span class="line"><span class="string"> counts[w] = counts.setdefault(w,0) + 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 排序前n项词频统计</span></span><br><span class="line">n = eval(input(&quot;Output analysis of how many words? &quot;))</span><br><span class="line">c_words = <span class="built_in">list</span>(counts.items())</span><br><span class="line">c_words.sort()</span><br><span class="line">c_words.sort(key=byFreq, reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化输出结果</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line"> word, count = c_words[i]</span><br><span class="line"> print(<span class="string">&quot;&#123;0:&lt;15&#125;&#123;1:&gt;5&#125;&quot;</span>.<span class="built_in">format</span>(word, count))</span><br></pre></td></tr></table></figure><h2 id="8-6-总结-四大容器类型公共方法"><a href="#8-6-总结-四大容器类型公共方法" class="headerlink" title="8.6   (总结) 四大容器类型公共方法"></a>8.6   (总结) 四大容器类型公共方法</h2><h3 id="8-6-1-内置函数"><a href="#8-6-1-内置函数" class="headerlink" title="8.6.1   内置函数"></a>8.6.1   内置函数</h3><p>对于容器类型，Python包含了以下内置函数：</p><table><thead><tr><th>函数</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td><strong>len(item)</strong></td><td>计算容器中元素个数</td><td></td></tr><tr><td><strong>del(item)</strong></td><td>删除变量</td><td><strong>del</strong>有两种方式</td></tr><tr><td><strong>max(item)</strong></td><td>返回容器中元素最大值</td><td>如果是字典，只针对 <strong>key</strong>比较</td></tr><tr><td><strong>min(item)</strong></td><td>返回容器中元素最小值</td><td>如果是字典，只针对 <strong>key</strong>比较</td></tr></tbody></table><p>知识点：比较运算符</p><p>直接使用比较运算符来对<strong>有序</strong>类型数据作比较</p><p>**cmp(item1, item2)**函数在Python3中已被淘汰</p><p>知识点：</p><p><strong>字符串</strong>的比较规则按<strong>Unicode</strong>码顺序</p><p>数字字符**&lt;<strong>大写字母</strong>&lt;**小写字母。即 “0” <strong>&lt;</strong> “A” <strong>&lt;</strong> “a”</p><p>知识点：<strong>Unicode</strong>码扩展自<strong>ASCII</strong>码</p><p><strong>ASCII</strong>使用8位宽(1字节)来对字符进行编码</p><p><strong>Unicode</strong>使用16位宽(2字节)</p><p>这使得<strong>Unicode</strong>能够表示世界上所有的书写语言中可能用於电脑通讯的字元、象形文字和其他符号</p><p>前127个的<strong>Unicode</strong>码与<strong>ASCII</strong>码一样</p><h3 id="8-6-2-切片"><a href="#8-6-2-切片" class="headerlink" title="8.6.2   切片"></a>8.6.2   切片</h3><p>知识点：</p><p>切片适合<strong>字符串、列表、元组</strong>数据类型</p><p><strong>切片</strong>使用<strong>索引值</strong>来限定范围，提取子序列</p><p><strong>字符串</strong>的切片操作：从一个大的<strong>字符串</strong>中<strong>切出</strong>小的<strong>字符串</strong>。例如：**”0123456789”[::-2]**，切片结果为 <strong>“97531”</strong></p><p><strong>列表</strong>和<strong>元组</strong>的切片操作：它们都是<strong>有序</strong>的集合，都能够<strong>通过索引值</strong>获取到对应的数据。因此，也支持切片操作</p><p><strong>字典</strong> 是一个<strong>无序</strong>的集合，是使用<strong>键值对</strong>保存数据。不能使用切片操作</p><h3 id="8-6-3-运算符"><a href="#8-6-3-运算符" class="headerlink" title="8.6.3   运算符"></a>8.6.3   运算符</h3><table><thead><tr><th><strong>运算符</strong></th><th><strong>表达式</strong></th><th>结果</th><th><strong>描述</strong></th><th>支持的数据类</th></tr></thead><tbody><tr><td>+</td><td>[1, 2] + [3, 4]</td><td>[1, 2, 3, 4]</td><td>合并</td><td>字符串、列表、元组</td></tr><tr><td>*</td><td>[“Hi!”] * 4</td><td>[‘Hi!’, ‘Hi!’, ‘Hi!’, ‘Hi!’]</td><td>重复</td><td>字符串、列表、元组</td></tr><tr><td>in</td><td>3 in (1, 2, 3)</td><td>True</td><td>元素是否存在</td><td>字符串、列表、元组、字典</td></tr><tr><td>not in</td><td>4 not in (1, 2, 3)</td><td>True</td><td>元素是否不存在</td><td>字符串、列表、元组、字典</td></tr><tr><td>&gt; &gt;= == &lt; &lt;=</td><td>(1, 2, 3) &lt; (2, 2, 3)</td><td>True</td><td>元素比较</td><td>字符串、列表、元组</td></tr></tbody></table><p>知识点：<strong>in</strong> 和 <strong>not in</strong> 被称为<strong>成员运算符</strong></p><p>成员运算符用于<strong>测试</strong>序列中是否包含指定的<strong>成员</strong></p><p><strong>in</strong>运算符：</p><p>如果在指定的序列中找到值返回 <strong>True</strong>，否则返回 <strong>False</strong></p><p><strong>3 in (1, 2, 3)</strong> 返回 <strong>True</strong></p><p><strong>not in</strong>运算符：</p><p>如果在指定的序列中找不到值返回 <strong>True</strong>，否则返回 <strong>False</strong></p><p><strong>3 not in (1, 2, 3)</strong> 返回 <strong>False</strong></p><p>注意：在对<strong>字典</strong>操作时，判断的是<strong>字典的key</strong></p><h3 id="8-6-4-完整的for-else循环语法"><a href="#8-6-4-完整的for-else循环语法" class="headerlink" title="8.6.4   完整的for-else循环语法"></a>8.6.4   完整的for-else循环语法</h3><p>在 <strong>Python</strong> 中完整 <strong>for 循环</strong> 的语法是带有<strong>else</strong>语句块的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 集合:    </span><br><span class="line">   循环体代码</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   没有通过 <span class="keyword">break</span> 退出循环，循环结束后，会执行的代码</span><br></pre></td></tr></table></figure><p>需求：当<strong>迭代遍历</strong>嵌套的数据类型时，要判断某个字典中<strong>是否存在</strong>指定的值</p><p>如果<strong>存在</strong>，提示并且退出循环</p><p>如果<strong>不存在</strong>，在<strong>循环整体结束</strong>后，希望<strong>得到一个统一的提示</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">students = [</span><br><span class="line">   &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;阿土&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="string">&quot;gender&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">    <span class="string">&quot;height&quot;</span>: <span class="number">1.7</span>,</span><br><span class="line">    <span class="string">&quot;weight&quot;</span>: <span class="number">75.0</span>&#125;,</span><br><span class="line">   &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;小美&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">19</span>,</span><br><span class="line">    <span class="string">&quot;gender&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">&quot;height&quot;</span>: <span class="number">1.6</span>,</span><br><span class="line">    <span class="string">&quot;weight&quot;</span>: <span class="number">45.0</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">find_name = <span class="string">&quot;阿土&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> stu_dict <span class="keyword">in</span> students:</span><br><span class="line"></span><br><span class="line">   print(stu_dict)</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 判断当前遍历的字典中姓名是否为find_name</span></span><br><span class="line">   <span class="keyword">if</span> stu_dict[<span class="string">&quot;name&quot;</span>] == find_name:</span><br><span class="line">       print(<span class="string">&quot;找到了&quot;</span>)</span><br><span class="line"></span><br><span class="line">       <span class="comment"># 如果已经找到，直接退出循环，就不需要再对后续的数据进行比较</span></span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">&quot;没有找到&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;循环结束&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210517200120122.png&quot; alt=&quot;image-20210517200120122&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记7</title>
    <link href="http://waxll.top/2021/06/17/py7.html"/>
    <id>http://waxll.top/2021/06/17/py7.html</id>
    <published>2021-06-16T16:29:51.000Z</published>
    <updated>2021-06-16T16:33:29.701Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210617003312883.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210617003312883.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210617003312883"></p><span id="more"></span><h1 id="第七章-if条件判断"><a href="#第七章-if条件判断" class="headerlink" title="第七章   if条件判断"></a>第七章   if条件判断</h1><h2 id="7-1-初识if语句"><a href="#7-1-初识if语句" class="headerlink" title="7.1   初识if语句"></a>7.1   初识if语句</h2><p>知识点：控制结构</p><p>到目前为止，Python程序都是按<strong>顺序流程，逐条语句</strong>执行。然而，<strong>顺序流程</strong>并不能解决所有问题。因此，需要改变程序的<strong>逻辑运行结构</strong>，来适应特定场景的需求</p><p>在现实中，很多场合都需要<strong>有选择的执行程序</strong>。例如，电梯需要根据用户的选择楼层来运行；空调需要根据设定模式来运行制冷或制热</p><p>Python提供了<strong>控制结构</strong>来实现上述功能。通过<strong>if</strong>条件判断语句，使程序可以<strong>根据条件来有选择地执行语句</strong></p><h3 id="7-1-1-判断的背景介绍"><a href="#7-1-1-判断的背景介绍" class="headerlink" title="7.1.1   判断的背景介绍"></a>7.1.1   判断的背景介绍</h3><h4 id="任务一：判断的定义"><a href="#任务一：判断的定义" class="headerlink" title="任务一：判断的定义"></a><em>任务一：判断的定义</em></h4><p>知识点：</p><p>如果 <strong>条件满足</strong>，才能做某件事情</p><p>如果 <strong>条件不满足</strong>，就做另外一件事情，或者什么也不做</p><p>正是因为有了判断，才使得程序世界丰富多彩，充满变化</p><p><strong>判断语句</strong> 又被称为 “<strong>分支语句</strong>”，正是因为有了判断，才让程序有了很多的分支</p><h3 id="7-1-2-if判断语句基本语法"><a href="#7-1-2-if判断语句基本语法" class="headerlink" title="7.1.2   if判断语句基本语法"></a>7.1.2   if判断语句基本语法</h3><h4 id="任务一：BMI健康指数计算程序"><a href="#任务一：BMI健康指数计算程序" class="headerlink" title="任务一：BMI健康指数计算程序"></a><em>任务一：BMI健康指数计算程序</em></h4><p>知识点(背景介绍)：BMI健康指数</p><p>BMI健康指数(BMI，Body Mass Index)是国际上常用的衡量人体肥胖程度和是否健康的重要标准。肥胖程度的判断不能采用体重的绝对值，它天然与身高有关。因此，<strong>BMI 通过人体体重和身高两个数值获得相对客观的参数</strong>，并用这个参数所处范围衡量身体质量</p><p>BMI=体重/身高的平方，单位：kg/㎡</p><p>目前，BMI健康指数的正常范围是18.5至24.9之间，这范围是比较健康的标准体重</p><p>BMI计算程序：根据的输入身高(m)和体重(kg)来计算BMI健康指数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义BMI健康计算函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">BMI_calc</span>(<span class="params">weight, height</span>):</span></span><br><span class="line">   BMI = weight / height**<span class="number">2</span></span><br><span class="line">   <span class="keyword">return</span> BMI</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入身高和体重，要转换为浮点数</span></span><br><span class="line">weight = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入体重(kg)：&#x27;</span>))</span><br><span class="line">height = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入身高(m)：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用BMI计算函数</span></span><br><span class="line">BMI = BMI_calc(weight, height)</span><br><span class="line">print(<span class="string">&quot;BMI:&#123;&#125;, 体重:&#123;&#125;, 身高:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(BMI, weight, height))</span><br></pre></td></tr></table></figure><p>接下来，让程序变的聪明些，根据BMI值做出些判断。为实现上述功能，Python提供了<strong>if</strong>判断控制语句</p><h4 id="任务二：if条件判断语句"><a href="#任务二：if条件判断语句" class="headerlink" title="任务二：if条件判断语句"></a><em>任务二：if条件判断语句</em></h4><p>在 <strong>Python</strong> 中，<strong>if 语句</strong> 就是用来进行判断的，格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> &lt;condition&gt;:</span><br><span class="line">　　&lt;statement&gt;</span><br></pre></td></tr></table></figure><p>知识点：<strong>if</strong>语句由<strong>if <condition>:<strong>头部和</strong>缩进</strong>部分的**<statement>**组成，具体如下：</p><p><strong>if</strong>为判断的关键字。**:**为语句块标识符</p><p><strong><condition><strong>：</strong>判断条件</strong>，是一个值为<strong>True</strong>或<strong>False</strong>的表达式</p><p>如果为<strong>True</strong>，执行紧跟在<strong>if</strong>语句后面的**<statement>**语句块</p><p>如果为<strong>False</strong>，就**跳过<statement>**语句块</p><p>注意，<strong>if</strong>的语句块是否执行取决于条件是否满足</p><p>**<statement>**：条件成立时，要做的事情</p><p>知识点：<strong>缩进的重要性</strong></p><p>和<strong>for</strong>循环类似，<strong>if</strong>语句块也使用<strong>缩进来标识语句块</strong></p><p>一般缩进为一个 <strong>Tab</strong> 键，或者 <strong>4</strong> 个空格</p><p>建议，在**:<strong>之后敲回车，它之后的语句</strong>Jupyte**r会自动缩进</p><p>在 Python 开发中，<strong>Tab</strong>和<strong>空格</strong>不要混用</p><h4 id="任务三：判断年龄"><a href="#任务三：判断年龄" class="headerlink" title="任务三：判断年龄"></a><em>任务三：判断年龄</em></h4><p>需求分析：</p><p>定义一个整数变量记录年龄</p><p>判断是否满 18 岁 （**&gt;=**）</p><p>如果满 18 岁，允许进网吧嗨皮</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 定义年龄变量</span></span><br><span class="line">age = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 判断是否满 18 岁</span></span><br><span class="line"><span class="comment"># if 语句以及缩进部分的代码是一个完整的代码块</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">   print(<span class="string">&quot;可以进网吧嗨皮……&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 思考！- 无论条件是否满足都会执行</span></span><br><span class="line">print(<span class="string">&quot;这句代码什么时候执行?&quot;</span>)</span><br></pre></td></tr></table></figure><p>知识点：</p><p><strong>if</strong> 语句以及缩进部分是一个 <strong>完整的代码块</strong></p><p>使用Jupyter代码折叠插件(左边的<strong>下三角</strong>)，可以查看<strong>if</strong>语句的具体语句块范围</p><h4 id="任务四：判断BMI健康程度"><a href="#任务四：判断BMI健康程度" class="headerlink" title="任务四：判断BMI健康程度"></a><em>任务四：判断BMI健康程度</em></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输入身高和体重，要转换为浮点数</span></span><br><span class="line">weight = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入体重(kg)：&#x27;</span>))</span><br><span class="line">height = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入身高(m)：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用BMI计算函数</span></span><br><span class="line">BMI = BMI_calc(weight, height)</span><br><span class="line">print(<span class="string">&quot;BMI:&#123;&#125;, 体重:&#123;&#125;, 身高:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(BMI, weight, height))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> BMI &lt; <span class="number">18.5</span>:</span><br><span class="line">   print(<span class="string">&#x27;太苗条了！去吃顿大餐！&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> BMI &gt; <span class="number">24.9</span>:</span><br><span class="line">   print(<span class="string">&#x27;太重了！去操场思过吧！&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务五：保留字True和False"><a href="#任务五：保留字True和False" class="headerlink" title="任务五：保留字True和False"></a><em>任务五：保留字True和False</em></h4><p>知识点：</p><p><strong>True</strong>和<strong>False</strong>，为布尔类型``，是Python的保留字，代表<strong>逻辑真和假</strong></p><p><strong>true</strong>和<strong>false</strong>为自定义的变量名，是“普通老百姓”</p><p>Python敏感于大小写。<strong>首字母大写的是保留字</strong></p><p>为避免歧义，请尽量<strong>避免</strong>使用与关键字相似的词来命名变量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="literal">True</span></span><br><span class="line">print(<span class="built_in">type</span>(a), a)</span><br><span class="line"></span><br><span class="line"><span class="comment">#a是布尔类型，可以作为if判断条件</span></span><br><span class="line"><span class="keyword">if</span> a:</span><br><span class="line">   print(<span class="string">&#x27;执行if&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 小写的true是变量</span></span><br><span class="line">true = <span class="literal">False</span></span><br><span class="line">print(<span class="built_in">type</span>(true), true)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 由于true变量是False，if不执行</span></span><br><span class="line"><span class="keyword">if</span> true:</span><br><span class="line">   print(<span class="string">&#x27;执行if&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务六：空列表、空字符串和数字零作为判断条件"><a href="#任务六：空列表、空字符串和数字零作为判断条件" class="headerlink" title="任务六：空列表、空字符串和数字零作为判断条件"></a><em>任务六：空列表、空字符串和数字零作为判断条件</em></h4><p>知识点：</p><p>对于空列表**[]<strong>、空字符串</strong>“”<strong>或</strong>‘’<strong>、数字</strong>0<strong>作为</strong><condition><strong>判断条件时，都判断为</strong>False**</p><p>但是字符串**’0’<strong>判断为</strong>True**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#False</span></span><br><span class="line">condition = []</span><br><span class="line"><span class="keyword">if</span> condition:</span><br><span class="line">   print(<span class="string">&#x27;True&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line">condition = <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> condition:</span><br><span class="line">   print(<span class="string">&#x27;True&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line">condition = <span class="string">&#x27;0&#x27;</span></span><br><span class="line"><span class="keyword">if</span> condition:</span><br><span class="line">   print(<span class="string">&#x27;True&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="7-1-3-if-else语句"><a href="#7-1-3-if-else语句" class="headerlink" title="7.1.3   if-else语句"></a>7.1.3   if-else语句</h3><h4 id="任务一：掌握if-else语句"><a href="#任务一：掌握if-else语句" class="headerlink" title="任务一：掌握if-else语句"></a><em>任务一：掌握if-else语句</em></h4><p><strong>思考</strong>：在使用 <strong>if</strong> 判断时，只能做到满足条件时要做的事情。那如果需要在 <strong>不满足条件的时候</strong>，做某些事情，该如何做呢</p><p><strong>答案</strong>：使用<strong>else</strong>处理<strong>条件不满足</strong>的情况，格式如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> &lt;condition&gt;:</span><br><span class="line">　　&lt;<span class="keyword">if</span> statement&gt;</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   &lt;<span class="keyword">else</span> statement&gt;</span><br></pre></td></tr></table></figure><p>知识点：<strong>if-else</strong>语句实现2路分支</p><p>描述：当**<condition><strong>判断条件为</strong>True<strong>，执行分支</strong><if statement><strong>；不满足时，执行分支</strong><else statement>**</p><p><strong>在if-else结构中，总是会执行两个操作中的一个</strong></p><h4 id="任务二：判断年龄的改进"><a href="#任务二：判断年龄的改进" class="headerlink" title="任务二：判断年龄的改进"></a><em>任务二：判断年龄的改进</em></h4><p>需求分析：</p><p>输入用户年龄</p><p>判断是否满 18 岁 （**&gt;=**）</p><p>如果满 18 岁，提示你成年了</p><p>如果未满 18 岁，提示你还是小屁孩</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 输入用户年龄</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;今年多大了？&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 判断是否满 18 岁</span></span><br><span class="line"><span class="comment"># if 语句以及缩进部分的代码是一个完整的语法块</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">   print(<span class="string">&quot;你成年了&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;:)&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">&quot;你还是小屁孩&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;:(&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 思考！- 无论条件是否满足都会执行</span></span><br><span class="line">print(<span class="string">&quot;这句代码什么时候执行?&quot;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>如果<strong>age &gt;= 18</strong>条件为<strong>True</strong>，就执行<strong>if</strong>的语句块</p><p>如果为<strong>False</strong>，就执行<strong>else</strong>的语句块</p><p>由于<strong>age=17</strong>小于18，条件判断为<strong>False</strong>，因此执行<strong>else</strong>的语句块</p><p>知识点：</p><p><strong>if</strong> 和 <strong>else</strong> 语句以及各自的缩进部分是一个<strong>完整的if-else结构</strong></p><h3 id="习题："><a href="#习题：" class="headerlink" title="习题："></a>习题：</h3><p>题目要求：</p><ul><li>输入一个年份，判断当前是否是闰年，如果是则输出<strong>闰年</strong>，否则输出<strong>非闰年</strong>。(闰年条件：1. 能被4整除。2. 遇到100年，则需要被400整除)</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">year =<span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;输入年份:&quot;</span>)) <span class="comment"># 2021</span></span><br><span class="line"><span class="keyword">if</span>(year % <span class="number">4</span>==<span class="number">0</span> <span class="keyword">and</span> year % <span class="number">100</span>!=<span class="number">0</span>) <span class="keyword">or</span> year % <span class="number">400</span>==<span class="number">0</span>:</span><br><span class="line">  print(<span class="string">&quot;闰年&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  print(<span class="string">&quot;非闰年&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">非闰年</span><br></pre></td></tr></table></figure><h2 id="7-2-判断条件：布尔表达式"><a href="#7-2-判断条件：布尔表达式" class="headerlink" title="7.2   判断条件：布尔表达式"></a>7.2   判断条件：布尔表达式</h2><h3 id="7-2-1-初识布尔表达式"><a href="#7-2-1-初识布尔表达式" class="headerlink" title="7.2.1   初识布尔表达式"></a>7.2.1   初识布尔表达式</h3><h4 id="任务一：初识布尔表达式-条件判断"><a href="#任务一：初识布尔表达式-条件判断" class="headerlink" title="任务一：初识布尔表达式(条件判断)"></a><em>任务一：初识布尔表达式(条件判断)</em></h4><p>知识点(术语)：判断条件或<strong>布尔表达式</strong></p><p><strong>布尔表达式</strong>语法：**<expr> <relop> <expr>**</p><p>描述：通过比较**<relop><strong>两个表达式</strong><expr><strong>的值，返回结果是布尔值</strong>True<strong>或</strong>False**</p><p><strong><expr><strong>是</strong>表达式</strong>的缩写。这里表达式可以是变量、运算结果、函数返回等</p><p><strong><relop><strong>是</strong>关系运算符</strong>的缩写</p><p>复杂的判断条件，可以通过<strong>逻辑运算符</strong>(<strong>and、or、not</strong>等)进行符合</p><table><thead><tr><th>Python</th><th>数学</th><th>含义</th></tr></thead><tbody><tr><td>&lt;</td><td>&lt;</td><td>小于</td></tr><tr><td>&lt;=</td><td>≤</td><td>小于等于</td></tr><tr><td>==</td><td>=</td><td>等于</td></tr><tr><td>&gt;=</td><td>≥</td><td>大于等于</td></tr><tr><td>&gt;</td><td>&gt;</td><td>大于</td></tr><tr><td>!=</td><td>≠</td><td>不等于</td></tr></tbody></table><p>与数学里不一样，Python使用**==<strong>表示逻辑相等，而</strong>=**表示赋值语句</p><p>知识点：布尔表达式</p><p>判断条件实际上是一种特殊的表达式，称为<strong>布尔表达式</strong>，为纪念乔治·布尔，一位19世纪英国数学家</p><p>对一个布尔表达式求值，会产生值<strong>True</strong>(条件成立)或<strong>False</strong>(不成立)</p><p>某些语言(C++)就用整数1和0来表示这些值。Java和Python有布尔表达式的专用数据类型<strong>bool</strong></p><p>在Python中，布尔表达式类型为<strong>bool</strong>，布尔值由字面量<strong>True</strong>和<strong>False</strong>表示</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出布尔表达式的结果</span></span><br><span class="line">print(<span class="number">3</span> &lt; <span class="number">4</span>)</span><br><span class="line">print((<span class="number">3</span> * <span class="number">4</span>) &lt; (<span class="number">3</span> + <span class="number">4</span>))</span><br><span class="line">print(<span class="string">&quot;hello&quot;</span> == <span class="string">&quot;hello&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;hello&quot;</span> &lt; <span class="string">&quot;hello&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Hello&quot;</span> &lt; <span class="string">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="7-2-2-深入布尔表达式"><a href="#7-2-2-深入布尔表达式" class="headerlink" title="7.2.2   深入布尔表达式"></a>7.2.2   深入布尔表达式</h3><h4 id="任务一：-相等逻辑判断"><a href="#任务一：-相等逻辑判断" class="headerlink" title="任务一：==相等逻辑判断"></a><em>任务一：==相等逻辑判断</em></h4><p>知识点：</p><p>使用**==**来检查逻辑是否相等</p><p>对于<strong>int、float、bool、str</strong>数值和字符串类型，可以用**==**来判断两个变量的值是否相同</p><p>对于<strong>list、tuple</strong>等类型的变量(对象)，并不能通过**==**来判断变量值是否相同</p><p>知识点(易错)：</p><p><strong>=<strong>是赋值。将变量设置为</strong>=<strong>右边的值。例如：</strong>a=1</strong></p><p><strong>==<strong>是逻辑相等的判断，结果为</strong>True</strong>或<strong>False</strong>的布尔值。判断**==<strong>两边的变量是否相等。例如，</strong>a==b**</p><p>可以使用**=**赋值，将逻辑结果赋值给变量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对a和b进行赋值，然后使用a==b判断是否相等</span></span><br><span class="line">a = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;&#123;&#125;==&#123;&#125;: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(a,b,a==b))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将a==b的结果赋值给res</span></span><br><span class="line">res = a==b</span><br><span class="line"><span class="comment"># 建议加括号，避免出错</span></span><br><span class="line">res = (a==b)</span><br><span class="line">print(<span class="built_in">type</span>(res), res)</span><br><span class="line"></span><br><span class="line">a = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line"><span class="comment"># 将逻辑判断用于if判断</span></span><br><span class="line"><span class="keyword">if</span> a==b:</span><br><span class="line">   print(<span class="string">&#x27;相等&#x27;</span>)</span><br></pre></td></tr></table></figure><p>知识点：如果<strong>字符串的大小写无关紧要，而只想检查变量的值</strong>，可将字符串统一转换为小写，再比较</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;liLei&#x27;</span></span><br><span class="line">res = (a.lower() == b.lower())</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure><p><strong>统一大小写后，再作逻辑判断功能很实用</strong></p><p>例如，网站可能使用类似的测试来确保用户名是独一无二的，使用上述的==逻辑判断并不能满足这一需求。因此，需要对用户注册的新用户名，首先将把它转换为小写，然后再与数据库中的名字进行比较。如果数据库中存在**’liLei’<strong>名字(不管大小写如何)时，则用户名</strong>‘LiLei’**系统会提示已经被注册</p><h4 id="任务二：-不等逻辑判断"><a href="#任务二：-不等逻辑判断" class="headerlink" title="任务二：!=不等逻辑判断"></a><em>任务二：!=不等逻辑判断</em></h4><p>知识点：要判断两个值是否不等，使用**!=(惊叹号和等号)<strong>，其中的惊叹号表示</strong>不**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line"><span class="comment"># 将!=逻辑判断用于if判断</span></span><br><span class="line"><span class="keyword">if</span> a!=<span class="string">&#x27;liLei&#x27;</span>:</span><br><span class="line">   print(<span class="string">&#x27;不相等&#x27;</span>)</span><br></pre></td></tr></table></figure><p>代码解析：</p><p><strong>a!=’liLei’<strong>将</strong>a</strong>的值与字符串**’liLei’**进行比较</p><p>如果不相等，将返回<strong>True</strong>，并执行<strong>if</strong>语句块</p><p>如果这两个值相等，将返回<strong>False</strong>，不执行<strong>if</strong>语句块</p><p>由于<strong>a</strong>的值不是**’liLei’<strong>，因此执行</strong>if<strong>语句块</strong>print()<strong>，输出：</strong>不相等**</p><h3 id="习题：-1"><a href="#习题：-1" class="headerlink" title="习题："></a>习题：</h3><p>题目要求：</p><p>1、外部输入一个字符串，然后使用<strong>if</strong>检测当前字符串是否与预设的字符串相等</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line">b = <span class="built_in">input</span>(<span class="string">&quot;输入字符串:&quot;</span>)</span><br><span class="line">res = (a.lower() == b.lower())</span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#a=4</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">false</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>2、外部输入一个数字，然后，检测当前的数字与预设的数字大小关系</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">b = <span class="built_in">input</span>(<span class="string">&quot;输入数字:&quot;</span>)</span><br><span class="line">print(<span class="string">&#x27;&#123;&#125;==&#123;&#125;: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(a,b,a==b))</span><br><span class="line"><span class="comment">#b=4</span></span><br></pre></td></tr></table></figure><p>运行结果:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x3D;&#x3D;4: False</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>3、比较数字的1和字符串的“1”是否相等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;&quot;1&quot;&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;&#123;&#125;==&#123;&#125;: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(a,b,a==b))</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x3D;&#x3D;&quot;1&quot;: False</span><br></pre></td></tr></table></figure><h4 id="任务三：字符串比较大小"><a href="#任务三：字符串比较大小" class="headerlink" title="任务三：字符串比较大小"></a><em>任务三：字符串比较大小</em></h4><p>知识点：字符串比较规则</p><p>按双字节Unicode码(类似于ASCII)的排序进行比较，大写字母都在小写字母之前。例如<strong>B</strong>排在<strong>a</strong>之前</p><p><strong>从左到右的顺序</strong>，依次比较字符串中的字符，当出现相同字符时，就比较下个字符，直到结束</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 大写排小写之前</span></span><br><span class="line">print(<span class="string">&#x27;Lilei&#x27;</span>&gt;<span class="string">&#x27;lilei&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第1个字符串比第2个多了字符1</span></span><br><span class="line">print(<span class="string">&#x27;Lilei1&#x27;</span>&gt;<span class="string">&#x27;Lilei&#x27;</span>)</span><br></pre></td></tr></table></figure><p>知识点：数字和字符串不能比较，出现<strong>TypeError</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;Lilei1&#x27;</span> &gt; <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------------------------------------</span></span><br><span class="line"><span class="comment"># TypeError                    Traceback (most recent call last)</span></span><br><span class="line"><span class="comment"># &lt;ipython-input-85-bcc8908c4afd&gt; in &lt;module&gt;</span></span><br><span class="line"><span class="comment"># ----&gt; 1 print(&#x27;Lilei1&#x27; &gt; 1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TypeError: &#x27;&gt;&#x27; not supported between instances of &#x27;str&#x27; and &#x27;int&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入数字&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> (<span class="number">1</span> &lt;= num) <span class="keyword">and</span> (num&lt;=<span class="number">100</span>):</span><br><span class="line">   print(<span class="string">&#x27;哈哈，输入范围正确！&#x27;</span>)</span><br><span class="line">   </span><br><span class="line">print(<span class="string">&#x27;-----在python中，可以作连续比较1 &lt;= num &lt;=100 ----&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="number">1</span> &lt;= num &lt;=<span class="number">100</span>):</span><br><span class="line">   print(<span class="string">&#x27;哈哈，输入范围正确！&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="7-2-3-逻辑运算符"><a href="#7-2-3-逻辑运算符" class="headerlink" title="7.2.3   逻辑运算符"></a>7.2.3   逻辑运算符</h3><h4 id="任务一：逻辑运算符"><a href="#任务一：逻辑运算符" class="headerlink" title="任务一：逻辑运算符"></a><em>任务一：逻辑运算符</em></h4><p>知识点：<strong>使用逻辑运算符来复合多个表达式</strong></p><p>在程序开发中，通常<strong>在判断条件时</strong>，会需要同时判断多个条件</p><p>在Python中，<strong>逻辑运算符</strong>and、or和not可以把多个简单的条件(布尔表达式)按照<strong>特定逻辑规则</strong>进行连接(组合)，复合成更复杂的判断条件</p><p>知识点：</p><p><strong>and</strong>：逻辑<strong>与</strong>。只有<strong>所有</strong>布尔表达式都为<strong>True</strong>，结果才为<strong>True</strong></p><p><strong>or</strong>：逻辑<strong>或</strong>。只要有<strong>一个</strong>布尔表达式为<strong>True</strong>，结果就为<strong>True</strong></p><p><strong>not</strong>：逻辑<strong>非</strong>。如果是<strong>True</strong>，那么结果是<strong>False</strong>。反之亦然</p><p>为改善可读性，建议将每个布尔表达式分别放在**括号()**内</p><p>输入一个数字，判断当前数字是否在给定的范围**[1 100]<strong>区间</strong>之内**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入数字：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> (<span class="number">1</span> &lt;= num) <span class="keyword">and</span> (num &lt;= <span class="number">100</span>):</span><br><span class="line">   print(<span class="string">&#x27;输入范围正确！&#x27;</span>)</span><br></pre></td></tr></table></figure><p>知识点：为了避免复合表达式过于复杂，影响程序的阅读性，建议将复合表达式的结果<strong>赋值给临时变量</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入数字：&#x27;</span>))</span><br><span class="line">res = (<span class="number">1</span> &lt;= num) <span class="keyword">and</span> (num &lt;= <span class="number">100</span>)</span><br><span class="line"><span class="comment"># 程序会变的简洁</span></span><br><span class="line"><span class="keyword">if</span> res:</span><br><span class="line">   print(<span class="string">&#x27;输入范围正确！&#x27;</span>)</span><br></pre></td></tr></table></figure><p>知识点：</p><p>Python专属，可以对数值类型的值作连续比较，省去<strong>and</strong>逻辑运算符</p><p>例如，判断数是否在**[1 100]<strong>，可以使用</strong>1 &lt;= num &lt;=100**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入数字：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> (<span class="number">1</span> &lt;= num &lt;= <span class="number">100</span>):</span><br><span class="line">   print(<span class="string">&#x27;输入范围正确！&#x27;</span>)</span><br></pre></td></tr></table></figure><p>输入一个数字，判断当前数字是否在给定的范围**[1 100]<strong>区间</strong>之外**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入数字：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> (<span class="number">1</span> &gt; num) <span class="keyword">or</span> (num &gt; <span class="number">100</span>):</span><br><span class="line">   print(<span class="string">&#x27;输入范围正确！&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="习题：-2"><a href="#习题：-2" class="headerlink" title="习题："></a>习题：</h3><p>题目要求：</p><p>1、定义一个整数变量 <strong>age</strong>，编写代码判断年龄是否正确。要求人的年龄在 0-120 之间</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">100</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">0</span> <span class="keyword">and</span> age &lt;= <span class="number">120</span>:</span><br><span class="line">    print(<span class="string">&quot;年龄正确&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;年龄不正确&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">年龄正确</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>2、定义两个整数变量 <strong>python_score、c_score</strong>，编写代码判断成绩。要求只要有一门成绩 <strong>&gt; 60</strong> 分就算合格</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">python_score = <span class="number">50</span></span><br><span class="line">c_score = <span class="number">50</span></span><br><span class="line"><span class="keyword">if</span> python_score &gt; <span class="number">60</span> <span class="keyword">or</span> c_score &gt; <span class="number">60</span>:</span><br><span class="line">    print(<span class="string">&quot;合格&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;不合格&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不合格</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>3、定义一个布尔型变量 <strong>is_employee</strong>，编写代码判断是否是本公司员工。如果不是提示不允许入内。提示：使用<strong>not</strong>运算符</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">is_employee = <span class="literal">False</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> is_employee:</span><br><span class="line">    print(<span class="string">&quot;不允许入内&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不允许入内</span><br></pre></td></tr></table></figure><h3 id="7-2-4-重要-in关键字"><a href="#7-2-4-重要-in关键字" class="headerlink" title="7.2.4   (重要) in关键字"></a>7.2.4   (重要) in关键字</h3><h4 id="任务一：in检查是否包含某个值"><a href="#任务一：in检查是否包含某个值" class="headerlink" title="任务一：in检查是否包含某个值"></a><em>任务一：in检查是否包含某个值</em></h4><p>知识点：<strong>a in b</strong></p><p><strong>a</strong>为变量，<strong>b</strong>为序列或集合类型的对象</p><p>Python提供了关键字<strong>in</strong>，用于遍历<strong>a</strong>是否在<strong>包含</strong>在<strong>b</strong>中。返回的是<strong>True</strong>或<strong>False</strong></p><p>关键字<strong>in</strong>适用于任何的序列和集合类型的数据，比如<strong>str</strong>、<strong>list</strong>、<strong>tuple</strong>等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表</span></span><br><span class="line">nums = [<span class="number">2</span>, <span class="number">4</span>, -<span class="number">14</span>, <span class="number">32</span>, <span class="number">1</span>]</span><br><span class="line"><span class="comment"># res 为布尔值</span></span><br><span class="line">res = (<span class="number">2</span> <span class="keyword">in</span> nums)</span><br><span class="line">print(res) <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line">res = (<span class="number">3</span> <span class="keyword">in</span> nums)</span><br><span class="line">print(res) <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串</span></span><br><span class="line">name = <span class="string">&#x27;LiLei&#x27;</span></span><br><span class="line">res = (<span class="string">&#x27;L&#x27;</span> <span class="keyword">in</span> name)</span><br><span class="line">print(res) <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># range()对象</span></span><br><span class="line">res = (<span class="number">1</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">print(res) <span class="comment"># True</span></span><br></pre></td></tr></table></figure><p>知识点：<strong>a not in b</strong></p><p>使用<strong>not in</strong>来检查<strong>a</strong>是否<strong>不包含</strong>在<strong>b</strong>中</p><p><strong>not</strong>关键字表示非</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">2</span>, <span class="number">4</span>, -<span class="number">14</span>, <span class="number">32</span>, <span class="number">1</span>]</span><br><span class="line"><span class="comment"># res 为布尔值</span></span><br><span class="line">res = (<span class="number">0</span> <span class="keyword">not</span> <span class="keyword">in</span> nums)</span><br><span class="line">print(res) <span class="comment"># True</span></span><br></pre></td></tr></table></figure><h4 id="任务二：in用于if判断条件"><a href="#任务二：in用于if判断条件" class="headerlink" title="任务二：in用于if判断条件"></a><em>任务二：in用于if判断条件</em></h4><p>知识点：<strong>if a in b:</strong></p><p><strong>a</strong>为变量，<strong>b</strong>为序列或集合类型的对象</p><p><strong>in</strong>返回的是布尔值，因此可以用于<strong>if</strong>的判断条件</p><p>当<strong>a</strong>存在于<strong>b</strong>之中时，<strong>a in b</strong>这个表达式的值为<strong>True</strong>，否则为假</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#接收外部输入，判断是否在列表中</span></span><br><span class="line">nums = [<span class="number">2</span>, <span class="number">4</span>, -<span class="number">14</span>, <span class="number">32</span>, <span class="number">1</span>]</span><br><span class="line">val = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入整数：&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> val <span class="keyword">in</span> nums:</span><br><span class="line">   print(<span class="string">&#x27;&#123;&#125;是列表元素！&#x27;</span>.<span class="built_in">format</span>(val))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输入是2，输出是2是列表元素！</span></span><br></pre></td></tr></table></figure><p>知识点：</p><p><strong>if a not in b</strong>，判断<strong>a</strong>是否不被<strong>b</strong>包含</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用户发言前，检查某用户是否在不黑名单中</span></span><br><span class="line">banned_users = [<span class="string">&#x27;zhang san&#x27;</span>, <span class="string">&#x27;li si&#x27;</span>, <span class="string">&#x27;wang wu&#x27;</span>]</span><br><span class="line">user = <span class="string">&#x27;Lilei&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> user <span class="keyword">not</span> <span class="keyword">in</span> banned_users:</span><br><span class="line">   print(user.title() + <span class="string">&quot;可以发言.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Lilei可以发言.</span></span><br></pre></td></tr></table></figure><p>程序解析：<strong>if user not in banned_users:</strong></p><p>如果<strong>user</strong>的值未包含在列表<strong>banned_users</strong>中，Python将返回<strong>True</strong>，并执行语句块</p><p>用户**’Lilei’未包含<strong>在列表</strong>banned_users<strong>中，因此输出消息：</strong>Lilei可以发言.**</p><h4 id="任务三：in用于for循环遍历元素"><a href="#任务三：in用于for循环遍历元素" class="headerlink" title="任务三：in用于for循环遍历元素"></a><em>任务三：in用于for循环遍历元素</em></h4><p>知识点：<strong>for a in b:</strong></p><p>其中<strong>a</strong>为临时变量，<strong>b</strong>为序列或集合类型的对象(可迭代对象)</p><p>将<strong>in</strong>用于<strong>for</strong>循环，表示从<strong>b</strong>中逐个取元素，放到<strong>a</strong>临时变量中</p><p>当<strong>b</strong>中的元素取完，循环结束</p><p>注意：Python中<strong>没有for a not in b</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">2</span>, <span class="number">4</span>, -<span class="number">14</span>, <span class="number">32</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> nums:</span><br><span class="line">   print(val, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 2 4 -14 32 1</span></span><br></pre></td></tr></table></figure><h3 id="习题：-3"><a href="#习题：-3" class="headerlink" title="习题："></a>习题：</h3><p>题目要求：</p><p><strong>5-2 更多的条件测试</strong>： 编写布尔表达式(<strong>if</strong>判断条件)，然后对其结果进行<strong>True</strong>和<strong>False</strong>的测试。</p><p>检查两个字符串相等和不等</p><p>使用函数**lower()**的测试</p><p>检查两个数字相等、不等、大于、小于、大于等于和小于等于</p><p>使用关键字<strong>and</strong>和<strong>or</strong>的测试</p><p>测试特定的值是否包含在列表中</p><p>测试特定的值是否未包含在列表中</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span></span><br><span class="line">print(<span class="string">&quot;Is a=1? Ture&quot;</span>)</span><br><span class="line">print(a==<span class="number">1</span>)</span><br><span class="line">b=<span class="string">&quot;A&quot;</span></span><br><span class="line">print(b.lower()==<span class="string">&quot;a&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(b.lower()==<span class="string">&quot;a&quot;</span> <span class="keyword">and</span> a==<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">print(b.lower()==<span class="string">&quot;a&quot;</span> <span class="keyword">or</span> a==<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Is a&#x3D;1? Ture</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">True</span><br></pre></td></tr></table></figure><h2 id="7-3-进阶if语句"><a href="#7-3-进阶if语句" class="headerlink" title="7.3   进阶if语句"></a>7.3   进阶if语句</h2><h3 id="7-3-1-实例：二次方程求解"><a href="#7-3-1-实例：二次方程求解" class="headerlink" title="7.3.1   实例：二次方程求解"></a>7.3.1   实例：二次方程求解</h3><h4 id="任务一：二次方程求解"><a href="#任务一：二次方程求解" class="headerlink" title="任务一：二次方程求解"></a><em>任务一：二次方程求解</em></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 为了求开方，需要导入math数学模块</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一元二次方程求解函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solver</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">   print(<span class="string">&quot;求解一元二次方程的根(实数)\n&quot;</span>)</span><br><span class="line">   <span class="comment"># 对着公式理解程序</span></span><br><span class="line">   discRoot = math.sqrt(b * b - <span class="number">4</span> * a * c)</span><br><span class="line">   root1 = (-b + discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">   root2 = (-b - discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">   print(<span class="string">&quot;根为:&quot;</span>, root1, root2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 a: &quot;</span>))</span><br><span class="line">b = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 b: &quot;</span>))</span><br><span class="line">c = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 c: &quot;</span>))</span><br><span class="line"></span><br><span class="line">solver(a, b, c)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>输入<strong>a=1,b=2,c=-3</strong>，此时二次方程<strong>有实根</strong>，程序输出的解</p><p>输入<strong>a=1,b=2,c=3</strong>，此时二次方程<strong>无实根</strong>，程序奔溃，触发<strong>ValueError: math domain error</strong></p><p>程序奔溃的原因是当b²-4ac&lt;0时，程序试图<strong>对负数进行开方</strong>，所以<strong>math</strong>模块报告错误</p><h4 id="任务二：使用if-else语句解决程序奔溃问题"><a href="#任务二：使用if-else语句解决程序奔溃问题" class="headerlink" title="任务二：使用if-else语句解决程序奔溃问题"></a><em>任务二：使用if-else语句解决程序奔溃问题</em></h4><p>为解决上述问题，需要使用if语句来对b²-4ac是否大于0进行判断</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一元二次方程求解函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solver</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">   print(<span class="string">&quot;求解一元二次方程的根(实数)\n&quot;</span>)</span><br><span class="line">   discrim = b * b - <span class="number">4</span> * a * c</span><br><span class="line">   <span class="keyword">if</span> discrim &lt; <span class="number">0</span>:</span><br><span class="line">       print(<span class="string">&quot;无实根&quot;</span>)</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       discRoot = math.sqrt(discrim)</span><br><span class="line">       root1 = (-b + discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">       root2 = (-b - discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">       print(<span class="string">&quot;根为:&quot;</span>, root1, root2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 a: &quot;</span>))</span><br><span class="line">b = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 b: &quot;</span>))</span><br><span class="line">c = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 c: &quot;</span>))</span><br><span class="line"></span><br><span class="line">solver(a, b, c)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>这个版本首先计算判别式的值，再<strong>if</strong>语句检查并确保它不是负数</p><p>如果<strong>discrim</strong>为负数，该程序永远不会尝试调用**math.sqrt()**进而避免了程序奔溃</p><p>该版本的二次方程求解程序解决了因为平方根为负导致程序奔溃问题，然而输入<strong>a=1,b=2,c=1</strong>时，程序输出为<strong>根为: -1.0 -1.0</strong>。相同的根，重复输出</p><h4 id="任务三：嵌套if-else语句实现多路分支"><a href="#任务三：嵌套if-else语句实现多路分支" class="headerlink" title="任务三：嵌套if-else语句实现多路分支"></a><em>任务三：嵌套if-else语句实现多路分支</em></h4><p>为解决上述<strong>相同的根，重复输出</strong>问题，可以使用嵌套<strong>if-else</strong>语句来实现多路分支</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一元二次方程求解函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solver</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">   print(<span class="string">&quot;求解一元二次方程的根(实数)\n&quot;</span>)</span><br><span class="line">   discrim = b * b - <span class="number">4</span> * a * c</span><br><span class="line">   <span class="keyword">if</span> discrim &lt; <span class="number">0</span>:</span><br><span class="line">       print(<span class="string">&quot;无实根&quot;</span>)</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       <span class="keyword">if</span> discrim == <span class="number">0</span>:</span><br><span class="line">           root= -b / (<span class="number">2</span> * a)</span><br><span class="line">           print(<span class="string">&quot;单个根为:&quot;</span>, root)</span><br><span class="line">       <span class="keyword">else</span>:</span><br><span class="line">           discRoot = math.sqrt(discrim)</span><br><span class="line">           root1 = (-b + discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">           root2 = (-b - discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">           print(<span class="string">&quot;两个根为:&quot;</span>, root1, root2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 a: &quot;</span>))</span><br><span class="line">b = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 b: &quot;</span>))</span><br><span class="line">c = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 c: &quot;</span>))</span><br><span class="line"></span><br><span class="line">solver(a, b, c)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>使用了两个嵌套的<strong>if-else</strong>语句，根据<strong>discrim</strong>实现了3路分支，巧妙的满足了二次方程的无根、重根、和两个根的需求</p><p>然而，如果程序需要5路分支，那要嵌套多少个<strong>if-else</strong>语句？结果肯定是非常繁琐。在下节，将介绍Python的<strong>if-elif-else</strong>语句来解决此问题</p><h3 id="7-3-2-if-elif-else语句"><a href="#7-3-2-if-elif-else语句" class="headerlink" title="7.3.2   if-elif-else语句"></a>7.3.2   if-elif-else语句</h3><h4 id="任务一：掌握if-elif-else语句"><a href="#任务一：掌握if-elif-else语句" class="headerlink" title="任务一：掌握if-elif-else语句"></a><em>任务一：掌握if-elif-else语句</em></h4><p>需求分析：</p><p>在开发中，使用 <strong>if</strong> 可以处理<strong>判断条件</strong>成立的情况</p><p>使用 <strong>else</strong> 可以处理<strong>条件不成立</strong>的情况</p><p>如果希望程序处理更复杂的情况，需要<strong>增加一些额外的条件，而不同的条件会执行不同的代码块</strong>，Python提供了 <strong>elif</strong>语句</p><p>为解决多路分支的判断，Python提供了<strong>if-elif-else</strong>语句，语法如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> &lt;condition1&gt;:</span><br><span class="line">　　&lt;case1 statement&gt;</span><br><span class="line"><span class="keyword">elif</span> &lt;condition2&gt;:</span><br><span class="line">　　&lt;case2 statement&gt;</span><br><span class="line"><span class="keyword">elif</span> &lt;condition3&gt;:</span><br><span class="line">　　&lt;case3 statement&gt;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">　　&lt;default statement&gt;</span><br></pre></td></tr></table></figure><p>知识点：<strong>if-elif-else</strong>语句实现n路分支</p><p><strong>if</strong>和<strong>elif</strong>分支：<strong>按顺序依次</strong>检查<condition>，执行<strong>首次</strong>满足条件的<statement>，执行完后直接<strong>结束</strong>整个if-elif-else语句，后续语句不会被执行</p><p><strong>else</strong>分支：如果没有一个<condition>为<strong>True</strong>，则执行else的<defaultstatement>else<strong>分支是可选的</strong>。如果省略else分支，那么当不满足任何条件时，程序会跳出<strong>if</strong>语句</p><p>知识点：</p><p><strong>if-elif-else</strong>语句只执行<strong>首次</strong>条件为<strong>True</strong>的<statement>，剩余的条件语句块都不被执行。即使下面某个分支条件也为<strong>True</strong>，它的语句块也不会被执行</p><p><strong>elif</strong> 和 <strong>else</strong> 都必须和 <strong>if</strong> 联合使用，而不能单独使用</p><p>可以将 <strong>if</strong>、<strong>elif</strong> 和 <strong>else</strong> 以及各自缩进的代码，看成一个 <strong>完整的代码块</strong></p><h4 id="任务二：对比逻辑运算符"><a href="#任务二：对比逻辑运算符" class="headerlink" title="任务二：对比逻辑运算符"></a><em>任务二：对比逻辑运算符</em></h4><p>知识点：</p><p>逻辑运算符，对多个条件按特定逻辑进行复合为更复杂的条件</p><p>相对于<strong>if-elif-else</strong>语句，逻辑运算符的复合条件会共享同一个代码块</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件<span class="number">1</span> <span class="keyword">and</span> 条件<span class="number">2</span>:</span><br><span class="line">   条件<span class="number">1</span>满足 并且 条件<span class="number">2</span>满足 执行的代码</span><br><span class="line">   ……</span><br></pre></td></tr></table></figure><h4 id="任务三：输入数字实现多路判断"><a href="#任务三：输入数字实现多路判断" class="headerlink" title="任务三：输入数字实现多路判断"></a><em>任务三：输入数字实现多路判断</em></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;输入数字：&#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> a &gt; <span class="number">5</span>:</span><br><span class="line">   print(<span class="string">&#x27;a &gt; 5: &#x27;</span>, a)</span><br><span class="line"><span class="keyword">elif</span> a &gt; <span class="number">3</span>:</span><br><span class="line">   print(<span class="string">&#x27;a &gt; 3: &#x27;</span>, a)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">&#x27;else:&#x27;</span>, a)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;if语句之外&#x27;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：<strong>if-elif-else</strong>控制结构</p><p>当输入<strong>a=10</strong>，程序首先检查<strong>if a &gt; 5</strong>，满足条件，则执行该条件下的语句，输出<strong>a &gt; 5:  10</strong>，并跳出剩余的语句块。虽然<strong>elif a &gt; 3</strong>也满足，程序不执行该条件下的语句</p><p>当输入<strong>a=4</strong>，程序首先检查<strong>if a &gt; 5</strong>，不满足条件；依次再检查<strong>elif a &gt; 3</strong>，满足条件，则执行该条件下的语句，输出<strong>a &gt; 3:  4</strong>，并跳出剩余的语句块</p><p>当输入<strong>a=1</strong>，程序首先检查<strong>if a &gt; 5</strong>，不满足条件；依次再检查<strong>elif a &gt; 3</strong>，不满足条件；此时所有条件都不满足，则程序执行<strong>else</strong>的语句块</p><p>对于<strong>a=10</strong>，同时满足两个条件，虽然程序只执行了第一个条件，但是该程序设计的逻辑上出现了歧义，因此在实际程序设计中，避免条件有交集情况</p><p>知识点：</p><p>建议每个<condition>都是<strong>互斥</strong>的，即它们的交集为空</p><p>如果条件不互斥，容易出现逻辑上的歧义</p><h3 id="7-3-3-elif演练"><a href="#7-3-3-elif演练" class="headerlink" title="7.3.3   elif演练"></a>7.3.3   elif演练</h3><h4 id="任务一：女友的节日"><a href="#任务一：女友的节日" class="headerlink" title="任务一：女友的节日"></a><em>任务一：女友的节日</em></h4><p>需求分析：</p><p>如果是 <strong>情人节</strong> 应该 <strong>买玫瑰／看电影</strong></p><p>如果是 <strong>平安夜</strong> 应该 <strong>买苹果／吃大餐</strong></p><p>如果是 <strong>生日</strong> 应该 <strong>买蛋糕</strong></p><p>其他的日子每天都是节日啊……</p><p>定义 <strong>holiday_name</strong> 字符串变量记录节日名称</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">holiday_name = <span class="string">&quot;平安夜&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> holiday_name == <span class="string">&quot;情人节&quot;</span>:</span><br><span class="line">   print(<span class="string">&quot;买玫瑰&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;看电影&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> holiday_name == <span class="string">&quot;平安夜&quot;</span>:</span><br><span class="line">   print(<span class="string">&quot;买苹果&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;吃大餐&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> holiday_name == <span class="string">&quot;生日&quot;</span>:</span><br><span class="line">   print(<span class="string">&quot;买蛋糕&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">&quot;每天都是节日啊……&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：游乐场门票"><a href="#任务二：游乐场门票" class="headerlink" title="任务二：游乐场门票"></a><em>任务二：游乐场门票</em></h4><p>在现实世界中，很多情况下需要考虑的情形都超过两个。例如，来看一个根据年龄段收费的游乐场：</p><p>4岁以下免费</p><p>4~18岁收费5元</p><p>18~65岁收费10元</p><p>65岁(含)收费5元</p><p>下面的代码确定一个人所属的年龄段，并打印一条包含门票价格的消息：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 门票票价</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;输入年龄：&quot;</span>))</span><br><span class="line"><span class="keyword">if</span> <span class="number">0</span> &lt;= age &lt; <span class="number">4</span>:</span><br><span class="line">   price = <span class="number">0</span></span><br><span class="line"><span class="keyword">elif</span> <span class="number">4</span> &lt;= age &lt; <span class="number">18</span>:</span><br><span class="line">   price = <span class="number">5</span></span><br><span class="line"><span class="keyword">elif</span> <span class="number">18</span> &lt;= age &lt; <span class="number">65</span>:</span><br><span class="line">   price = <span class="number">10</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   price = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;票价为：&#123;&#125; 元！&quot;</span>.<span class="built_in">format</span>(price))</span><br></pre></td></tr></table></figure><p>知识点：</p><p>Python并<strong>不要求if-elif</strong>结构后面必须有<strong>else</strong>代码块</p><p><strong>else</strong>是一条包罗万象的语句，只要不满足<strong>if-elif</strong>条件的任意情况，就会执行<strong>else</strong>分支的代码，这容易导致有些程序逻辑流程变的不可控。所以在使用<strong>else</strong>分支时，一定要仔细检查该分支的各种情况</p><p>建议初学者<strong>if-elif-else</strong>语句，检查执行每个分支所需要满足的条件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 门票票价</span></span><br><span class="line">age = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;输入年龄：&quot;</span>))</span><br><span class="line"><span class="keyword">if</span> <span class="number">0</span> &lt;= age &lt; <span class="number">4</span>:</span><br><span class="line">   price = <span class="number">0</span></span><br><span class="line"><span class="keyword">elif</span> <span class="number">4</span> &lt;= age &lt; <span class="number">18</span>:</span><br><span class="line">   price = <span class="number">5</span></span><br><span class="line"><span class="keyword">elif</span> <span class="number">18</span> &lt;= age &lt; <span class="number">65</span>:</span><br><span class="line">   price = <span class="number">10</span>    </span><br><span class="line"><span class="keyword">elif</span> <span class="number">65</span> &lt;= age: <span class="comment">#将else改为elif逻辑更清晰</span></span><br><span class="line">   price = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;票价为：&#123;&#125; 元！&quot;</span>.<span class="built_in">format</span>(price))</span><br></pre></td></tr></table></figure><h4 id="任务三：二次方程的求解"><a href="#任务三：二次方程的求解" class="headerlink" title="任务三：二次方程的求解"></a><em>任务三：二次方程的求解</em></h4><p>之前使用了两个嵌套的<strong>if-else</strong>语句，实现了3路分支，巧妙的满足了二次方程的无根、重根、和两个根的需求。在本节，将使用<strong>if-elif-else</strong>语句来实现3路分支。相对于嵌套<strong>if-else</strong>语句，<strong>if-elif-else</strong>语句逻辑结构简明和清晰，不易出错</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一元二次方程求解函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solver</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">   print(<span class="string">&quot;求解一元二次方程的根(实数)\n&quot;</span>)</span><br><span class="line">   discrim = b * b - <span class="number">4</span> * a * c</span><br><span class="line">   <span class="comment"># 3路分支，相对嵌套if-else逻辑更清晰</span></span><br><span class="line">   <span class="keyword">if</span> discrim &lt; <span class="number">0</span>:</span><br><span class="line">       print(<span class="string">&quot;无实根&quot;</span>)</span><br><span class="line">   <span class="keyword">elif</span> discrim == <span class="number">0</span>:</span><br><span class="line">       root = -b / (<span class="number">2</span> * a)</span><br><span class="line">       print(<span class="string">&quot;单个根为:&quot;</span>, root)</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       discRoot = math.sqrt(discrim)</span><br><span class="line">       root1 = (-b + discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">       root2 = (-b - discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">       print(<span class="string">&quot;两个根为:&quot;</span>, root1, root2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 a: &quot;</span>))</span><br><span class="line">b = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 b: &quot;</span>))</span><br><span class="line">c = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 c: &quot;</span>))</span><br><span class="line"></span><br><span class="line">solver(a, b, c)</span><br></pre></td></tr></table></figure><h3 id="7-3-4-深入if嵌套"><a href="#7-3-4-深入if嵌套" class="headerlink" title="7.3.4   深入if嵌套"></a>7.3.4   深入if嵌套</h3><h4 id="任务一：elif和if嵌套的应用场景"><a href="#任务一：elif和if嵌套的应用场景" class="headerlink" title="任务一：elif和if嵌套的应用场景"></a><em>任务一：elif和if嵌套的应用场景</em></h4><p>知识点：</p><p><strong>elif</strong>语句：<strong>并联</strong>结构。同时判断多个条件，所有的条件是<strong>平级</strong>的</p><p><strong>if</strong>嵌套语句：<strong>串联</strong>结构。在上个条件满足的前提下，再增加额外<strong>if</strong>判断</p><p>知识点：</p><p>在开发中，使用 <strong>if</strong> 进行条件判断，如果希望在条件成立的执行语句中再<strong>增加条件判断</strong>，就可以使用<strong>if</strong>嵌套语句</p><p><strong>if</strong>嵌套的语法格式，除了<strong>在前一级的if代码块中缩进</strong>之外和<strong>if</strong>语句<strong>没有区别</strong></p><p><strong>if</strong>嵌套的语法格式如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件 <span class="number">1</span>:</span><br><span class="line">   条件 <span class="number">1</span> 满足执行的代码</span><br><span class="line">   ……</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> 条件 <span class="number">1</span> 基础上的条件 <span class="number">2</span>:</span><br><span class="line">       条件 <span class="number">2</span> 满足时，执行的代码</span><br><span class="line">       ……    </span><br><span class="line">       </span><br><span class="line">   <span class="comment"># 条件 2 不满足的处理</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       条件 <span class="number">2</span> 不满足时，执行的代码</span><br><span class="line">       </span><br><span class="line"><span class="comment"># 条件 1 不满足的处理</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   条件<span class="number">1</span> 不满足时，执行的代码</span><br><span class="line">   ……</span><br></pre></td></tr></table></figure><h4 id="任务二：火车站安检"><a href="#任务二：火车站安检" class="headerlink" title="任务二：火车站安检"></a><em>任务二：火车站安检</em></h4><p>需求分析：**(仔细看需求后，再思考程序结构)**</p><p>1、定义布尔型变量 <strong>has_ticket</strong> 表示是否有车票</p><p>2、定义整型变量 <strong>knife_length</strong> 表示刀的长度，单位：厘米</p><p>3、首先检查是否有车票，如果有，才允许进行 <strong>安检</strong></p><p>4、安检时，需要检查刀的长度，判断是否超过 20 厘米</p><pre><code>  如果超过 20 厘米，提示刀的长度，不允许上车  如果不超过 20 厘米，安检通过</code></pre><p>5、如果没有车票，不允许进门</p><p>注意：<strong>if</strong>嵌套语句块的<strong>层级缩进</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义布尔型变量 has_ticket 表示是否有车票</span></span><br><span class="line">has_ticket = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义整数型变量 knife_length 表示刀的长度，单位：厘米</span></span><br><span class="line">knife_length = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 首先检查是否有车票，如果有，才允许进行 安检</span></span><br><span class="line"><span class="keyword">if</span> has_ticket:</span><br><span class="line">   print(<span class="string">&quot;有车票，可以开始安检...&quot;</span>)</span><br><span class="line">   <span class="comment"># 安检时，需要检查刀的长度，判断是否超过 20 厘米</span></span><br><span class="line">   <span class="comment"># 如果超过 20 厘米，提示刀的长度，不允许上车</span></span><br><span class="line">   <span class="keyword">if</span> knife_length &gt;= <span class="number">20</span>:</span><br><span class="line">       print(<span class="string">&quot;不允许携带 %d 厘米长的刀上车&quot;</span> % knife_length)</span><br><span class="line">   <span class="comment"># 如果不超过 20 厘米，安检通过</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       print(<span class="string">&quot;安检通过，祝您旅途愉快……&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果没有车票，不允许进门</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">&quot;大哥，您要先买票啊&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="7-3-5-一个还是多个if语句"><a href="#7-3-5-一个还是多个if语句" class="headerlink" title="7.3.5   一个还是多个if语句?"></a>7.3.5   一个还是多个if语句?</h3><h4 id="任务一：何时使用一个或多个if语句"><a href="#任务一：何时使用一个或多个if语句" class="headerlink" title="任务一：何时使用一个或多个if语句"></a><em>任务一：何时使用一个或多个if语句</em></h4><p>知识点：</p><p>这里，将整个<strong>if-elif-else</strong>控制结构称为一个<strong>if</strong>语句</p><p><strong>如果多个条件只需要满足一个，请使用一个if语句</strong></p><p><strong>if-elif-else</strong>结构功能强大，一系列的条件只需要一个满足的场景</p><p>即当满足任意一个条件后，Python就跳过剩余的条件</p><p><strong>多个条件相互独立，需要每个都被测试，请使用多个独立的if语句</strong></p><p>如果每个条件都需要被检查是否满足，那么一个<strong>if-elif-else</strong>语句就不能满足这个需求了</p><p>这时就需要用使用多个<strong>if</strong>语句，来分别检查每个条件是否满足</p><h4 id="任务二：多个if语句检测多个条件"><a href="#任务二：多个if语句检测多个条件" class="headerlink" title="任务二：多个if语句检测多个条件"></a><em>任务二：多个if语句检测多个条件</em></h4><p>下面再来看前面比萨店示例。如果顾客点了两种配料，就需要确保在比萨中包含这些配料：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">requested_toppings = [<span class="string">&#x27;mushrooms&#x27;</span>, <span class="string">&#x27;cheese&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;mushrooms&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> requested_toppings:</span><br><span class="line">   print(<span class="string">&quot;Adding mushrooms.&quot;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;pepperoni&#x27;</span> <span class="keyword">in</span> requested_toppings:</span><br><span class="line">   print(<span class="string">&quot;Adding pepperoni.&quot;</span>)</span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;extra cheese&#x27;</span> <span class="keyword">in</span> requested_toppings:</span><br><span class="line">   print(<span class="string">&quot;Adding extra cheese.&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;\nFinished making your pizza!&quot;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：</p><ul><li>首先创建了一个列表<code>requested_toppings</code>，其中包含顾客点的配料</li><li><code>if &#39;mushrooms&#39; not in requested_toppings:</code>语句检查是否点了配料蘑菇<code>&#39;mushrooms&#39;</code>，如果点了，就打印一条确认消息</li><li><code>if &#39;pepperoni&#39; in requested_toppings:</code>语句检查配料是否加了辣香肠<code>&#39;pepperoni&#39;</code>，这里使用一个简单的<code>if</code>语句，而不是<code>elif</code>或<code>else</code>语句；因此不管前一个测试是否通过，都将进行执行这个判断条件</li><li><code>if &#39;extra cheese&#39; in requested_toppings:</code>语句检查是否要求多加芝士<code>&#39;extra cheese&#39;</code>；这里也不管前面两个<code>if</code>语句的结果，都会执行这个<code>if</code>语句代码</li><li>在这个例子中，程序会独立地检查每个判断条件</li></ul><h4 id="任务三：一个if语句不能检测多个条件"><a href="#任务三：一个if语句不能检测多个条件" class="headerlink" title="任务三：一个if语句不能检测多个条件"></a><em>任务三：一个if语句不能检测多个条件</em></h4><p>如果像下面这样转而使用<strong>if-elif-else</strong>结构，代码将不能正确地运行，因为有一个测试通过后，就会跳过余下的测试：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">requested_toppings = [<span class="string">&#x27;mushrooms&#x27;</span>, <span class="string">&#x27;extra cheese&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;mushrooms&#x27;</span> <span class="keyword">in</span> requested_toppings:</span><br><span class="line">   print(<span class="string">&quot;Adding mushrooms.&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="string">&#x27;pepperoni&#x27;</span> <span class="keyword">in</span> requested_toppings:</span><br><span class="line">   print(<span class="string">&quot;Adding pepperoni.&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="string">&#x27;extra cheese&#x27;</span> <span class="keyword">in</span> requested_toppings:</span><br><span class="line">   print(<span class="string">&quot;Adding extra cheese.&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;\nFinished making your pizza!&quot;</span>)</span><br></pre></td></tr></table></figure><p>程序解析：</p><p>第一个条件**if ‘mushrooms’ in requested_toppings:<strong>，检查列表中是否包含</strong>‘mushrooms’**，它通过了，因此将在比萨中添加蘑菇</p><p>此时，Python会跳过<strong>if-elif-else</strong>结构的剩余条件，不再检查列表中是否包含**’extra cheese’<strong>和</strong>‘pepperoni’**</p><p>其结果是，只添加了顾客点的第一种配料，但不会添加其他的配料</p><p>总之，如果你只想执行一个代码块，就使用<strong>if-elif-else</strong>结构；如果要运行多个代码块，就使用一系列独立的<strong>if</strong>语句</p><h3 id="习题：-4"><a href="#习题：-4" class="headerlink" title="习题："></a>习题：</h3><p>题目要求：</p><p><strong>5-3 外星人颜色#1</strong>：假设在游戏中刚射杀了一个外星人，请创建一个名为<strong>alien_color</strong>的变量，并将其设置为**’green’<strong>、</strong>‘yellow’<strong>或</strong>‘red’**</p><p>编写一条<strong>if</strong>语句，检查外星人是否是绿色的；如果是，就打印一条消息，指出玩家获得了5个点</p><p>编写这个程序的两个版本，在一个版本中上述测试通过了，而在另一个版本中未通过（未通过测试时没有输出）</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alien_color = [<span class="string">&#x27;green&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;green&#x27;</span><span class="keyword">in</span> alien_color:</span><br><span class="line">    print(<span class="string">&quot;The player get 5 points&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alien_color = [ <span class="string">&#x27;yellow&#x27;</span>, ]</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;green&#x27;</span> <span class="keyword">in</span> alien_color:</span><br><span class="line">    print(<span class="string">&quot;The player get 5 points&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The player get 5 points</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">题目要求：</span><br><span class="line"></span><br><span class="line">**5-4 外星人颜色#2**：像练习5-3那样设置外星人的颜色，并编写一个**if-else**结构</span><br><span class="line"></span><br><span class="line">如果外星人是绿色的，就打印一条消息，指出玩家因射杀该外星人获得了5个点</span><br><span class="line"></span><br><span class="line">如果外星人不是绿色的，就打印一条消息，指出玩家获得了10个点</span><br><span class="line"></span><br><span class="line">编写这个程序的两个版本，在一个版本中执行**if**代码块，而在另一个版本中执行**else**代码块。</span><br><span class="line"></span><br><span class="line">代码如下：</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;python</span><br><span class="line">alien_color &#x3D; [&#39;green&#39;]</span><br><span class="line">if &#39;green&#39; in alien_color:</span><br><span class="line">    print(&quot;The player get 5 points&quot;)</span><br><span class="line">else:</span><br><span class="line">    print(&quot;The player get 10 points&quot;)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">alien_color = [<span class="string">&#x27;green&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;red&#x27;</span> <span class="keyword">in</span> alien_color:</span><br><span class="line">    print(<span class="string">&quot;The player get 5 points&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;The player get 10 points&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The player get 5 points</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The player get 10 points</span><br></pre></td></tr></table></figure><p>题目要求：</p><p><strong>5-5 外星人颜色#3</strong>：将练习5-4中的<strong>if-else</strong>结构改为<strong>if-elif-else</strong>结构</p><p>如果外星人是绿色的，就打印一条消息，指出玩家获得了5个点</p><p>如果外星人是黄色的，就打印一条消息，指出玩家获得了10个点</p><p>如果外星人是红色的，就打印一条消息，指出玩家获得了15个点</p><p>编写这个程序的三个版本，它们分别在外星人为绿色、黄色和红色时打印一条消息</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">alien_color = [<span class="string">&#x27;green&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;green&#x27;</span> <span class="keyword">in</span> alien_color:</span><br><span class="line">    print(<span class="string">&quot;The player get 5 points&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="string">&#x27;yellow&#x27;</span> <span class="keyword">in</span> alien_color:</span><br><span class="line">    print(<span class="string">&quot;The player get 10 points&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&quot;The player get 15 points&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The player get 5 points</span><br></pre></td></tr></table></figure><p>题目要求：</p><p><strong>5-6 人生的不同阶段：</strong>设置变量<strong>age</strong>的值，再编写一个<strong>if-elif-else</strong>结构，根据<strong>age</strong>的值判断处于人生的哪个阶段</p><p>如果一个人的年龄小于2岁，就打印一条消息，指出他是婴儿</p><p>如果一个人的年龄为2（含）～4岁，就打印一条消息，指出他正蹒跚学步</p><p>如果一个人的年龄为4（含）～13岁，就打印一条消息，指出他是儿童</p><p>如果一个人的年龄为13（含）～20岁，就打印一条消息，指出他是青少年</p><p>如果一个人的年龄为20（含）～65岁，就打印一条消息，指出他是成年人</p><p>如果一个人的年龄超过65（含）岁，就打印一条消息，指出他是老年人</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">18</span></span><br><span class="line"><span class="keyword">if</span> age &lt; <span class="number">2</span> :</span><br><span class="line">    string = <span class="string">&#x27;baby&#x27;</span></span><br><span class="line"><span class="keyword">if</span>  <span class="number">2</span>&lt; age &lt; <span class="number">4</span> :</span><br><span class="line">    string = <span class="string">&#x27;toddler&#x27;</span></span><br><span class="line"><span class="keyword">if</span>  <span class="number">4</span> &lt;= age &lt; <span class="number">13</span> :</span><br><span class="line">    string = <span class="string">&#x27;children&#x27;</span></span><br><span class="line"><span class="keyword">if</span>  <span class="number">13</span> &lt;= age &lt;<span class="number">20</span> :</span><br><span class="line">    string = <span class="string">&#x27;teenager&#x27;</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">20</span> &lt;= age &lt; <span class="number">65</span> :</span><br><span class="line">    string = <span class="string">&#x27;adult&#x27;</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">65</span>&lt;= age :</span><br><span class="line">    string = <span class="string">&#x27;older&#x27;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;He is a &quot;</span> + <span class="built_in">str</span>(string) +<span class="string">&quot;.&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">He is a teenager.</span><br></pre></td></tr></table></figure><p>题目要求：</p><p><strong>5-7 喜欢的水果</strong>：创建一个列表，其中包含你喜欢的水果，再编写一系列独立的if语句，检查列表中是否包含特定的水果</p><p>将该列表命名为<strong>favorite_fruits</strong>，并在其中包含三种水果</p><p>编写5条<strong>if</strong>语句，每条都检查某种水果是否包含在列表中，如果包含在列表中，就打印一条消息，如“You really like bananas!”</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">favorite_fruits = [<span class="string">&#x27;banbana&#x27;</span>, <span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;grape&#x27;</span>, <span class="string">&#x27;tomato&#x27;</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;banana&#x27;</span> <span class="keyword">in</span> favorite_fruits:</span><br><span class="line">    print(<span class="string">&quot;You really like bananas!&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;apple&#x27;</span> <span class="keyword">in</span> favorite_fruits:</span><br><span class="line">    print(<span class="string">&quot;You really like apple!&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;watermelon&#x27;</span> <span class="keyword">in</span> favorite_fruits:</span><br><span class="line">    print(<span class="string">&quot;You really like watermelon!&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;grape&#x27;</span> <span class="keyword">in</span> favorite_fruits:</span><br><span class="line">    print(<span class="string">&quot;You really like grape!&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;pineapple&#x27;</span><span class="keyword">in</span> favorite_fruits:</span><br><span class="line">    print(<span class="string">&quot;You really like pineapple!&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">You really like apple!</span><br><span class="line">You really like grape!</span><br></pre></td></tr></table></figure><h2 id="7-4-综合实例：石头剪刀布"><a href="#7-4-综合实例：石头剪刀布" class="headerlink" title="7.4   综合实例：石头剪刀布"></a>7.4   综合实例：石头剪刀布</h2><p>学习目标：</p><p>强化 <strong>多个条件</strong> 的 <strong>逻辑运算</strong></p><p>体会 <strong>import</strong> 导入模块（“工具包”）的使用</p><p>需求分析：</p><p>1、从控制台输入要出的拳：石头(1)/剪刀(2)/布(3)</p><p>2、电脑<strong>随机</strong>出拳 ：先假定电脑只会出石头，完成整体代码功能。</p><p>3、比较胜负</p><table><thead><tr><th align="center">序号</th><th align="center">规则</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">石头 胜 剪刀</td></tr><tr><td align="center">2</td><td align="center">剪刀 胜 布</td></tr><tr><td align="center">3</td><td align="center">布 胜 石头</td></tr></tbody></table><h4 id="任务一：基础代码实现"><a href="#任务一：基础代码实现" class="headerlink" title="任务一：基础代码实现"></a><em>任务一：基础代码实现</em></h4><p>先<strong>假定电脑就只会出石头</strong>，完成整体代码功能。注意，可以使用**.format()<strong>或</strong>f-string<strong>方式来代替字符串的</strong>%**格式化输出</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从控制台输入要出的拳 —— 石头(1)/剪刀(2)/布(3)</span></span><br><span class="line">player = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请出拳 石头(1)/剪刀(2)/布(3)：&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 电脑 随机 出拳 - 假定电脑永远出石头</span></span><br><span class="line">computer = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># format方式</span></span><br><span class="line">print(<span class="string">&#x27;玩家:&#123;&#125;，电脑：&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(player,computer))</span><br><span class="line"><span class="comment"># f-string方式</span></span><br><span class="line">print(<span class="string">f&#x27;玩家:<span class="subst">&#123;player&#125;</span>，电脑：<span class="subst">&#123;computer&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较胜负</span></span><br><span class="line"><span class="comment"># 如果条件判断的内容太长，可以在最外侧的条件增加一对大括号</span></span><br><span class="line"><span class="comment"># 再在每一个条件之间，使用回车，PyCharm 可以自动增加 8 个空格</span></span><br><span class="line"><span class="keyword">if</span> ((player == <span class="number">1</span> <span class="keyword">and</span> computer == <span class="number">2</span>) <span class="keyword">or</span></span><br><span class="line">       (player == <span class="number">2</span> <span class="keyword">and</span> computer == <span class="number">3</span>) <span class="keyword">or</span></span><br><span class="line">       (player == <span class="number">3</span> <span class="keyword">and</span> computer == <span class="number">1</span>)):</span><br><span class="line"></span><br><span class="line">   print(<span class="string">&quot;噢耶！！！电脑弱爆了！！！&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> player == computer:</span><br><span class="line">   print(<span class="string">&quot;心有灵犀，再来一盘！&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   print(<span class="string">&quot;不行，我要和你决战到天亮！&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：随机出拳"><a href="#任务二：随机出拳" class="headerlink" title="任务二：随机出拳"></a><em>任务二：随机出拳</em></h4><p>在 <strong>Python</strong> 中，要使用随机数，首先需要导入<strong>随机数</strong>的<strong>random</strong>模块</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br></pre></td></tr></table></figure><p>导入模块后，可以直接在<strong>模块名称</strong>后面敲一个 . 然后按 <strong>Tab</strong> 键，会提示该模块中包含的所有函数。<strong>random.randint(a, b)</strong> ，返回 <strong>[a, b]</strong> 之间的整数，包含 <strong>a</strong> 和 <strong>b</strong>。例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">random.randint(<span class="number">12</span>, <span class="number">20</span>)  <span class="comment"># 生成的随机数n: 12 &lt;= n &lt;= 20  </span></span><br><span class="line">random.randint(<span class="number">20</span>, <span class="number">20</span>)  <span class="comment"># 结果永远是 20  </span></span><br><span class="line">random.randint(<span class="number">20</span>, <span class="number">10</span>)  <span class="comment"># 该语句是错误的，下限必须小于上限</span></span><br></pre></td></tr></table></figure><img src="D:\前端\博客\blog_1\source\_posts\N7_1901周浩驰.assets\综合实例：石头剪刀布.png" class="lazyload" data-srcset="D:\前端\博客\blog_1\source\_posts\N7_1901周浩驰.assets\综合实例：石头剪刀布.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" style="zoom:50%;" /><h2 id="7-5-初识异常处理机制"><a href="#7-5-初识异常处理机制" class="headerlink" title="7.5   初识异常处理机制"></a>7.5   初识异常处理机制</h2><h3 id="7-5-1-if和try异常处理机制"><a href="#7-5-1-if和try异常处理机制" class="headerlink" title="7.5.1   if和try异常处理机制"></a>7.5.1   if和try异常处理机制</h3><h4 id="任务一：通过if语句来解决程序异常"><a href="#任务一：通过if语句来解决程序异常" class="headerlink" title="任务一：通过if语句来解决程序异常"></a><em>任务一：通过if语句来解决程序异常</em></h4><p>在二次方程求解程序的例子中，在调用<strong>sqrt</strong>函数前，使用了<strong>if判断结构，避免了负数平方根而引起的程序奔溃</strong>。通过设置判断条件，来避免特定的程序错误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这程序是之前程序的片段，不需要运行</span></span><br><span class="line">discRt = otherSqrt(b*b -<span class="number">4</span>*a*c)</span><br><span class="line"><span class="keyword">if</span> discRt &lt; <span class="number">0</span>:</span><br><span class="line">　　print(<span class="string">&quot;No real roots.&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">　　do something</span><br></pre></td></tr></table></figure><p>知识点：</p><p>在开发过程中，如果程序发生了错误，开发者可以通过<strong>Traceback</strong>来追踪错误的发生地和错误的原因</p><p>然而，当程序发布给用户之后，如果程序运行发生了错误，程序将会崩溃，而用户是无法通过修改程序来恢复程序正常使用的</p><p>另如果为程序的每个环节都设置<strong>if</strong>判断语句，那么程序将会变的非常复杂</p><h4 id="任务二：try异常处理机制"><a href="#任务二：try异常处理机制" class="headerlink" title="任务二：try异常处理机制"></a><em>任务二：try异常处理机制</em></h4><p>为了提高程序的稳定性和健壮性，Python提供了<strong>try异常处理机制</strong>，帮助解决此类设计问题。异常处理机制允许开发者通过编写一些代码，来<strong>捕获和处理程序运行时出现的错误</strong></p><p>知识点：<strong>try</strong>是一个异常处理机制</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   &lt;body&gt;</span><br><span class="line"><span class="keyword">except</span> &lt;ErrorType1&gt;:</span><br><span class="line">   &lt;handler1&gt;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">   &lt;default handle&gt;</span><br></pre></td></tr></table></figure><p>程序在执行中，当遇到<strong>try</strong>语句时，它尝试执行<body>语句</p><p>如果<body>语句发生错误，Python会查找与错误类型<ErrorType>相匹配的except错误处理分支</p><p>如果找到与之匹配的except <ErrorType>:分支，那么就执行错误处理<handler>代码块</p><p>如果<strong>try</strong>语句中的<body>语句块没有发生错误，则不会执行任何except错误处理分支</p><p><ErrorType>：<strong>Traceback</strong>中的错误类型。最常见的<strong>except</strong>类型是<strong>IndexError</strong>(索引错误)、<strong>ValueError</strong>(值错误)、<strong>KeyError</strong>(键错误)、<strong>TypeError</strong>类型不匹配等</p><p>注意：<strong>try-except</strong>语句与<strong>if-elsif-else</strong>语句结构类似</p><h3 id="7-5-2-常见的ErrorType"><a href="#7-5-2-常见的ErrorType" class="headerlink" title="7.5.2   常见的ErrorType"></a>7.5.2   常见的ErrorType</h3><h4 id="任务一：TypeError"><a href="#任务一：TypeError" class="headerlink" title="任务一：TypeError"></a><em>任务一：TypeError</em></h4><p><strong>TypeError</strong> 通常是由类型不匹配引起的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 会发生TypeError</span></span><br><span class="line">a = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">b = a + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#当发生错误后，该错误之后的语句是不能被执行的</span></span><br><span class="line">print(<span class="string">&#x27;something&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果用户输入数字则会触发异常错误</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   b = <span class="string">&#x27;hello&#x27;</span> + a</span><br><span class="line"><span class="keyword">except</span> TypeError:</span><br><span class="line">   print(<span class="string">&#x27;TypeError: &#x27;</span>, TypeError)</span><br><span class="line">   </span><br><span class="line"><span class="comment">#当发生错误后，try之后的语句依然能被执行</span></span><br><span class="line">print(<span class="string">&#x27;something&#x27;</span>)    </span><br></pre></td></tr></table></figure><h4 id="任务二：as关键字提取错误信息"><a href="#任务二：as关键字提取错误信息" class="headerlink" title="任务二：as关键字提取错误信息"></a><em>任务二：as关键字提取错误信息</em></h4><p>知识点：</p><p>**except TypeError:**只能捕获到错误，但不知道具体的错误。</p><p><strong>except TypeError as e:<strong>通过</strong>as</strong>关键字，可以将详细的错误信息提取到变量<strong>e</strong>中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果用户输入数字则会触发异常错误</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   b = <span class="string">&#x27;hello&#x27;</span> + a</span><br><span class="line"><span class="keyword">except</span> TypeError <span class="keyword">as</span> e:</span><br><span class="line">   print(<span class="string">&#x27;TypeError: &#x27;</span>, <span class="built_in">repr</span>(e))</span><br></pre></td></tr></table></figure><h4 id="任务三：ValueError"><a href="#任务三：ValueError" class="headerlink" title="任务三：ValueError"></a><em>任务三：ValueError</em></h4><p><strong>ValueError</strong>通常是数值的非法计算，比如对负数开方等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">a = -<span class="number">1</span></span><br><span class="line">math.sqrt(a)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = -<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   math.sqrt(a)</span><br><span class="line"><span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">   print(<span class="built_in">repr</span>(e))</span><br></pre></td></tr></table></figure><h4 id="任务四：ZeroDivisionError"><a href="#任务四：ZeroDivisionError" class="headerlink" title="任务四：ZeroDivisionError"></a><em>任务四：ZeroDivisionError</em></h4><p><strong>ZeroDivisionError</strong>通常是除数为0时发生的错误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   a = <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">   print(<span class="built_in">repr</span>(e))</span><br></pre></td></tr></table></figure><h4 id="任务五：IndexError"><a href="#任务五：IndexError" class="headerlink" title="任务五：IndexError"></a><em>任务五：IndexError</em></h4><p><strong>IndexError</strong>通常是列表或序列类型的索引越界引起的错误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">li = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">   a = li[<span class="number">4</span>]</span><br><span class="line"><span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">   print(<span class="built_in">repr</span>(e))</span><br></pre></td></tr></table></figure><h3 id="7-5-3-使用异常机制的二次方程"><a href="#7-5-3-使用异常机制的二次方程" class="headerlink" title="7.5.3   使用异常机制的二次方程"></a>7.5.3   使用异常机制的二次方程</h3><h4 id="任务一：二次方程的异常处理"><a href="#任务一：二次方程的异常处理" class="headerlink" title="任务一：二次方程的异常处理"></a><em>任务一：二次方程的异常处理</em></h4><p>由于二次方程需要调用<strong>math.sqrt()<strong>，负数的平方根会引起程序异常。之前的程序通过</strong>if</strong>语句，让程序避免了错误的发生。这里，将使用<strong>try</strong>机制来实现程序的异常处理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 一元二次方程求解函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solver</span>(<span class="params">a, b, c</span>):</span></span><br><span class="line">   print(<span class="string">&quot;求解一元二次方程的根(实数)\n&quot;</span>)</span><br><span class="line">   discrim = b * b - <span class="number">4</span> * a * c</span><br><span class="line">   <span class="keyword">try</span>:</span><br><span class="line">       <span class="keyword">if</span> discrim == <span class="number">0</span>:</span><br><span class="line">           root = -b / (<span class="number">2</span> * a)</span><br><span class="line">           print(<span class="string">&quot;单个根为:&quot;</span>, root)</span><br><span class="line">       <span class="keyword">else</span>:</span><br><span class="line">           <span class="comment"># try可以捕获discrim的异常到ValueError</span></span><br><span class="line">           discRoot = math.sqrt(discrim)</span><br><span class="line">           root1 = (-b + discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">           root2 = (-b - discRoot) / (<span class="number">2</span> * a)</span><br><span class="line">           print(<span class="string">&quot;两个根为:&quot;</span>, root1, root2)</span><br><span class="line">   <span class="keyword">except</span> ValueError:</span><br><span class="line">           print(<span class="string">&quot;无实根&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 a: &quot;</span>))</span><br><span class="line">b = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 b: &quot;</span>))</span><br><span class="line">c = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;输入 c: &quot;</span>))</span><br><span class="line"></span><br><span class="line">solver(a, b, c)</span><br></pre></td></tr></table></figure><h3 id="7-6-习题"><a href="#7-6-习题" class="headerlink" title="7.6   习题"></a>7.6   习题</h3><p>题目要求：</p><p>1、当每周超出40小时以上的工作时间支付150%的工资。编写程序输入工作小时数和小时工资，并计算一周的总工资</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, wages, hours</span>):</span></span><br><span class="line">        self.wages = wages</span><br><span class="line">        self.hours = hours</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_wages</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.hours &gt; <span class="number">40</span>:</span><br><span class="line">            pay = ((<span class="number">40</span> * self.wages) + (<span class="number">1.5</span> * self.wages * (self.hours - <span class="number">40</span>)))</span><br><span class="line">            print(<span class="string">&quot;Gross pay for week is : $%s&quot;</span> % pay)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            pay = self.wages * self.hours</span><br><span class="line">            print(<span class="string">&quot;weeks total pay: $%.2f&quot;</span> % pay)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wages = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;Enter hourly wage: &quot;</span>))</span><br><span class="line">hours = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Enter numbers of hours worked: &quot;</span>))</span><br><span class="line">p = Person(wages, hours)</span><br><span class="line">p.get_wages()</span><br><span class="line">   <span class="comment">#wages=5</span></span><br><span class="line">   <span class="comment">#hours=5</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weeks total pay: $25.00</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>2、某位CS教授给出了5分的小测验，评分等级为5-A，4-B，3-C，2-D，1-E，0-F。编写一个程序，接受测验得分作为输入，并使用判断结构来计算相应的等级</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">ls1=&#123;<span class="number">5</span>:<span class="string">&#x27;A&#x27;</span>,<span class="number">4</span>:<span class="string">&#x27;B&#x27;</span>,<span class="number">3</span>:<span class="string">&#x27;C&#x27;</span>,<span class="number">2</span>:<span class="string">&#x27;D&#x27;</span>,<span class="number">1</span>:<span class="string">&#x27;E&#x27;</span>,<span class="number">0</span>:<span class="string">&#x27;F&#x27;</span>&#125;</span><br><span class="line">print(ls1[a])</span><br><span class="line"><span class="comment">#5</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>3、某位CS教授给出了100分的考试，分级为90～100：A，80～89：B，70～79：C，60～69：D，&lt;60：F。编写一个程序，将考试分数作为输入，并使用判断结构来计算相应的等级</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradeconvert</span>():</span></span><br><span class="line">    gradeLevel = <span class="string">&quot;FDCBA&quot;</span></span><br><span class="line">    grade = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;Enter the grade: &quot;</span>)) <span class="comment"># 80</span></span><br><span class="line">    gradeLev = <span class="built_in">int</span>(grade/<span class="number">10</span> - <span class="number">5</span>)</span><br><span class="line">    <span class="keyword">if</span> gradeLev &lt; <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&quot;The converted grade level is: F&quot;</span>)</span><br><span class="line">    <span class="keyword">elif</span> gradeLev == <span class="built_in">len</span>(gradeLevel):</span><br><span class="line">        print(<span class="string">&quot;The converted grade level is: A&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&quot;The converted grade level is: &quot;</span>, gradeLevel[gradeLev])</span><br><span class="line">gradeconvert()</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The converted grade level is:  B</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>4、某所大学根据学生拿到的学分对学生分年级。小于7学分的学生是大一新生。至少有7个学分才是大二，16分以上是大三，26分以上是大四。编写一个程序，根据获得的学分数计算年级</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">credit = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入学分：&quot;</span>))</span><br><span class="line"><span class="keyword">if</span> credit &lt; <span class="number">7</span> :</span><br><span class="line">    string = <span class="string">&#x27;大一新生&#x27;</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">7</span> &lt;= credit &lt; <span class="number">16</span> :</span><br><span class="line">    string = <span class="string">&#x27;大二学生&#x27;</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">16</span> &lt;= credit &lt;<span class="number">26</span> :</span><br><span class="line">    string = <span class="string">&#x27;大三学生&#x27;</span></span><br><span class="line"><span class="keyword">if</span> credit &gt;= <span class="number">26</span> :</span><br><span class="line">    string = <span class="string">&#x27;大四学生&#x27;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;这是一名&quot;</span> + <span class="built_in">str</span>(string) +<span class="string">&quot;。&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#5</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这是一名大一新生。</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>5、身体质量指数（BMI）的计算公式是人的体重（以磅计）乘以720，再除以人的身高（以英寸计）的平方。BMI在19～25范围内（包括边界值）被认为是健康的。编写一个程序，计算人的BMI，并打印一条消息，告诉他们是在健康范围之上、之中还是之下</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">height = <span class="built_in">eval</span>((<span class="built_in">input</span>(<span class="string">&quot;请输入你的身高(m)：&quot;</span>)))</span><br><span class="line">weight =<span class="built_in">eval</span>((<span class="built_in">input</span>(<span class="string">&quot;请输入你的体重(kg)：&quot;</span>)))</span><br><span class="line">BMI = weight / <span class="built_in">pow</span>(height,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> BMI &lt; <span class="number">19</span>:</span><br><span class="line">    print(<span class="string">&quot;健康范围之下&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> (BMI &gt;= <span class="number">19</span> <span class="keyword">and</span> BMI &lt;= <span class="number">25</span>):</span><br><span class="line">    print(<span class="string">&quot;健康范围之中&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> BMI &gt; <span class="number">25</span>:</span><br><span class="line">    print(<span class="string">&quot;健康范围之上&quot;</span>)</span><br><span class="line">    <span class="comment">#1.76</span></span><br><span class="line">    <span class="comment">#65</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">健康范围之中</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>6、超速罚单政策：300元加上超速部分每mph（一英里每小时）40元，如果超过90mph再追加罚款500元。编写一个程序，接受速度限制和计时速度，并打印一条消息，表明速度合法，或者在速度非法时，打印罚款</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ask_limit</span>():</span></span><br><span class="line">    limit = <span class="built_in">float</span>(<span class="built_in">input</span> (<span class="string">&quot;What was the speed limit? &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> limit</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ask_speed</span>():</span></span><br><span class="line">    speed = <span class="built_in">float</span>(<span class="built_in">input</span> (<span class="string">&quot;What was your clocked speed? &quot;</span>))</span><br><span class="line">    <span class="keyword">return</span> speed</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findfine</span>(<span class="params">speed, limit</span>):</span></span><br><span class="line">    <span class="keyword">if</span> speed &gt; <span class="number">90</span>:</span><br><span class="line">        bigfine = ((speed - limit) * <span class="number">5</span> + <span class="number">500</span>)</span><br><span class="line">        print(<span class="string">&quot;your fine is&quot;</span>, bigfine)</span><br><span class="line">    <span class="keyword">elif</span> speed &lt;= limit:</span><br><span class="line">        print(<span class="string">&quot;you were traveling a legal speed&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fine = ((speed - limit) * <span class="number">40</span> + <span class="number">300</span>)</span><br><span class="line">        print(<span class="string">&quot;your fine is&quot;</span>, fine)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    limit = ask_limit()</span><br><span class="line">    speed = ask_speed()</span><br><span class="line">    findfine(speed, limit)</span><br><span class="line">main()</span><br><span class="line"><span class="comment">#100</span></span><br><span class="line"><span class="comment">#80</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you were traveling a legal speed</span><br></pre></td></tr></table></figure><p>题目要求：</p><p>7、计算1982～2048年的复活节的计算公式如下：令a = year%19, b = year%4, c = year%7, d = (19a + 24)%30, e = (2b +4c +6d + 5)%7。复活节的日期是3月22日+ d + e（可能在4月）。写一个程序，输入年份，验证它在适当的范围，然后打印出那一年复活节的日期</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">year=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">a=year%<span class="number">19</span></span><br><span class="line">b=year%<span class="number">4</span></span><br><span class="line">c=year%<span class="number">7</span></span><br><span class="line">d=(19a + <span class="number">24</span>)%<span class="number">30</span></span><br><span class="line">e= (2b +4c +6d + <span class="number">5</span>)%<span class="number">7</span></span><br><span class="line"><span class="built_in">sum</span>=<span class="number">22</span>+d+e </span><br><span class="line"><span class="keyword">if</span> <span class="built_in">sum</span>&lt;=<span class="number">31</span>:</span><br><span class="line"> print(<span class="string">f&#x27;3月<span class="subst">&#123;<span class="built_in">sum</span>&#125;</span>日&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">print(<span class="string">f&#x27;4月<span class="subst">&#123;<span class="built_in">sum</span>-<span class="number">31</span>&#125;</span>日&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210617003312883.png&quot; alt=&quot;image-20210617003312883&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记6</title>
    <link href="http://waxll.top/2021/06/17/py%206.html"/>
    <id>http://waxll.top/2021/06/17/py%206.html</id>
    <published>2021-06-16T16:28:21.000Z</published>
    <updated>2021-06-16T16:29:38.989Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210513000137970.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210513000137970.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210513000137970"></p><span id="more"></span><h1 id="第六章-列表：推导式与切片"><a href="#第六章-列表：推导式与切片" class="headerlink" title="第六章   列表：推导式与切片"></a>第六章   列表：推导式与切片</h1><h2 id="6-1-重要-列表推导式"><a href="#6-1-重要-列表推导式" class="headerlink" title="6.1   (重要) 列表推导式"></a>6.1   (重要) 列表推导式</h2><h3 id="6-1-1-为何要用列表推导式"><a href="#6-1-1-为何要用列表推导式" class="headerlink" title="6.1.1   为何要用列表推导式?"></a>6.1.1   为何要用列表推导式?</h3><h4 id="任务一：生成列表元素"><a href="#任务一：生成列表元素" class="headerlink" title="任务一：生成列表元素"></a><em>任务一：生成列表元素</em></h4><p>为创建一个元素为<strong>整数平方项</strong>的列表<strong>squares</strong>，可使用如下方式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#声明空列表</span></span><br><span class="line">squares = []</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">   val = x**<span class="number">2</span></span><br><span class="line">   squares.append(val)</span><br><span class="line"></span><br><span class="line">print(squares)</span><br><span class="line"><span class="comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br></pre></td></tr></table></figure><p>代码解析：</p><p>在<strong>for</strong>循环中，通过对序列的临时变量<strong>x</strong>，进行<strong>x****</strong>2**运算来创建列表的新元素</p><p>然后将新元素**append()**到列表中，直到循环结束</p><p>上述列表<strong>squares</strong>创建方式包含至少3行以上的代码</p><p>下面介绍的<strong>列表推导式只需一行代码</strong>就能生成相同的列表</p><h4 id="任务二：初识列表推导式"><a href="#任务二：初识列表推导式" class="headerlink" title="任务二：初识列表推导式"></a><em>任务二：初识列表推导式</em></h4><p>知识点：列表推导式的语法</p><p>语法：<strong>newlist = [expression for expr1 in sequence1 if condition1]</strong></p><p><strong>expression</strong>：生成列表新元素的表达式</p><p><strong>for expr1 in sequence1</strong>：遍历序列<strong>sequence1</strong>。必须<strong>包含至少一个for</strong>语句</p><p><strong>if condition1</strong>：<strong>可选</strong>，筛选满足条件的元素</p><p>列表推导式中的<strong>for</strong>语句<strong>末尾没有冒号</strong></p><p>描述：根据序列<strong>sequence1</strong>，筛选满足条件的元素，并根据表达式<strong>expression</strong>，生成新列表</p><p>返回：一个<strong>新列表</strong>。不管原序列是什么类型，返回的是列表<strong>list</strong>类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">squares = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">print(squares)</span><br><span class="line"><span class="comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br></pre></td></tr></table></figure><p>程序解析(列表推导式规则的角度)：</p><p>列表推导式，由一个有**[]**括号所包含的表达式组成，用于定义列表元素生成规则</p><p><strong>遍历原序列</strong>：<strong>for x in range(10)</strong> 遍历<strong>range(10)<strong>序列，并赋值给临时变量</strong>x</strong></p><p><strong>定义新元素生成的表达式</strong>：根据表达式 (x<strong>2)，对</strong>x实现运算操作来生成新列表元素</p><p><strong>自动添加元素</strong>：将新元素添加到列表中</p><p><strong>squares</strong>类型为<strong>list</strong>对象</p><h4 id="任务三：列表推导式的等价形式"><a href="#任务三：列表推导式的等价形式" class="headerlink" title="任务三：列表推导式的等价形式"></a><em>任务三：列表推导式的等价形式</em></h4><p>知识点：列表推导式和普通代码的逻辑等价</p><p>列表推导式：<strong>newlist = [expression for expr1 in sequence1 if condition1]</strong></p><p>等价的普通代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">newlist = []</span><br><span class="line"><span class="keyword">for</span> expr1 <span class="keyword">in</span> sequence1:</span><br><span class="line"> <span class="keyword">if</span> condition1:</span><br><span class="line">     val = expression</span><br><span class="line">     newlist.append(val)</span><br></pre></td></tr></table></figure><p>列表推导式为<strong>从序列中生成新元素来创建列表</strong>提供了一个优雅且简明的方法。代码简洁，可读性强，是Python程序开发时应用最多的技术之一</p><h4 id="任务四：函数映射角度来理解列表推导式"><a href="#任务四：函数映射角度来理解列表推导式" class="headerlink" title="任务四：函数映射角度来理解列表推导式"></a><em>任务四：函数映射角度来理解列表推导式</em></h4><p>知识点：函数映射角度来理解列表推导式：</p><p>定义域：序列<strong>sequence1</strong></p><p>函数映射：特定的表达式规则**(expression)**</p><p>值域：新的列表<strong>newlist</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">squares = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">print(squares)</span><br><span class="line"><span class="comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br></pre></td></tr></table></figure><p>程序解析(函数映射的角度)：</p><p>定义域：序列<strong>range(10)</strong></p><p>函数映射：表达式x**2</p><p>值域：新列表<strong>squares</strong></p><h3 id="6-1-2-深入列表推导式用法"><a href="#6-1-2-深入列表推导式用法" class="headerlink" title="6.1.2   深入列表推导式用法"></a>6.1.2   深入列表推导式用法</h3><h4 id="任务一：再识列表推导式"><a href="#任务一：再识列表推导式" class="headerlink" title="任务一：再识列表推导式"></a><em>任务一：再识列表推导式</em></h4><p>知识点：列表推导式(list comprehension)</p><p>语法：<strong>newlist = [expression for expr1 in sequence1 if condition1]</strong></p><p>又称列表解析式，它对<strong>序列或可迭代对象</strong>进行<strong>遍历(for)<strong>、</strong>过滤(if)或计算(expression)<strong>，来生成</strong>新列表</strong></p><p>简单地说：<strong>列表推导式</strong>将<strong>for</strong>循环和创建新元素的规则合并成一行，并自动实现元素的添加</p><h4 id="任务二：使用带if条件的列表推导式"><a href="#任务二：使用带if条件的列表推导式" class="headerlink" title="任务二：使用带if条件的列表推导式"></a>任务二：使用带if条件的列表推导式</h4><p>生成一个<strong>aList</strong>列表，它的元素是<strong>nums</strong>列表中，元素值大于3的元素平方项。</p><p>通过<strong>if</strong>从<strong>nums</strong>列表中选择符合条件的元素来组成新的列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 普通版本</span></span><br><span class="line">nums = [<span class="number">10</span>, -<span class="number">2</span>, <span class="number">13</span>, <span class="number">4</span>, <span class="number">25</span>]</span><br><span class="line"></span><br><span class="line">aList = []</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> nums:</span><br><span class="line">   <span class="keyword">if</span> x &gt; <span class="number">3</span>:</span><br><span class="line">       aList.append(x * x)</span><br><span class="line"></span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [100, 169, 16, 625]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推导式版本</span></span><br><span class="line">nums = [<span class="number">10</span>, -<span class="number">2</span>, <span class="number">13</span>, <span class="number">4</span>, <span class="number">25</span>]</span><br><span class="line">aList = [x * x  <span class="keyword">for</span> x <span class="keyword">in</span> nums  <span class="keyword">if</span> x &gt; <span class="number">3</span>]</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [100, 169, 16, 625]</span></span><br></pre></td></tr></table></figure><h4 id="任务三：二重循环的列表推导式"><a href="#任务三：二重循环的列表推导式" class="headerlink" title="任务三：二重循环的列表推导式"></a><em>任务三：二重循环的列表推导式</em></h4><p>知识点：嵌套的列表推导式理解</p><p>列表推导式包含一个由中括号**[]**组成的表达式。</p><p>表达式之后紧跟一个 <strong>for</strong>循环，之后可以<strong>嵌套</strong>有零或多个 <strong>for</strong>或 <strong>if</strong>语句。</p><p>嵌套的多个<strong>for</strong>或<strong>if</strong>语句，按<strong>从左到右的顺序</strong>(外层语句块到内层语句块)来解读代码</p><p>生成一个<strong>aList</strong>列表，它的元素是二维列表<strong>nums</strong>中，元素值大于0的元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 普通版本</span></span><br><span class="line">nums = [[<span class="number">1</span>,-<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,-<span class="number">6</span>],[<span class="number">7</span>,-<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">aList = []</span><br><span class="line"><span class="comment"># 二维数组，先遍历行，后遍历列</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> nums:</span><br><span class="line">   <span class="keyword">for</span> col <span class="keyword">in</span> row:</span><br><span class="line">       <span class="comment"># 选择&gt;0的元素</span></span><br><span class="line">       <span class="keyword">if</span> col &gt; <span class="number">0</span>:</span><br><span class="line">           aList.append(col)</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [1, 3, 4, 5, 7, 9]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nums = [[<span class="number">1</span>, -<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, -<span class="number">6</span>], [<span class="number">7</span>, -<span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line">aList = [col  <span class="keyword">for</span> row <span class="keyword">in</span> nums  <span class="keyword">for</span> col <span class="keyword">in</span> row  <span class="keyword">if</span> col &gt; <span class="number">0</span>]</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [1, 3, 4, 5, 7, 9]</span></span><br></pre></td></tr></table></figure><p>知识点：</p><p>注意列表推导式中的<strong>for</strong>和<strong>if</strong>语句的顺序</p><p>列表推导式中，省略了**:**冒号</p><h4 id="任务四：多个列表同时遍历的列表推导式"><a href="#任务四：多个列表同时遍历的列表推导式" class="headerlink" title="任务四：多个列表同时遍历的列表推导式"></a><em>任务四：多个列表同时遍历的列表推导式</em></h4><p>两个列表<strong>num1</strong>和<strong>num2</strong>，生成的新列表元素为<strong>num1</strong>和<strong>num2</strong>中元素值不同的成对元素组合</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 普通版本(外层与内层语句块注意缩进)</span></span><br><span class="line">aList = []</span><br><span class="line">num1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">num2 = [<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> num1:</span><br><span class="line">   <span class="keyword">for</span> y <span class="keyword">in</span> num2:</span><br><span class="line">       <span class="keyword">if</span> x != y:</span><br><span class="line">           aList.append((x, y))</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [(1, 3), (1, 4), (1, 3), (2, 3), (2, 1), (2, 4), (2, 3), (3, 1), (3, 4), (5, 3), (5, 1), (5, 4), (5, 3)]</span></span><br></pre></td></tr></table></figure><p><strong>(x,y)<strong>为</strong>元组</strong>，它是不可变列表，后面章节会学到</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">num2 = [<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>]</span><br><span class="line">aList = [(x, y)   <span class="keyword">for</span> x <span class="keyword">in</span> num1   <span class="keyword">for</span> y <span class="keyword">in</span> num2  <span class="keyword">if</span> x != y]</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [(1, 3), (1, 4), (1, 3), (2, 3), (2, 1), (2, 4), (2, 3), (3, 1), (3, 4), (5, 3), (5, 1), (5, 4), (5, 3)]</span></span><br></pre></td></tr></table></figure><h4 id="任务五：调用函数的列表推导式"><a href="#任务五：调用函数的列表推导式" class="headerlink" title="任务五：调用函数的列表推导式"></a><em>任务五：调用函数的列表推导式</em></h4><p>列表推导式中可以调用函数</p><p>定义函数<strong>f</strong>：若<strong>v</strong>能被<strong>2</strong>整除，则返回<strong>v</strong>的平方，不能被2整除，返回<strong>v+1</strong>。具体的函数定义会在后续章节详细讲解</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">v</span>):</span></span><br><span class="line">   <span class="keyword">if</span> v % <span class="number">2</span> == <span class="number">0</span>:  <span class="comment"># 被2整除</span></span><br><span class="line">       v = v**<span class="number">2</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       v = v + <span class="number">1</span></span><br><span class="line">   <span class="keyword">return</span> v</span><br></pre></td></tr></table></figure><p>先运行**f(v)**函数的cell</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 普通版本</span></span><br><span class="line">nums = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">aList = []</span><br><span class="line"><span class="comment"># 二维数组，先遍历行，后遍历列</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> nums:</span><br><span class="line">   <span class="keyword">for</span> col <span class="keyword">in</span> row:</span><br><span class="line">       <span class="comment">#调用函数，需要先运行前面的cell</span></span><br><span class="line">       aList.append(f(col))</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [2, 4, 4, 16, 6, 36, 8, 64, 10]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nums = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line">aList = [f(col)  <span class="keyword">for</span> row <span class="keyword">in</span> nums  <span class="keyword">for</span> col <span class="keyword">in</span> row]</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [2, 4, 4, 16, 6, 36, 8, 64, 10]</span></span><br></pre></td></tr></table></figure><h4 id="任务六：列表推导式的嵌套"><a href="#任务六：列表推导式的嵌套" class="headerlink" title="任务六：列表推导式的嵌套"></a><em>任务六：列表推导式的嵌套</em></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># [x**2 for x in nums]为内层推导式</span></span><br><span class="line">aList = [x + <span class="number">1</span> <span class="keyword">for</span> x <span class="keyword">in</span> [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> nums]]</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [2, 5, 10]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># 将嵌套的推导式进行等价分解</span></span><br><span class="line">tempList = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> nums]</span><br><span class="line">aList = [x + <span class="number">1</span> <span class="keyword">for</span> x <span class="keyword">in</span> tempList]</span><br><span class="line">print(aList)</span><br><span class="line"><span class="comment"># [2, 5, 10]</span></span><br></pre></td></tr></table></figure><h3 id="习题："><a href="#习题：" class="headerlink" title="习题："></a>习题：</h3><p>1、用列表推导式的方法，把列表**[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]**中的每个元素都加100，生成一个新列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> =[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">list</span>.append(i+<span class="number">100</span>)</span><br><span class="line">print(<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>, <span class="number">103</span>, <span class="number">104</span>, <span class="number">105</span>, <span class="number">106</span>, <span class="number">107</span>, <span class="number">108</span>, <span class="number">109</span>]</span><br></pre></td></tr></table></figure><p>2、用列表推导式生成1-20000之间所有能被3整除不能被5整除的数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">numbers = [x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">20001</span>) <span class="keyword">if</span> x%<span class="number">3</span>==<span class="number">0</span> <span class="keyword">and</span> x%<span class="number">5</span>!=<span class="number">0</span>]</span><br><span class="line">print(numbers)</span><br></pre></td></tr></table></figure><p>3、用列表推导式生成列表：**[[0,0,0,0,0],[0,1,2,3,4],[0,2,4,6,8],[0,3,6,9,12]]**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> = [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line"><span class="built_in">list</span>.append([x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">5</span>) <span class="keyword">if</span> x%<span class="number">1</span>==<span class="number">0</span>])</span><br><span class="line"><span class="built_in">list</span>.append([x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">9</span>) <span class="keyword">if</span> x%<span class="number">2</span>==<span class="number">0</span>])</span><br><span class="line"><span class="built_in">list</span>.append([x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">13</span>) <span class="keyword">if</span> x%<span class="number">3</span>==<span class="number">0</span>])</span><br><span class="line">print(<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>], [<span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">12</span>]]</span><br></pre></td></tr></table></figure><p>4、<strong>3的倍数</strong>：创建一个列表，其中包含3~30内能被3整除的数字；再使用一个for循环将这个列表中的数字都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">3</span>, <span class="number">31</span>, <span class="number">3</span>))</span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> numbers:</span><br><span class="line">    print(number)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">15</span></span><br><span class="line"><span class="number">18</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="number">24</span></span><br><span class="line"><span class="number">27</span></span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure><p>5、<strong>立方</strong>：将同一个数字乘三次称为立方。例如，在Python中，2的立方用2**3表示。请创建一个列表，其中包含前10个整数（即1~10）的立方，再使用一个for循环将这些立方数都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">numbers = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    numbers.append(value ** <span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> numbers:</span><br><span class="line">    print(number)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">27</span></span><br><span class="line"><span class="number">64</span></span><br><span class="line"><span class="number">125</span></span><br><span class="line"><span class="number">216</span></span><br><span class="line"><span class="number">343</span></span><br><span class="line"><span class="number">512</span></span><br><span class="line"><span class="number">729</span></span><br><span class="line"><span class="number">1000</span></span><br></pre></td></tr></table></figure><p>6、<strong>立方解析</strong>：使用列表解析生成一个列表，其中包含前10个整数的立方</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">numbers = [value ** <span class="number">3</span> <span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>)]</span><br><span class="line">print(numbers)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>, <span class="number">512</span>, <span class="number">729</span>, <span class="number">1000</span>]</span><br></pre></td></tr></table></figure><h2 id="6-2-切片：列表索引"><a href="#6-2-切片：列表索引" class="headerlink" title="6.2  切片：列表索引"></a>6.2  切片：列表索引</h2><h3 id="6-2-1-切片的定义"><a href="#6-2-1-切片的定义" class="headerlink" title="6.2.1   切片的定义"></a>6.2.1   切片的定义</h3><h4 id="任务一：初识切片"><a href="#任务一：初识切片" class="headerlink" title="任务一：初识切片"></a><em>任务一：初识切片</em></h4><p>知识点：切片(slide)用于获取<strong>列表片段</strong></p><p>之前学习了如何使用通过<strong>索引</strong>来访问列表的单个元素。比如：<strong>x[0]</strong></p><p>在实际应用中，经常需要访问列表的片段或子集</p><p>为此，Python专门设计了<strong>切片</strong>技术来实现列表元素的<strong>一次性批量访问</strong></p><p><strong>str</strong>字符串、<strong>list</strong>列表、<strong>tupple</strong>元组、<strong>ndarray</strong>多维数组等都支持切片操作</p><p>知识点：切片语法</p><p>语法：<strong>x[start:stop:step]</strong></p><p>描述：从列表<strong>x</strong>中获得子列表，索引范围为**[start stop)左闭右开<strong>区间，步长为</strong>step**</p><p>参数：3个参数必须是整数(包括负整数)</p><p><strong>start</strong>为起始索引，默认值为0</p><p><strong>stop</strong>为终止索引，默认值为<strong>len(x)</strong></p><p><strong>step</strong>为步长，默认值为1。<strong>不能为0，否则会出错</strong></p><p>返回：子列表。从<strong>start</strong>开始到<strong>stop</strong>，但不包括<strong>stop</strong>元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从索引0开始，到索引3为止，步长为1</span></span><br><span class="line">x_sub = x[<span class="number">0</span>:<span class="number">4</span>:<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[0:4:1]：&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[0:4:1]： [1, 4, 2, 5]</span></span><br></pre></td></tr></table></figure><h4 id="任务二：切片不包含stop元素"><a href="#任务二：切片不包含stop元素" class="headerlink" title="任务二：切片不包含stop元素"></a><em>任务二：切片不包含stop元素</em></h4><p>知识点：<strong>常见的逻辑错误(坑)</strong></p><p>切片返回的子列表，不包括<strong>stop</strong>索引元素</p><p>例如：<strong>x[0:3:1]<strong>，返回的子列表元素为</strong>x[0]<strong>，</strong>x[1]<strong>，</strong>x[2]<strong>，但不包括</strong>x[3]</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片不包括stop=4的索引元素</span></span><br><span class="line">x_sub = x[<span class="number">0</span>:<span class="number">4</span>:<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[0:4:1]：&#x27;</span>, x_sub)</span><br><span class="line">print(<span class="string">&#x27;x[4]：&#x27;</span>, x[<span class="number">4</span>])</span><br><span class="line"><span class="comment"># x[0:4:1]： [1, 4, 2, 5]</span></span><br><span class="line"><span class="comment"># x[4]： -1</span></span><br></pre></td></tr></table></figure><h3 id="6-2-2-重要-深入切片"><a href="#6-2-2-重要-深入切片" class="headerlink" title="6.2.2  (重要) 深入切片"></a>6.2.2  (重要) 深入切片</h3><h4 id="任务一：掌握切片常见用法"><a href="#任务一：掌握切片常见用法" class="headerlink" title="任务一：掌握切片常见用法"></a><em>任务一：掌握切片常见用法</em></h4><p>知识点：切片的理解</p><p>切片的用法与**range(start:stop:step)**类似，3个参数的意义也类似</p><p>可以这么理解切片：首先使用<strong>range(start:stop:step)<strong>生成</strong>一组列表元素的索引</strong>。然后，再应用于列表<strong>x</strong>，来获得索引范围为**[start, stop)**的子列表</p><p>切片使用较灵活，具体包括如下几种情况：</p><p><strong>情况1</strong>： <strong>三个</strong>参数<strong>x[start:stop:step]<strong>，包含</strong>两个:</strong></p><p>这是<strong>完整</strong>的切片表达式</p><p><strong>两个:<strong>用于分隔三个参数</strong>(start、stop、step)</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 3个参数，2个：</span></span><br><span class="line">x_sub = x[<span class="number">0</span>:<span class="number">4</span>:<span class="number">2</span>]</span><br><span class="line">print(<span class="string">&#x27;x[0:4:2]：&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[0:4:2]： [1, 2]</span></span><br></pre></td></tr></table></figure><p><strong>情况2</strong>：<strong>两个</strong>参数<strong>x[start:stop]<strong>，包含</strong>一个:</strong></p><p>默认值步长<strong>step=1</strong></p><p>等价于<strong>x[start:stop:1]</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 2个参数，1个：</span></span><br><span class="line">x_sub = x[<span class="number">0</span>:<span class="number">4</span>]</span><br><span class="line">print(<span class="string">&#x27;x[0:4]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[0:4] [1, 4, 2, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价于step=1的3参数</span></span><br><span class="line">x_sub = x[<span class="number">0</span>:<span class="number">4</span>:<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[0:4:1]&#x27;</span>, x_sub)</span><br><span class="line"></span><br><span class="line"><span class="comment"># x[0:4:1] [1, 4, 2, 5]</span></span><br></pre></td></tr></table></figure><p><strong>情况3.1</strong>：<strong>一个</strong>参数<strong>x[start:]<strong>，包含</strong>一个:</strong></p><p>此时，默认值<strong>stop=len(x)<strong>，表示切片的终止于列表末尾。默认值步长</strong>step=1</strong></p><p>等价于<strong>x[start:len(x):1]</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 1个参数，1个：</span></span><br><span class="line">x_sub = x[<span class="number">3</span>:]</span><br><span class="line">print(<span class="string">&#x27;x[3:]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[3:] [5, -1, 4, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价于stop=start+1，step=1的3参数</span></span><br><span class="line">x_sub = x[<span class="number">3</span>:<span class="built_in">len</span>(x):<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[3:len(x):1]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[3:len(x):1] [5, -1, 4, 9, 10]</span></span><br></pre></td></tr></table></figure><p><strong>情况3.2****：一个</strong>参数<strong>x[:stop]<strong>，包含</strong>一个:</strong></p><p>此时，默认值<strong>start=0</strong>，表示切片的起始为0。默认值步长<strong>step=1</strong></p><p>等价于<strong>x[0:stop:1]</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 1个参数，1个：</span></span><br><span class="line">x_sub = x[:<span class="number">3</span>]</span><br><span class="line">print(<span class="string">&#x27;x[:3]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[:3] [1, 4, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价于start=0，step=1的3参数</span></span><br><span class="line">x_sub = x[<span class="number">0</span>:<span class="number">3</span>:<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[0:3:1]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[0:3:1] [1, 4, 2]</span></span><br></pre></td></tr></table></figure><p><strong>情况4</strong>：一个参数<strong>x[start]<strong>，</strong>没有:</strong></p><p>退化为<strong>单索引</strong></p><p>此时，<strong>stop=start+1</strong>，表示切取<strong>start</strong>指定的那个元素。默认值步长<strong>step=1</strong></p><p>等价于<strong>x[start:start+1:1]</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 1个参数，没有：</span></span><br><span class="line">x_sub = x[<span class="number">3</span>]</span><br><span class="line">print(<span class="string">&#x27;x[3]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[3] 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价于stop=start+1=4，step=1的3参数</span></span><br><span class="line">x_sub = x[<span class="number">3</span>:<span class="number">4</span>:<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[3:4:1]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[3:4:1] [5]</span></span><br></pre></td></tr></table></figure><p><strong>情况5</strong>：<strong>没有</strong>参数，<strong>x[::]或x[:]</strong></p><p>如果以上3个参数都未指定，那么它们会被设置默认值：<strong>start=0、stop=len(x)和 step=1</strong></p><p>此时，为返回的子列表为<strong>x</strong>本身</p><p>等价于<strong>x[start=0:len(x):1]</strong></p><p>功能：复制列表<strong>x</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 0个参数，1个：</span></span><br><span class="line">x_sub = x[:]</span><br><span class="line">print(<span class="string">&#x27;x[:]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[:] [1, 4, 2, 5, -1, 4, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 0个参数，2个：</span></span><br><span class="line">x_sub = x[::]</span><br><span class="line">print(<span class="string">&#x27;x[::]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[::] [1, 4, 2, 5, -1, 4, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价于x[start=0:len(x):1]</span></span><br><span class="line">x_sub = x[<span class="number">0</span>:<span class="built_in">len</span>(x):<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[0:len(x):1]&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[0:len(x):1] [1, 4, 2, 5, -1, 4, 9, 10]</span></span><br></pre></td></tr></table></figure><h3 id="6-2-3-参数缺省的切片"><a href="#6-2-3-参数缺省的切片" class="headerlink" title="6.2.3   参数缺省的切片"></a>6.2.3   参数缺省的切片</h3><h4 id="任务一：掌握参数缺省的切片使用"><a href="#任务一：掌握参数缺省的切片使用" class="headerlink" title="任务一：掌握参数缺省的切片使用"></a><em>任务一：掌握参数缺省的切片使用</em></h4><p>知识点：</p><p>当<strong>step&gt;0</strong>时为正序，<strong>索引</strong>可以从<strong>正数的0</strong>开始<strong>从左向右(正序)</strong></p><p>当<strong>step&lt;0</strong>时为逆序，从<strong>负数的-1</strong>开始<strong>从右向左(逆序)</strong></p><p>知识点(总结)：参数缺省的切片</p><p><strong>x[start:stop]<strong>：缺省</strong>step=1</strong></p><p><strong>x[start:]<strong>：缺省</strong>stop=len(x)，step=1</strong></p><p><strong>x[:stop]<strong>：缺省</strong>start=0，step=1</strong></p><p>**x[:stop:step]**：</p><p>当<strong>step&gt;0</strong>正序，缺省<strong>start=0</strong></p><p>当<strong>step&lt;0</strong>逆序，缺省<strong>start=len(x)</strong></p><p>**x[start::step]**：</p><p>当<strong>step&gt;1</strong>正序，缺省<strong>stop=len(x)</strong></p><p>当<strong>step&lt;1</strong>逆序，缺省<strong>stop=-len(x)-1</strong></p><p>了解：逆序最后个元素为**-len(x)<strong>(即列表第1个元素)，由于切片返回的子列表不包括</strong>stop<strong>元素。因此，为了获得逆序最后个元素，需要设置</strong>stop=-len(x)-1**</p><p><strong>x[:]<strong>和</strong>x[::]<strong>：缺省</strong>start=0，stop=len(x)，step=1</strong>。相当于复制列表<strong>x</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line">print(<span class="string">&#x27;x[1:4]：&#x27;</span>, x[<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line"><span class="comment"># x[1:4]： [4, 2, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># x[start:stop]：缺省step=1。</span></span><br><span class="line">print(<span class="string">&#x27;x[1:4:1]：&#x27;</span>, x[<span class="number">1</span>:<span class="number">4</span>:<span class="number">1</span>])</span><br><span class="line"><span class="comment"># x[1:4:1]： [4, 2, 5]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line">print(<span class="string">&#x27;x[1:]：&#x27;</span>, x[<span class="number">1</span>:])</span><br><span class="line"><span class="comment"># x[1:]： [4, 2, 5, -1, 4, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># x[start:]：缺省stop=len(x)，step=1。</span></span><br><span class="line">print(<span class="string">&#x27;x[1:len(x):1]：&#x27;</span>, x[<span class="number">1</span>:<span class="built_in">len</span>(x):<span class="number">1</span>])</span><br><span class="line"><span class="comment"># x[1:len(x):1]： [4, 2, 5, -1, 4, 9, 10]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment">#x[:stop]：缺省start=0，step=1。</span></span><br><span class="line">print(<span class="string">&#x27;x[:4]：&#x27;</span>, x[:<span class="number">4</span>])</span><br><span class="line"><span class="comment"># x[:4]： [1, 4, 2, 5]</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;x[0:4:1]：&#x27;</span>, x[<span class="number">0</span>:<span class="number">4</span>:<span class="number">1</span>])</span><br><span class="line"><span class="comment"># x[0:4:1]： [1, 4, 2, 5]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment">#x[:stop:step]：当step&gt;1正序，缺省start=0；</span></span><br><span class="line">print(<span class="string">&#x27;x[:4:2]&#x27;</span>, x[:<span class="number">4</span>:<span class="number">2</span>])</span><br><span class="line">print(<span class="string">&#x27;x[0:4:2]&#x27;</span>, x[<span class="number">0</span>:<span class="number">4</span>:<span class="number">2</span>])</span><br><span class="line"><span class="comment"># x[:4:2] [1, 2]</span></span><br><span class="line"><span class="comment"># x[0:4:2] [1, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#x[:stop:step]：当step&lt;1逆序，缺省start=len(x)；</span></span><br><span class="line">print(<span class="string">&#x27;x[:4:-2]&#x27;</span>, x[:<span class="number">4</span>:-<span class="number">2</span>])</span><br><span class="line">print(<span class="string">&#x27;x[len(x):4:-2]&#x27;</span>, x[<span class="built_in">len</span>(x):<span class="number">4</span>:-<span class="number">2</span>])</span><br><span class="line"><span class="comment"># x[:4:-2] [10, 4]</span></span><br><span class="line"><span class="comment"># x[len(x):4:-2] [10, 4]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment">#x[start::step]：当step&gt;1正序，缺省stop=len(x)；</span></span><br><span class="line">print(<span class="string">&#x27;x[1::2]&#x27;</span>, x[<span class="number">1</span>::<span class="number">2</span>])</span><br><span class="line">print(<span class="string">&#x27;x[1:len(x):2]&#x27;</span>, x[<span class="number">1</span>:<span class="built_in">len</span>(x):<span class="number">2</span>])</span><br><span class="line"><span class="comment"># x[1::2] [4, 5, 4, 10]</span></span><br><span class="line"><span class="comment"># x[1:len(x):2] [4, 5, 4, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#x[start::step]：当step&lt;1逆序，缺省stop=-len(x)-1。</span></span><br><span class="line"><span class="comment"># 具体解释看知识点</span></span><br><span class="line">print(<span class="string">&#x27;x[4::-2]&#x27;</span>, x[<span class="number">4</span>::-<span class="number">2</span>])</span><br><span class="line">print(<span class="string">&#x27;x[4:-len(x)-1:-2]&#x27;</span>, x[<span class="number">4</span>:-<span class="built_in">len</span>(x)-<span class="number">1</span>:-<span class="number">2</span>])  </span><br><span class="line"><span class="comment"># x[4::-2] [-1, 2, 1]</span></span><br><span class="line"><span class="comment"># x[4:-len(x)-1:-2] [-1, 2, 1]</span></span><br></pre></td></tr></table></figure><h3 id="6-2-4-列表元素的两种拷贝方式"><a href="#6-2-4-列表元素的两种拷贝方式" class="headerlink" title="6.2.4   列表元素的两种拷贝方式"></a>6.2.4   列表元素的两种拷贝方式</h3><h4 id="任务一：列表元素的赋值拷贝"><a href="#任务一：列表元素的赋值拷贝" class="headerlink" title="任务一：列表元素的赋值拷贝"></a><em>任务一：列表元素的赋值拷贝</em></h4><p>知识点：列表拷贝的误区(赋值<strong>y=x</strong>实现了浅拷贝)</p><p>误区：两个列表的拷贝，直接通过赋值语句</p><p><strong>list_copy = list_org</strong>，通过赋值**=<strong>将</strong>list_org<strong>复制给</strong>list_copy**</p><p><strong>赋值拷贝</strong>：赋值=并不能实现真正的拷贝，只拷贝了<strong>变量的地址</strong>，而非<strong>数据的本身内容</strong>。细节请回顾<strong>3.2 变量内涵</strong></p><p>可以通过**id()**函数查看变量的内存地址</p><p>通过<strong>a is b</strong>逻辑判断变量<strong>a</strong>和<strong>b</strong>是否指向同一个数据</p><p><strong>赋值拷贝</strong>存在的问题：它们的修改会相互影响。即修改其中的一个列表对象，会影响另外个列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 赋值拷贝</span></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 复制成功了？</span></span><br><span class="line">y = x</span><br><span class="line">print(<span class="string">&#x27;y：&#x27;</span>, y)</span><br><span class="line"><span class="comment"># y： [1, 4, 2, 5, -1, 4, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#观察x和y是同个内存地址</span></span><br><span class="line">print(<span class="string">&#x27;id(x):&#123;&#125;, id(y):&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>(x), <span class="built_in">id</span>(y)))</span><br><span class="line"><span class="comment"># id(x):3057506266632, id(y):3057506266632</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#观察x和y是同个内存地址</span></span><br><span class="line">print(<span class="string">&#x27;x is y? &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(x <span class="keyword">is</span> y))</span><br><span class="line"><span class="comment"># x is y? True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改y，观察是否会影响x</span></span><br><span class="line"><span class="comment"># 发现x[1]和y[1]同时改变</span></span><br><span class="line"><span class="comment"># y = x 并不能实现拷贝</span></span><br><span class="line">y[<span class="number">1</span>] = -<span class="number">100</span></span><br><span class="line">print(<span class="string">&#x27;修改后的x：&#x27;</span>, x)</span><br><span class="line">print(<span class="string">&#x27;修改后的y：&#x27;</span>, y)</span><br><span class="line"><span class="comment"># 修改后的x： [1, -100, 2, 5, -1, 4, 9, 10]</span></span><br><span class="line"><span class="comment"># 修改后的y： [1, -100, 2, 5, -1, 4, 9, 10]</span></span><br></pre></td></tr></table></figure><p>分析：</p><p>通过上面的例子看到了通过赋值<strong>y=x</strong>方式拷贝列表，并不能实现真正的列表元素拷贝</p><p>即对<strong>x</strong>和<strong>y</strong>列表的改变，会相互影响。真正的拷贝是希望两个列表是独立的，它们的修改互不干扰</p><p>通过<strong>id()<strong>和</strong>x is y</strong>发现它们本质上是同一个列表对象</p><h4 id="任务二：列表元素的切片元素拷贝"><a href="#任务二：列表元素的切片元素拷贝" class="headerlink" title="任务二：列表元素的切片元素拷贝"></a><em>任务二：列表元素的切片元素拷贝</em></h4><p>知识点：**y = x[:]**实现了列表元素的拷贝</p><p>切片元素拷贝：<strong>y</strong>拷贝的是<strong>x</strong>的所有元素，而非简单的地址</p><p>理解：在内存空间中开辟一个与<strong>x</strong>同样大小的空间，然后，将x的所有元素依次拷贝，最后将新空间地址赋值给<strong>y</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切片元素拷贝</span></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 复制成功了？</span></span><br><span class="line">y = x[:]</span><br><span class="line">print(<span class="string">&#x27;y：&#x27;</span>, y)</span><br><span class="line"><span class="comment"># y： [1, 4, 2, 5, -1, 4, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#观察x和y是同个内存地址</span></span><br><span class="line">print(<span class="string">&#x27;id(x):&#123;&#125;, id(y):&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">id</span>(x), <span class="built_in">id</span>(y)))</span><br><span class="line"><span class="comment"># id(x):3057506814600, id(y):3057506786504</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#观察x和y是同个内存地址</span></span><br><span class="line">print(<span class="string">&#x27;x is y? &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(x <span class="keyword">is</span> y))</span><br><span class="line"><span class="comment"># x is y? False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改y，观察是否会影响x</span></span><br><span class="line"><span class="comment"># 发现x[1]和y[1]同时改变</span></span><br><span class="line"><span class="comment"># y = x 并不能实现拷贝</span></span><br><span class="line">y[<span class="number">1</span>] = -<span class="number">100</span></span><br><span class="line">print(<span class="string">&#x27;修改后的x：&#x27;</span>, x)</span><br><span class="line">print(<span class="string">&#x27;修改后的y：&#x27;</span>, y)</span><br><span class="line"><span class="comment"># 修改后的x： [1, 4, 2, 5, -1, 4, 9, 10]</span></span><br><span class="line"><span class="comment"># 修改后的y： [1, -100, 2, 5, -1, 4, 9, 10]</span></span><br></pre></td></tr></table></figure><h3 id="6-2-5-切片的逻辑位置转换公式"><a href="#6-2-5-切片的逻辑位置转换公式" class="headerlink" title="6.2.5   切片的逻辑位置转换公式"></a>6.2.5   切片的逻辑位置转换公式</h3><h4 id="任务一：掌握参数为负的切片"><a href="#任务一：掌握参数为负的切片" class="headerlink" title="任务一：掌握参数为负的切片"></a><em>任务一：掌握参数为负的切片</em></h4><p>知识点：</p><p>如果<strong>step</strong>为负，那么返回的子列表为原列表的<strong>逆序</strong></p><p>这里先假设<strong>start</strong>和<strong>stop</strong>都为正号</p><p>子列表正序还是逆序，只与<strong>step</strong>符号有关，与<strong>start</strong>和<strong>stop</strong>无关</p><p>正序<strong>step&gt;0</strong>要求<strong>start</strong>要位于<strong>stop</strong>的<strong>逻辑左边(start&lt;stop)<strong>。否则，返回空列表</strong>[]</strong></p><p>逆序<strong>step&lt;0</strong>要求<strong>start</strong>要位于<strong>stop</strong>的<strong>逻辑右边(start)<strong>。否则，返回空列表</strong>[]</strong></p><p>逆序时，不能缺省<strong>step</strong>参数。因为，缺省的<strong>step=1</strong>为正序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 逆序 start&gt;stop</span></span><br><span class="line">x_sub = x[<span class="number">4</span>:<span class="number">1</span>:-<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[4:1:-1]：&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[4:1:-1]： [-1, 5, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 逆序 start&lt;stop，则为空列表</span></span><br><span class="line">x_sub = x[<span class="number">1</span>:<span class="number">4</span>:-<span class="number">1</span>]</span><br><span class="line">print(<span class="string">&#x27;x[1:4:-1]：&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[1:4:-1]： []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里使用.format()格式输出的3个参数，第1个为start，</span></span><br><span class="line"><span class="comment"># 第2个为stop，第3个为逆序条件start&gt;stop?</span></span><br><span class="line">print(<span class="string">&#x27;逆序条件 start=&#123;&#125; &gt; stop=&#123;&#125;? &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span> &gt; <span class="number">4</span>))</span><br><span class="line"><span class="comment"># 逆序条件 start=1 &gt; stop=4? False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 缺省的step=1</span></span><br><span class="line">x_sub = x[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">print(<span class="string">&#x27;x[1:4]缺省step=1，为正序：&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[1:4]缺省step=1，为正序： [4, 2, 5]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 正序 start&lt;stop</span></span><br><span class="line">x_sub = x[<span class="number">1</span>:<span class="number">4</span>:<span class="number">2</span>]</span><br><span class="line">print(<span class="string">&#x27;x[1:4:2]：&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[1:4:2]： [4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正序 start&gt;stop，则为空列表</span></span><br><span class="line">x_sub = x[<span class="number">4</span>:<span class="number">1</span>:<span class="number">2</span>]</span><br><span class="line">print(<span class="string">&#x27;x[4:1:2]：&#x27;</span>, x_sub)</span><br><span class="line"><span class="comment"># x[4:1:2]： []</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;正序条件 start=&#123;&#125; &lt; stop=&#123;&#125;? &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">4</span>, <span class="number">1</span>, <span class="number">4</span> &lt; <span class="number">1</span>))</span><br><span class="line"><span class="comment"># 正序条件 start=4 &lt; stop=1? False</span></span><br></pre></td></tr></table></figure><h4 id="任务二：掌握逻辑位置转换公式"><a href="#任务二：掌握逻辑位置转换公式" class="headerlink" title="任务二：掌握逻辑位置转换公式"></a><em>任务二：掌握逻辑位置转换公式</em></h4><p>知识点：<strong>start</strong>和<strong>stop</strong>的逻辑位置转换公式</p><p><strong>负索引与正索引逻辑位置转换公式</strong>：负索引**-n<strong>等价于正索引</strong>len(x)-n<strong>，其中</strong>n**为正整数</p><p>例如，负索引**-1<strong>等价于正索引</strong>len(x)-1**</p><p>切片的<strong>start</strong>和<strong>stop</strong>和可以<strong>正负号混用</strong>(不建议)，但是一定要注意：</p><p>正序<strong>step&gt;0</strong>，要求<strong>start</strong>要位于<strong>stop</strong>的<strong>逻辑左边</strong>。所谓的<strong>逻辑左边</strong>，可以对负索引先用逻辑位置公式转换为对应的正索引，然后再判断是否满足`start</p><p>逆序<strong>step&lt;0**，要求**start**要位于**stop**的**逻辑右边**。所谓的**逻辑右边**，可以对负索引先用逻辑位置公式转换为对应的正索引，然后再判断是否满足**start&gt;stop</strong></p><p><strong>遇到切片中有负索引，建议先用逻辑位置公式转换为正索引</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 正序，start和stop为负值</span></span><br><span class="line">print(<span class="string">&#x27;x[-4:-1]：&#x27;</span>, x[-<span class="number">4</span>:-<span class="number">1</span>])</span><br><span class="line"><span class="comment"># x[-4:-1]： [-1, 4, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用逻辑位置转换公式len(x)-n</span></span><br><span class="line"><span class="comment"># 将负索引转换为正索引</span></span><br><span class="line">start = <span class="built_in">len</span>(x) - <span class="number">4</span></span><br><span class="line">stop = <span class="built_in">len</span>(x) - <span class="number">1</span></span><br><span class="line">print(<span class="string">&#x27;[len(x)-4 : len(x)-1]：&#x27;</span>, x[start:stop])</span><br><span class="line"><span class="comment"># [len(x)-4 : len(x)-1]： [-1, 4, 9]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 正负索引混用</span></span><br><span class="line">print(<span class="string">&#x27;x[1:-3:2]：&#x27;</span>, x[<span class="number">1</span>:-<span class="number">3</span>:<span class="number">2</span>])</span><br><span class="line"><span class="comment"># x[1:-3:2]： [4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用逻辑位置转换公式len(x)-n</span></span><br><span class="line"><span class="comment"># 将负索引转换为正索引</span></span><br><span class="line">stop = <span class="built_in">len</span>(x) - <span class="number">3</span></span><br><span class="line">print(<span class="string">&#x27;x[1:len(x)-3:2]：&#x27;</span>, x[<span class="number">1</span>:stop:<span class="number">2</span>])</span><br><span class="line"><span class="comment"># x[1:len(x)-3:2]： [4, 5]</span></span><br><span class="line">print(<span class="string">&#x27;正序条件 start=&#123;&#125; &lt; stop=&#123;&#125;? &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">1</span>, stop, <span class="number">1</span> &lt; stop))</span><br><span class="line"><span class="comment"># 正序条件 start=1 &lt; stop=5? True</span></span><br></pre></td></tr></table></figure><h3 id="6-2-6-遍历切片"><a href="#6-2-6-遍历切片" class="headerlink" title="6.2.6   遍历切片"></a>6.2.6   遍历切片</h3><h4 id="任务一：使用for遍历列表元素"><a href="#任务一：使用for遍历列表元素" class="headerlink" title="任务一：使用for遍历列表元素"></a><em>任务一：使用for遍历列表元素</em></h4><p>知识点：</p><p>切片的类型为列表<strong>list</strong>，也是可迭代对象，因此可以使用<strong>for</strong>来遍历它的元素</p><p>如果要遍历列表的部分元素，可在<strong>for</strong>循环中使用切片</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历切片x[:3]的元素</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> x[:<span class="number">3</span>]:</span><br><span class="line">   print(val, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 1 4 2</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, -<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment"># 遍历切片x[-1:4:-2]的元素</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> x[-<span class="number">1</span>:<span class="number">4</span>:-<span class="number">2</span>]:</span><br><span class="line">   print(val, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># 10 4</span></span><br></pre></td></tr></table></figure><h2 id="6-3-元组：不可变列表"><a href="#6-3-元组：不可变列表" class="headerlink" title="6.3   元组：不可变列表"></a>6.3   元组：不可变列表</h2><h3 id="6-3-1-元组的定义"><a href="#6-3-1-元组的定义" class="headerlink" title="6.3.1   元组的定义"></a>6.3.1   元组的定义</h3><h4 id="任务一：为何需要元组？"><a href="#任务一：为何需要元组？" class="headerlink" title="任务一：为何需要元组？"></a><em>任务一：为何需要元组？</em></h4><p>知识点：<strong>不可变</strong>数据集合的需求</p><p>列表适用于储存运行期间可以<strong>动态增、减、修改</strong>的数据集合</p><p>Python为列表提供了强大数据处理技术：元素添加和删除、排序、列表遍历、切片、列表推导式等</p><p>然而，有些场合需要提供<strong>不可变</strong>的数据集合，即其中的元素不能被增、减、修改等操作</p><p>在现实世界中，<strong>很多物体的属性也都是不可被修改</strong></p><p>比如课桌的长宽高，出厂之后是不变的</p><p>如果在程序运行中，对它们的属性进行修改，这是非法操作</p><p>为满足上述需求，Python专门设计了不可变的数据集合类型——元组(<strong>tuple</strong>)。相对于列表来说，元组是更简单和高效的数据结构。如果需要存储在整个程序生命周期内都不变的一组值，建议使用元组</p><h4 id="任务二：元组的定义"><a href="#任务二：元组的定义" class="headerlink" title="任务二：元组的定义"></a><em>任务二：元组的定义</em></h4><p>知识点：</p><p>Python的元组与列表功能类似，但是<strong>元组在创建之后，就永远不能被修改了</strong></p><p>标识：元组使用小括号**()<strong>，列表使用方括号</strong>[]**</p><p>元组创建：在<strong>小括号</strong>中添加元素，并使用逗号隔开，<strong>小括号可以被省略</strong>。例如：<strong>nums=(1,2,3)<strong>和</strong>nums=1,2,3</strong></p><p>元组类型：使用<strong>type()<strong>函数查看，类型为</strong>tuple</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用()的元组创建</span></span><br><span class="line">info_tuple = (<span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span>, <span class="number">1.75</span>)</span><br><span class="line">print(<span class="built_in">type</span>(info_tuple), info_tuple)</span><br><span class="line"><span class="comment"># &lt;class &#x27;tuple&#x27;&gt; (&#x27;zhangsan&#x27;, 18, 1.75)</span></span><br><span class="line"></span><br><span class="line">nums = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">print(<span class="built_in">type</span>(nums), nums)</span><br><span class="line"><span class="comment"># &lt;class &#x27;tuple&#x27;&gt; (1, 2, 3, 4)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不使用()的元组创建</span></span><br><span class="line">nums = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">print(<span class="built_in">type</span>(nums), nums)</span><br><span class="line"><span class="comment"># &lt;class &#x27;tuple&#x27;&gt; (1, 2, 3, 4)</span></span><br></pre></td></tr></table></figure><h4 id="任务三：创建空元组"><a href="#任务三：创建空元组" class="headerlink" title="任务三：创建空元组"></a><em>任务三：创建空元组</em></h4><p>知识点：</p><p>不包含任何元素的元组为空元组，用**()**表示</p><p><strong>info_tuple = ()</strong></p><h4 id="任务四：只含一个元素的元组创建"><a href="#任务四：只含一个元素的元组创建" class="headerlink" title="任务四：只含一个元素的元组创建"></a><em>任务四：只含一个元素的元组创建</em></h4><p>知识点：</p><p>对于只有<strong>一个元素的元组</strong>，为降低内存消耗，Python使用<strong>该元素原类型</strong>来代替元组。例如，**data = (123)**为数值类型。</p><p>要创建只含有一个元素的元组，在值后面跟必须一个逗号**,<strong>。例如，</strong>data = (123, )**为元组类型。</p><p>适用于带**()<strong>和不带</strong>()**的元组创建</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 虽带()，但是此时data并非元组</span></span><br><span class="line">data = (<span class="number">123</span>)</span><br><span class="line">print(<span class="built_in">type</span>(data), data)</span><br><span class="line"><span class="comment"># &lt;class &#x27;int&#x27;&gt; 123</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要在元素后跟`,`</span></span><br><span class="line">data = (<span class="number">123</span>, )</span><br><span class="line">print(<span class="built_in">type</span>(data), data)</span><br><span class="line"><span class="comment"># &lt;class &#x27;tuple&#x27;&gt; (123,)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不带()，也需要在元素后跟`,`</span></span><br><span class="line">data = <span class="number">123</span>,</span><br><span class="line">print(<span class="built_in">type</span>(data), data)</span><br><span class="line"><span class="comment"># &lt;class &#x27;tuple&#x27;&gt; (123,)</span></span><br></pre></td></tr></table></figure><h3 id="6-3-2-元组的基本操作与遍历"><a href="#6-3-2-元组的基本操作与遍历" class="headerlink" title="6.3.2   元组的基本操作与遍历"></a>6.3.2   元组的基本操作与遍历</h3><h4 id="任务：使用-访问元组元素"><a href="#任务：使用-访问元组元素" class="headerlink" title="任务：使用[]访问元组元素"></a><em>任务：使用<code>[]</code>访问元组元素</em></h4><p>知识点：</p><p>与列表一样，<strong>元组使用带[]的索引来访问元素</strong></p><p>第1个元素对应0索引</p><p>注意：虽然元组使用**()<strong>来标识，但是元组访问依然使用</strong>[]<strong>而不是</strong>()**</p><p>在Python中，**()<strong>主要用于函数调用，传递参数。位于</strong>()<strong>之前的一般都是函数名。例如</strong>print(‘hello’)**</p><p>知识点：</p><p>类似列表，元组的<strong>索引</strong>从<strong>0</strong>开始</p><p><strong>索引</strong>就是数据在<strong>元组</strong>中的位置编号</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 元组支持不同类型的元素</span></span><br><span class="line">data = (<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;python&#x27;</span>, <span class="number">4.12</span>)</span><br><span class="line">print(<span class="built_in">type</span>(data), data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 类似列表通过[]来索引元素，而非()。</span></span><br><span class="line">print(<span class="string">&#x27;data[0]: &#x27;</span>, data[<span class="number">0</span>])</span><br><span class="line">print(<span class="string">&#x27;data[2]: &#x27;</span>, data[<span class="number">2</span>])</span><br><span class="line">print(<span class="string">&#x27;使用data(2)来访问元组元素会出错！&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务二：元组的元素统计与索引获取"><a href="#任务二：元组的元素统计与索引获取" class="headerlink" title="任务二：元组的元素统计与索引获取"></a><em>任务二：元组的元素统计与索引获取</em></h4><p>知识点：</p><p>定义元组<strong>info = (“zhangsan”, 18, 1.75)</strong></p><p> <strong>len(元组变量)<strong>：返回</strong>元组长度</strong>，值为最大索引n + 1</p><p> <strong>元组变量.count(值)<strong>：返回某个元素在元组中出现的</strong>次数</strong></p><p><strong>元组变量[索引]<strong>：根据索引从元组中，获得</strong>元素</strong></p><p><strong>元组变量.index(值)<strong>：返回某个值第一次出现在元组的</strong>索引</strong></p><p>知识点：在<strong>Jupyter</strong>中，使用<strong>Tab</strong>智能联想元组类型提供的方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">info_tuple = (<span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span>, <span class="number">1.75</span>, <span class="string">&quot;zhangsan&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 取值和取索引</span></span><br><span class="line">print(info_tuple[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># 已经知道数据的内容，希望知道该数据在元组中的索引</span></span><br><span class="line">print(info_tuple.index(<span class="string">&quot;zhangsan&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 统计计数</span></span><br><span class="line">print(info_tuple.count(<span class="string">&quot;zhangsan&quot;</span>))</span><br><span class="line"><span class="comment"># 统计元组中包含元素的个数</span></span><br><span class="line">print(<span class="built_in">len</span>(info_tuple))</span><br></pre></td></tr></table></figure><h4 id="任务三：遍历元组元素"><a href="#任务三：遍历元组元素" class="headerlink" title="任务三：遍历元组元素"></a><em>任务三：遍历元组元素</em></h4><p>知识点：与列表一样，使用<strong>for-in</strong>循环来遍历元组的元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">info_tuple = (<span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span>, <span class="number">1.75</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用迭代遍历元组</span></span><br><span class="line"><span class="keyword">for</span> my_info <span class="keyword">in</span> info_tuple:</span><br><span class="line"></span><br><span class="line">   <span class="comment"># 使用格式字符串拼接 my_info 这个变量不方便！</span></span><br><span class="line">   <span class="comment"># 因为元组中通常保存的数据类型是不同的！</span></span><br><span class="line">   print(my_info, end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="6-3-3-元组的应用场景"><a href="#6-3-3-元组的应用场景" class="headerlink" title="6.3.3   元组的应用场景"></a>6.3.3   元组的应用场景</h3><h4 id="任务一：元组的主要应用场景"><a href="#任务一：元组的主要应用场景" class="headerlink" title="任务一：元组的主要应用场景"></a><em>任务一：元组的主要应用场景</em></h4><p>元组的3个主要的应用场景：</p><p><strong>函数的参数和返回值</strong>，一个函数可以接收<strong>任意多个参数</strong>，或者<strong>一次返回多个数据</strong>。有关<strong>函数的参数和返回值</strong>，会在后续<strong>函数</strong>章节详细讲解</p><p><strong>格式字符串</strong>，格式化字符串后面的**()**本质上就是一个元组</p><p><strong>让列表不可以被修改</strong>，以保护数据安全</p><h4 id="任务二：-字符串格式化"><a href="#任务二：-字符串格式化" class="headerlink" title="任务二：%字符串格式化"></a><em>任务二：%字符串格式化</em></h4><p>知识点：</p><p>字符串的格式化方法在开发中非常实用</p><p>使用**%<strong>操作符，可将元组中的内容，</strong>依次**填入到字符串占位符处</p><p>后续<strong>字符串</strong>章节会专门讲解关于字符串的格式化高阶用法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">info_tuple = (<span class="string">&quot;小明&quot;</span>, <span class="number">21</span>, <span class="number">1.85</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式化字符串后面的 `()` 本质上就是元组</span></span><br><span class="line">print(<span class="string">&quot;%s 年龄是 %d 身高是 %.2f&quot;</span> % info_tuple)</span><br><span class="line"><span class="comment"># 小明 年龄是 21 身高是 1.85</span></span><br><span class="line"></span><br><span class="line">info_str = <span class="string">&quot;%s 年龄是 %d 身高是 %.2f&quot;</span> % info_tuple</span><br><span class="line">print(info_str)</span><br><span class="line"><span class="comment"># 小明 年龄是 21 身高是 1.85</span></span><br></pre></td></tr></table></figure><h3 id="6-3-4-重要-元组的不可变性质"><a href="#6-3-4-重要-元组的不可变性质" class="headerlink" title="6.3.4   (重要) 元组的不可变性质"></a>6.3.4   (重要) 元组的不可变性质</h3><h4 id="任务一：元组的元素值不可被修改"><a href="#任务一：元组的元素值不可被修改" class="headerlink" title="任务一：元组的元素值不可被修改"></a><em>任务一：元组的元素值不可被修改</em></h4><p>知识点：</p><p>元组的元素值不能被修改，即不能进行增、减、删除等操作</p><p>语法错误：<strong>TypeError: ‘tuple’ object does not support item xxx</strong>。<strong>tuple</strong>对象不支持xxx操作</p><p>友情提醒：当出现语法错误，查看错误类型，尝试着自己根据错误提示来排除错误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data = (<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;python&#x27;</span>, <span class="number">4.12</span>)</span><br><span class="line"><span class="comment"># 不能修改元组的元素值</span></span><br><span class="line">data[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line"><span class="comment"># ----------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># TypeError                       Traceback (most recent call last)</span></span><br><span class="line"><span class="comment"># &lt;ipython-input-69-6bf349ffbb80&gt; in &lt;module&gt;</span></span><br><span class="line"><span class="comment">#       1 data = (1, &#x27;2&#x27;, &#x27;python&#x27;, 4.12)</span></span><br><span class="line"><span class="comment">#       2 # 不能修改元组的元素值</span></span><br><span class="line"><span class="comment"># ----&gt; 3 data[0] = 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TypeError: &#x27;tuple&#x27; object does not support item assignment</span></span><br><span class="line">data = (<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;python&#x27;</span>, <span class="number">4.12</span>)</span><br><span class="line"><span class="comment"># 不能删除元组的元素值</span></span><br><span class="line"><span class="keyword">del</span> data[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># ----------------------------------------------------------</span></span><br><span class="line"><span class="comment"># TypeError                        raceback (most recent call last)</span></span><br><span class="line"><span class="comment"># &lt;ipython-input-73-916a07140e78&gt; in &lt;module&gt;</span></span><br><span class="line"><span class="comment">#       1 data = (1, &#x27;2&#x27;, &#x27;python&#x27;, 4.12)</span></span><br><span class="line"><span class="comment">#       2 # 不能删除元组的元素值</span></span><br><span class="line"><span class="comment"># ----&gt; 3 del data[0]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TypeError: &#x27;tuple&#x27; object doesn&#x27;t support item deletion</span></span><br></pre></td></tr></table></figure><h4 id="任务二：元组变量允许被重新赋值"><a href="#任务二：元组变量允许被重新赋值" class="headerlink" title="任务二：元组变量允许被重新赋值"></a><em>任务二：元组变量允许被重新赋值</em></h4><p><strong>元组的元素值不能被修改，但是指向元组的变量可以被重新赋值</strong></p><p>知识点：</p><p>变量存的是指向具体元组数据的<strong>地址</strong>，而非存元组数据本身。回顾请看<strong>变量的内涵</strong></p><p>变量的重新赋值仅仅只是更换了一个地址，指向了新的数据空间，而<strong>并未对原元素数据做任何修改</strong></p><p>可以通过**id()**来查看变量赋值前后的所指向的地址是否发生变化</p><p>元组元素不可修改指的是元组的数据空间的元素值不能被修改</p><p><strong>因此，如果一定要修改元组的元素，可重新覆盖定义整个元组</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data = (<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;python&#x27;</span>, <span class="number">4.12</span>)</span><br><span class="line">print(<span class="string">&#x27;赋值前：&#x27;</span>, <span class="built_in">id</span>(data), data)</span><br><span class="line"><span class="comment"># 赋值前： 3057506924248 (1, &#x27;2&#x27;, &#x27;python&#x27;, 4.12)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对data进行重新赋值</span></span><br><span class="line">data = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">print(<span class="string">&#x27;赋值后：&#x27;</span>, <span class="built_in">id</span>(data), data)</span><br><span class="line"><span class="comment"># 赋值后： 3057505683640 (1, 2, 3)</span></span><br></pre></td></tr></table></figure><h4 id="任务三：元组和列表之间的转换"><a href="#任务三：元组和列表之间的转换" class="headerlink" title="任务三：元组和列表之间的转换"></a><em>任务三：元组和列表之间的转换</em></h4><p>知识点：</p><p>**list(元组)**：使用 <strong>list</strong> 函数可以把元组转换成列表</p><p>**tuple(列表)**：使用 <strong>tuple</strong> 函数可以把列表转换成元组</p><h3 id="6-3-5-重要-元组的解包和多个返回值函数"><a href="#6-3-5-重要-元组的解包和多个返回值函数" class="headerlink" title="6.3.5   (重要) 元组的解包和多个返回值函数"></a>6.3.5   (重要) 元组的解包和多个返回值函数</h3><h4 id="任务一：元组的解包"><a href="#任务一：元组的解包" class="headerlink" title="任务一：元组的解包"></a><em>任务一：元组的解包</em></h4><p>知识点：</p><p>通过解包可以对<strong>元组的元素进行拆分</strong>，并刻赋值给多个变量</p><p><strong>左边被赋值的变量个数</strong>必须和元组元素个数相同，否则出现解包错误。<strong>ValueError: too many values to unpack</strong></p><p>通过**len()**查看元组元素个数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data = (<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;python&#x27;</span>, <span class="number">4.12</span>)</span><br><span class="line">print(data)</span><br><span class="line"><span class="comment"># (1, &#x27;2&#x27;, &#x27;python&#x27;, 4.12)</span></span><br><span class="line"></span><br><span class="line">x1, x2, x3, x4 = data</span><br><span class="line">print(<span class="string">&#x27;元组解包：&#x27;</span>, x1, x2, x3, x4)</span><br><span class="line"><span class="comment"># 元组解包： 1 2 python 4.12</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 元组元素个数必须等于赋值变量个数</span></span><br><span class="line">print(<span class="string">&#x27;len(data)：&#x27;</span>, <span class="built_in">len</span>(data))</span><br><span class="line"><span class="comment"># len(data)： 4</span></span><br><span class="line"></span><br><span class="line">x1, x2 = data</span><br><span class="line">print(<span class="string">&#x27;元组解包：&#x27;</span>, x1, x2)</span><br><span class="line"><span class="comment"># ----------------------------------------------------------</span></span><br><span class="line"><span class="comment"># ValueError                    Traceback (most recent call last)</span></span><br><span class="line"><span class="comment"># &lt;ipython-input-75-d5e254368fc9&gt; in &lt;module&gt;</span></span><br><span class="line"><span class="comment">#       2 print(&#x27;len(data)：&#x27;, len(data))</span></span><br><span class="line"><span class="comment">#       3</span></span><br><span class="line"><span class="comment"># ----&gt; 4 x1, x2 = data</span></span><br><span class="line"><span class="comment">#       5 print(&#x27;元组解包：&#x27;, x1, x2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ValueError: too many values to unpack (expected 2)</span></span><br></pre></td></tr></table></figure><h4 id="任务二：使用元组的解包接受多个函数返回值"><a href="#任务二：使用元组的解包接受多个函数返回值" class="headerlink" title="任务二：使用元组的解包接受多个函数返回值"></a><em>任务二：使用元组的解包接受多个函数返回值</em></h4><p>知识点(补充知识)： <strong>函数传递多个返回值</strong></p><p>在C++中，函数允许最多传回一个返回值，否则<strong>会出错</strong></p><p>在Python中，通过<strong>元组</strong>可以实现传递函数的多个返回值功能。对函数的多个返回值使用<strong>元组</strong>进行<strong>打包</strong>，然后在函数调用之处进行<strong>解包</strong>赋值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#观察divmod()函数</span></span><br><span class="line"><span class="comment"># 返回值：商和余数，被打包在一个元组</span></span><br><span class="line">print(<span class="built_in">divmod</span>(<span class="number">15</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment"># (7, 1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过元组解包，接受函数的多个返回值</span></span><br><span class="line">x, y = <span class="built_in">divmod</span>(<span class="number">15</span>, <span class="number">2</span>)</span><br><span class="line">print(<span class="string">&#x27;divmod(15, 2)，商：&#123;&#125;，余数：&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(x, y))</span><br><span class="line"><span class="comment"># divmod(15, 2)，商：7，余数：1</span></span><br></pre></td></tr></table></figure><h4 id="任务三：定义拥有多个返回值的函数"><a href="#任务三：定义拥有多个返回值的函数" class="headerlink" title="任务三：定义拥有多个返回值的函数"></a><em>任务三：定义拥有多个返回值的函数</em></h4><p>知识点：定义拥有多个返回值的函数</p><p>元组可以包含多个数据，因此可以使用元组让函数一次返回多个值</p><p>类似于元组的创建，函数的返回值如果是元组，那么小括号**()**可以省略</p><p><strong>函数的用法后续章节会详细讲解</strong>，这里仅为了深入地讲解元组的封包和解包功能</p><p>函数定义语法：<strong>def 函数名(用逗号,隔开的形参):</strong></p><p>冒号**:**不要忘记，后面紧跟着的是被缩进的语句块</p><p><strong>def</strong>为函数定义的关键字</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义函数, 有多个返回值(返回元组)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">measure</span>():</span>  </span><br><span class="line">   print(<span class="string">&quot;测量开始...&quot;</span>)</span><br><span class="line">   <span class="comment"># 两个值的输入可以使用input()</span></span><br><span class="line">   hight = <span class="number">1.8</span></span><br><span class="line">   weight = <span class="number">60</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment"># return (hight, weight)</span></span><br><span class="line">   <span class="comment"># 小括号可以省略</span></span><br><span class="line">   <span class="keyword">return</span> hight, weight</span><br></pre></td></tr></table></figure><h4 id="任务四：函数的多个返回值处理"><a href="#任务四：函数的多个返回值处理" class="headerlink" title="任务四：函数的多个返回值处理"></a><em>任务四：函数的多个返回值处理</em></h4><p>知识点：函数的多个返回值处理：</p><p>方式1：使用一个变量直接接受函数返回的元组，然后再通过索引方式来访问元组元素</p><p>方式2：使用多个变量直接对函数返回值进行解包</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方式1：用一个变量接受函数返回的元组</span></span><br><span class="line">result = measure()</span><br><span class="line">print(result) <span class="comment"># (1.8, 60)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要单独的处理身高或体重 - 不方便</span></span><br><span class="line">print(result[<span class="number">0</span>]) <span class="comment"># 1.8</span></span><br><span class="line">print(result[<span class="number">1</span>]) <span class="comment"># 60</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方式2：可使用多个变量，一次接收函数的返回结果</span></span><br><span class="line"><span class="comment"># 使用多个变量接收时，变量个数必须和函数返回的个数保持一致</span></span><br><span class="line">res_height, res_weight = measure()</span><br><span class="line"></span><br><span class="line">print(res_height) <span class="comment"># 1.8</span></span><br><span class="line">print(res_weight) <span class="comment"># 60</span></span><br></pre></td></tr></table></figure><h3 id="6-3-6-实例：利用元组实现变量值的交换"><a href="#6-3-6-实例：利用元组实现变量值的交换" class="headerlink" title="6.3.6   实例：利用元组实现变量值的交换"></a>6.3.6   实例：利用元组实现变量值的交换</h3><h4 id="任务一：两个变量值的交换"><a href="#任务一：两个变量值的交换" class="headerlink" title="任务一：两个变量值的交换"></a><em>任务一：两个变量值的交换</em></h4><p>变量值的相互交换在设计排序算法中，非常重要。下面介绍3种值交换方式，前面两种适用于任何语言，最后种为Python独有</p><p><strong>方式1</strong>：引入额外的其他变量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">6</span></span><br><span class="line">y = <span class="number">100</span></span><br><span class="line">print(<span class="string">&#x27;交换前&#x27;</span>, x, y) <span class="comment"># 交换前 6 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式1：使用其他变量</span></span><br><span class="line">z = x</span><br><span class="line">x = y</span><br><span class="line">y = z</span><br><span class="line">print(<span class="string">&#x27;交换后&#x27;</span>, x, y) <span class="comment"># 交换后 100 6</span></span><br></pre></td></tr></table></figure><p><strong>方式2</strong>：使用算术运算，仅适用于数值类型的变量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">6</span></span><br><span class="line">y = <span class="number">100</span></span><br><span class="line">print(<span class="string">&#x27;交换前&#x27;</span>, x, y) <span class="comment"># 交换前 6 100</span></span><br><span class="line">x = x + y</span><br><span class="line">y = x - y</span><br><span class="line">x = x - y</span><br><span class="line">print(<span class="string">&#x27;交换后&#x27;</span>, x, y) <span class="comment"># 交换后 100 6</span></span><br></pre></td></tr></table></figure><p><strong>方式3</strong>：使用元组的<strong>封包和解包</strong>操作(Python独有)。可以省略等号创建元组可以省略**()**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">6</span></span><br><span class="line">y = <span class="number">100</span></span><br><span class="line">print(<span class="string">&#x27;交换前&#x27;</span>, x, y) <span class="comment"># 交换前 6 100</span></span><br><span class="line">y, x = (x, y)</span><br><span class="line">print(<span class="string">&#x27;交换后&#x27;</span>, x, y) <span class="comment"># 交换后 100 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等号右边是一个元组，可以直接省略()</span></span><br><span class="line">y, x = x, y</span><br><span class="line">print(<span class="string">&#x27;再次交换后&#x27;</span>, x, y) <span class="comment"># 再次交换后 6 100</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210513000137970.png&quot; alt=&quot;image-20210513000137970&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记5</title>
    <link href="http://waxll.top/2021/06/17/py5.html"/>
    <id>http://waxll.top/2021/06/17/py5.html</id>
    <published>2021-06-16T16:26:28.000Z</published>
    <updated>2021-06-16T16:28:01.993Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210421205433759.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210421205433759.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210421205433759"></p><span id="more"></span><h1 id="第五章-列表：遍历"><a href="#第五章-列表：遍历" class="headerlink" title="第五章 列表：遍历"></a>第五章 列表：遍历</h1><h2 id="遍历整个列表"><a href="#遍历整个列表" class="headerlink" title="遍历整个列表"></a>遍历整个列表</h2><h3 id="为何需要循环"><a href="#为何需要循环" class="headerlink" title="为何需要循环"></a>为何需要循环</h3><h4 id="任务：为何需要循环？"><a href="#任务：为何需要循环？" class="headerlink" title="任务：为何需要循环？"></a>任务：为何需要循环？</h4><p>假设有一个班级名单(列表)，需要将其中每个同学名字都打印出来，并对他/她说一句问候语。按之前学到的Python知识，可以<strong>分别地(依次)获取名单中的每个名字</strong>，但这种做法会导致多个问题：</p><ul><li>如果名单很长，为每个人写问候语，<strong>将包含大量重复的代码</strong>。</li><li>列表可以动态增减，每当名单的长度发生变化时，都必须对代码进行增减，不易维护。</li><li>重复性的工作。</li></ul><blockquote><p>为解决上述问题，需要使用循环技术。</p><p><strong>循环</strong>让我们可以<strong>对列表的每个元素都采取一系列相同(重复性)的操作</strong>，从而高效地处理任何长度的列表，包括包含数千乃至数百万个元素的列表。</p></blockquote><h4 id="任务：掌握for循环语法"><a href="#任务：掌握for循环语法" class="headerlink" title="任务：掌握for循环语法"></a>任务：掌握for循环语法</h4><blockquote><p>知识点：</p><ul><li><strong>遍历</strong>就是<strong>从头到尾依次</strong>从<strong>列表</strong>中获取数据(元素)，然后在<strong>循环体内部</strong>对<strong>每个元素</strong>执行<strong>相同操作</strong>。</li><li>为实现<strong>遍历</strong>，Python引入<code>for</code>循环(for-each)机制。</li><li>为了提高列表的遍历效率，Python专门提供了迭代器<code>iteration</code>来实现遍历功能。关于迭代器后续会讲解，这里仅作了解。</li></ul></blockquote><blockquote><p>知识点：<code>for</code>循环语法。</p><ul><li><p>描述： <code>for</code>循环用于迭代/遍历序列对象（即列表，元组，字典或字符串）。通过使用<code>for</code>循环，可以对序列中的每个元素执行一系列重复的语句/操作。</p></li><li><p>语法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for item in sequence:</span><br><span class="line">   statements(item)</span><br><span class="line">  </span><br><span class="line">for 临时变量 in 序列对象(比如列表):</span><br><span class="line">   循环体语句块(必须相同的缩进)        </span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><p>知识点(术语)：何谓<strong>迭代</strong>？</p><ul><li>迭代：每运行一次循环体<code>statements</code>，称<strong>迭代一次</strong>。</li><li>迭代次数：循环共运行了几次。</li><li>迭代条件：满足循环的条件。</li></ul></blockquote><h4 id="任务：列表的应用场合分析"><a href="#任务：列表的应用场合分析" class="headerlink" title="任务：列表的应用场合分析"></a>任务：列表的应用场合分析</h4><blockquote><p>知识点：</p><ul><li><p>尽管 <code>Python</code> <strong>列表</strong>中可以<strong>存储不同类型的数据</strong>。</p></li><li><p>但是在开发中，更多的应用场景是</p></li><li><ol><li><strong>列表</strong>存储<strong>相同类型</strong>的数据。</li><li>通过<strong>迭代遍历</strong>，在循环体内部，针对列表中的每一项元素，执行相同的操作。</li></ol></li></ul></blockquote><h3 id="深入列表for循环"><a href="#深入列表for循环" class="headerlink" title="深入列表for循环"></a>深入列表for循环</h3><h4 id="任务：for循环的注意事项"><a href="#任务：for循环的注意事项" class="headerlink" title="任务：for循环的注意事项"></a>任务：for循环的注意事项</h4><blockquote><p><code>for</code>循环注意事项：</p><ul><li>在循环体语句块中，执行重复代码。</li><li>C++或Java使用<code>&#123; &#125;</code>来管理语句块，所以他们对缩进不敏感。</li><li><strong>Python敏感于代码缩进。它通过代码缩进，来管理和识别语句块。</strong></li><li><strong>同个语句块代码需要采用相同的缩进量</strong>，如果不恰当的使用缩进，将会报错。</li><li>请善用代码排版插件小锤子。</li><li>这种遍历适用于任何序列对象(不局限于列表)。</li></ul></blockquote><h4 id="任务：循环通过缩进标识循环体"><a href="#任务：循环通过缩进标识循环体" class="headerlink" title="任务：循环通过缩进标识循环体"></a>任务：循环通过缩进<strong>标识</strong>循环体</h4><p>在程序设计中，循环是一项非常重要的技术，因为它可以让计算机自动完成重复工作。</p><blockquote><p><strong>知识点</strong>：</p><ul><li><p>循环意义：在每次迭代过程中，依次从<strong>列表</strong><code>numbers</code>中取出元素，并赋值给临时变量(局部)<code>val</code>，然后再对每个<code>val</code>执行相应的操作。</p></li><li><p>Python循环语法：<strong>循环体</strong>通过<strong>缩进</strong>被Python解释器识别。</p></li><li><ul><li>循环体的前后，<strong>多敲一个回车空行</strong>。</li><li>通过循环体内与循环体外的相对缩进，<strong>来标识循环语句块</strong>。</li></ul></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;----求解列表元素之和----&#x27;</span>)</span><br><span class="line">numbers = [<span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">11</span>]</span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环前后多敲空格</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> numbers:</span><br><span class="line">   <span class="built_in">sum</span> = <span class="built_in">sum</span> + val</span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环体之外语句不缩进</span></span><br><span class="line">print(<span class="string">&quot;The sum is&quot;</span>, <span class="built_in">sum</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#----求解列表元素之和----</span></span><br><span class="line"><span class="comment">#The sum is 48</span></span><br></pre></td></tr></table></figure><h4 id="任务：for循环的临时变量为局部变量"><a href="#任务：for循环的临时变量为局部变量" class="headerlink" title="任务：for循环的临时变量为局部变量"></a>任务：for循环的临时变量为局部变量</h4><blockquote><p>知识点：</p><ul><li>在循环体中，<strong>对循环体内的局部变量进行修改，不会影响原列表的元素值</strong>。</li><li>例如，<code>for val in numbers:</code>对<code>val</code>进行修改，不影响<code>numbers</code>的值。</li><li><code>val</code>是局部变量，作用域只限制于循环体。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">11</span>]</span><br><span class="line">print(<span class="string">&#x27;循环前:&#x27;</span>, numbers)</span><br><span class="line"></span><br><span class="line"><span class="comment">#val为局部变量</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> numbers:</span><br><span class="line">   val = val + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;循环后:&#x27;</span>, numbers)</span><br><span class="line"></span><br><span class="line"><span class="comment">#循环前: [6, 5, 3, 8, 4, 2, 5, 4, 11]</span></span><br><span class="line"><span class="comment">#循环后: [6, 5, 3, 8, 4, 2, 5, 4, 11]</span></span><br></pre></td></tr></table></figure><h4 id="任务：通过临时变量实现批量运算"><a href="#任务：通过临时变量实现批量运算" class="headerlink" title="任务：通过临时变量实现批量运算"></a>任务：通过临时变量实现批量运算</h4><blockquote><p>知识点：</p><ul><li>循环的目的是对一组数据实现<strong>批量重复性操作</strong>。</li><li>在循环体内，通过对局部变量进行运算和操作，对列表元素实现<strong>批量地重复性操作</strong>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过临时变量name实现对列表元素批量操作</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">   print(<span class="string">&#x27;Hello, &#x27;</span> + name.title() + <span class="string">&#x27;!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;打印结束！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Hello, Alice!</span></span><br><span class="line"><span class="comment">#Hello, David!</span></span><br><span class="line"><span class="comment">#Hello, Carolina!</span></span><br><span class="line"><span class="comment">#打印结束！</span></span><br></pre></td></tr></table></figure><p><strong>代码解析</strong>：</p><ul><li>首先，定义了一个列表。</li><li>接下来，定义一个<code>for</code>循环；这行代码让Python从列表<code>names</code>中取出一个名字，并将其存储在变量<code>name</code>中。</li><li>最后，让Python打印前面存储到变量<code>name</code>中的名字。这样，对于列表中的每个名字，Python都将重复执行循环体代码。</li></ul><h3 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h3><h4 id="第一题"><a href="#第一题" class="headerlink" title="第一题"></a>第一题</h4><p>题目要求：</p><ul><li>创建字符串”hello, python”，遍历打印每个字符。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">massage=<span class="string">&quot;hello,python&quot;</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> massage:</span><br><span class="line">    print(val,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h e l l o , p y t h o n </span><br></pre></td></tr></table></figure><h4 id="第二题"><a href="#第二题" class="headerlink" title="第二题"></a>第二题</h4><p>题目要求：</p><ul><li>输入一个水果的列表，遍历打印每种水果。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FruitsList=[<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;banana&quot;</span>,<span class="string">&quot;pear&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> FruitsList:</span><br><span class="line">    print(val)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apple</span><br><span class="line">banana</span><br><span class="line">pear</span><br></pre></td></tr></table></figure><h3 id="for循环体包含多条语句"><a href="#for循环体包含多条语句" class="headerlink" title="for循环体包含多条语句"></a>for循环体包含多条语句</h3><h4 id="任务：for循环体使用多条语句"><a href="#任务：for循环体使用多条语句" class="headerlink" title="任务：for循环体使用多条语句"></a>任务：for循环体使用多条语句</h4><p>之前的循环体都是一行代码，在本节将循环体扩展为<strong>多行</strong>。在<code>for</code>循环中，可对每个元素执行任何操作。</p><blockquote><p>知识点：</p><ul><li>Python解释器<strong>使用缩进来判断循环体语句块</strong>的范围。</li><li>从<code>for</code>的声明之后到遇到第一个与<code>for</code>同级别缩进的语句。</li><li>例如，在<code>for name in names</code>后面，<strong>每个缩进的代码行都是循环体部分，这部分的代码将针对列表中的元素都执行一次</strong>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">   <span class="comment"># print()在输入末尾默认插入换行符。</span></span><br><span class="line">   print(name.upper() + <span class="string">&quot;, that was a great trick!&quot;</span>)</span><br><span class="line"></span><br><span class="line">   print(name.lower() + <span class="string">&quot;, that was a great trick!&quot;</span>)</span><br><span class="line">   <span class="comment"># 换行符\n在每次迭代结束后都额外插入一个空行。</span></span><br><span class="line">   print(<span class="string">&quot;Thanks for your show, &quot;</span> + name.title() + <span class="string">&quot;.\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;循环之外&#x27;</span>) <span class="comment">#与for同级别的缩进，循环之外的语句。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-------输出--------</span></span><br><span class="line"><span class="comment"># ALICE, that was a great trick!</span></span><br><span class="line"><span class="comment"># alice, that was a great trick!</span></span><br><span class="line"><span class="comment"># Thanks for your show, Alice.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># DAVID, that was a great trick!</span></span><br><span class="line"><span class="comment"># david, that was a great trick!</span></span><br><span class="line"><span class="comment"># Thanks for your show, David.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CAROLINA, that was a great trick!</span></span><br><span class="line"><span class="comment"># carolina, that was a great trick!</span></span><br><span class="line"><span class="comment"># Thanks for your show, Carolina.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环之外</span></span><br></pre></td></tr></table></figure><h3 id="for循环结束的标志（易错）"><a href="#for循环结束的标志（易错）" class="headerlink" title="for循环结束的标志（易错）"></a>for循环结束的标志（易错）</h3><h4 id="任务：for循环结束标志"><a href="#任务：for循环结束标志" class="headerlink" title="任务：for循环结束标志"></a>任务：for循环结束标志</h4><p><code>for</code>循环结束后再怎么做呢？通常，<strong>需要提供总结性输出或接着执行程序必须完成的其他任务</strong>。</p><blockquote><p>知识点：与<code>for</code>同级别缩进的代码不属于循环体代码，它们只执行一次，而不会重复执行。</p></blockquote><p>例子：首先在循环体为每个成员打印2条消息；然后，在循环结束之后，输出1条总结性的消息，需要将相应的代码放在与<code>for</code>同级别缩进处：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">   <span class="comment"># 两条print语句针对列表中每位成员重复执行</span></span><br><span class="line">   print(name.title() + <span class="string">&quot;, that was a great trick!&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;Thanks for your show, &quot;</span> + name.title() + <span class="string">&quot;.\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第三条print语句没有缩进，因此只执行一次</span></span><br><span class="line">print(<span class="string">&quot;Thank you, everyone. That was a great show!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---- 输出 ----</span></span><br><span class="line"><span class="comment"># Alice, that was a great trick!</span></span><br><span class="line"><span class="comment"># Thanks for your show, Alice.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># David, that was a great trick!</span></span><br><span class="line"><span class="comment"># Thanks for your show, David.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Carolina, that was a great trick!</span></span><br><span class="line"><span class="comment"># Thanks for your show, Carolina.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Thank you, everyone. That was a great show!</span></span><br></pre></td></tr></table></figure><h4 id="任务：循环体通过缩进进行标识"><a href="#任务：循环体通过缩进进行标识" class="headerlink" title="任务：循环体通过缩进进行标识"></a>任务：循环体通过<strong>缩进</strong>进行标识</h4><blockquote><p><strong>知识点</strong>：多重循环，用缩进来识别每重<code>for</code>的循环体语句块范围。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> val1 <span class="keyword">in</span> numbers: <span class="comment">#外层循环</span></span><br><span class="line">   <span class="keyword">for</span> val2 <span class="keyword">in</span> numbers: <span class="comment">#内层循环</span></span><br><span class="line">       print(val1*val2, end = <span class="string">&#x27; &#x27;</span>) <span class="comment">#内循环语句</span></span><br><span class="line">   print(<span class="string">&#x27;&#x27;</span>) <span class="comment">#外循环语句</span></span><br></pre></td></tr></table></figure><p>代码解析：</p><ul><li><p>两个嵌套的<code>for</code>循环。过程类似于C语言。</p></li><li><p>外层循环体包括：整个内层循环+<code>print(&#39;&#39;)</code>。</p></li><li><p>程序步骤如下：</p></li><li><ul><li>首先，在外层循环取列表<code>numbers</code>第一个元素1赋值给<code>val1</code>。</li><li>然后，进入内层循环，依次取列表<code>numbers</code>赋值给<code>val2</code>。并执行内层循环体<code>print(val1*val2, end = &#39; &#39;)</code>。</li><li>内层循环结束后，返回到外层循环，执行<code>print(&#39;&#39;)</code>。</li><li>此时，外层循环被完整地执行一次。Python再次检测<strong>外循环是否遍历完所有元素</strong>，如果否则再次执行循环。</li></ul></li><li><p><code>print()</code>中的<code>end</code>参数：在输出的结尾加入一个<code>end</code>字符，默认为换行符。<code>end = &#39; &#39;</code>表示<code>print()</code>函数最后输出加``空格符。各位可以参数修改<code>end</code>参数，观察结果。</p></li><li><p><code>print(&#39;&#39;)</code>：输出<strong>换行</strong>。因为<code>end</code>参数的默认值是换行符。输出空字符，则代表对当前输出进行换行。</p></li></ul><h3 id="习题-1"><a href="#习题-1" class="headerlink" title="习题"></a>习题</h3><h4 id="第三题"><a href="#第三题" class="headerlink" title="第三题"></a>第三题</h4><p>题目要求：</p><p>想出至少三种你喜欢的比萨，将其名称存储在一个列表中，再使用<code>for</code>循环将每种比萨的名称都打印出来。</p><ul><li>修改这个<code>for</code>循环，使其打印包含比萨名称的句子，而不仅仅是比萨的名称。对于每种比萨，都显示一行输出，如“I like pepperoni pizza”。</li><li>在程序的循环结束后，添加一行代码，输出总结性的语句，如“I really love pizza!”。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PizzaList=[<span class="string">&quot;pepperoni&quot;</span>,<span class="string">&quot;Chicago-Style&quot;</span>,<span class="string">&quot;California-style&quot;</span>,<span class="string">&quot;Bar&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> PizzaList:</span><br><span class="line">    print(val)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> PizzaList:</span><br><span class="line">    print(<span class="string">&quot;I like &quot;</span>+val+<span class="string">&quot; pizza&quot;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;I really love pizza!&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pepperoni</span><br><span class="line">Chicago-Style</span><br><span class="line">California-style</span><br><span class="line">Bar</span><br><span class="line">I like pepperoni pizza</span><br><span class="line">I like Chicago-Style pizza</span><br><span class="line">I like California-style pizza</span><br><span class="line">I like Bar pizza</span><br><span class="line">I really love pizza!</span><br></pre></td></tr></table></figure><h4 id="第四题"><a href="#第四题" class="headerlink" title="第四题"></a>第四题</h4><p>题目要求：</p><ul><li>想出至少三种有共同特征的动物，将这些动物的名称存储在一个列表中，再使用<code>for</code>循环将每种动物的名称都打印出来。<ul><li>修改这个程序，使其针对每种动物都打印一个句子，如“A dog would make a great pet”。</li><li>在程序末尾添加一行代码，指出这些动物的共同之处，如打印诸如“Any of these animals would make a great pet!”这样的句子。</li></ul></li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AnimalList=[<span class="string">&quot;dog&quot;</span>,<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;bird&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> AnimalList:</span><br><span class="line">    print(val)</span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> AnimalList:</span><br><span class="line">    print(<span class="string">&#x27;A &#x27;</span>+val+<span class="string">&#x27; would make g great&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;Any of these animals would make a great pet!&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dog</span><br><span class="line">cat</span><br><span class="line">bird</span><br><span class="line">A dog would make g great</span><br><span class="line">A cat would make g great</span><br><span class="line">A bird would make g great</span><br><span class="line">Any of these animals would make a great pet!</span><br></pre></td></tr></table></figure><h2 id="常见的缩进错误"><a href="#常见的缩进错误" class="headerlink" title="常见的缩进错误"></a>常见的缩进错误</h2><p>知识点：</p><ul><li><p>Python根据缩进来判断代码行与前一个代码行的关系。</p></li><li><ul><li>比如<code>for</code>循环用缩进来识别语句块范围。</li><li>同样适用于后的<code>while</code>循环、<code>if</code>判断、<code>def</code>函数和<code>class</code>类的定义等。</li></ul></li><li><p>正确的使用Python的缩进技术，非常重要。</p></li><li><p>Python通过使用缩进让代码更易读；简单地说，<strong>它要求你使用缩进让代码整洁而结构清晰</strong>。</p></li><li><p>通过代码不同程度的缩进，可以快速的掌握程序的组织结构。</p></li></ul><h4 id="任务：忘记缩进-错误"><a href="#任务：忘记缩进-错误" class="headerlink" title="任务：忘记缩进(错误)"></a>任务：忘记缩进(错误)</h4><blockquote><p><strong>知识点</strong>：</p><ul><li>对于位于<code>for</code>语句<code>:</code>之后循环体代码，<strong>一定要缩进</strong>。</li><li>如果忘记缩进，Python解释器将会提示错误。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;------for循环语句块必须要至少一行代码------&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">print(name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#   File &quot;&lt;ipython-input-3-bec157200367&gt;&quot;, line 4</span></span><br><span class="line"><span class="comment">#     print(name)</span></span><br><span class="line"><span class="comment">#         ^</span></span><br><span class="line"><span class="comment"># IndentationError: expected an indented block</span></span><br></pre></td></tr></table></figure><h4 id="任务：忘记缩进额外的代码行-错误"><a href="#任务：忘记缩进额外的代码行-错误" class="headerlink" title="任务：忘记缩进额外的代码行(错误)"></a>任务：忘记缩进额外的代码行(错误)</h4><blockquote><p><strong>知识点</strong>：</p><ul><li>解释器<strong>只检测<code>for</code>语句头之后的第一句是否缩进。</strong> </li><li>非第一句的循环体语句，Python无法检测，这将会发生<strong>逻辑错误</strong>：<strong>代码可以运行，结果出乎意料</strong>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">   print(name.title() + <span class="string">&quot;, that was a great trick!&quot;</span>)</span><br><span class="line"><span class="comment"># 不检测for第一句之后的语句是否缩进</span></span><br><span class="line">print(<span class="string">&quot;Thanks for your show, &quot;</span> + name.title() + <span class="string">&quot;.\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Alice, that was a great trick!</span></span><br><span class="line"><span class="comment"># David, that was a great trick!</span></span><br><span class="line"><span class="comment"># Carolina, that was a great trick!</span></span><br><span class="line"><span class="comment"># Thanks for your show, Carolina.</span></span><br></pre></td></tr></table></figure><p>程序解析：</p><ul><li>第二条<code>print</code>语句原本需要缩进，但Python发现<code>for</code>语句后面有一行代码是缩进的，因此它没有报告错误。</li><li>程序结果是，对于列表中的成员，都执行了第一条<code>print</code>语句，因为它缩进了；而第二条<code>print</code>语句没有缩进，因此它只在循环结束后执行一次。</li><li>由于变量<code>name</code>的终值为<code>&#39;carolina&#39;</code>，因此只有她收到了消息“Thanks for your show, Carolina.”。</li></ul><h4 id="任务：非语句块的不必要缩进-错误"><a href="#任务：非语句块的不必要缩进-错误" class="headerlink" title="任务：非语句块的不必要缩进(错误)"></a>任务：非语句块的不必要缩进(错误)</h4><blockquote><p><strong>知识点</strong>：</p><ul><li><p><strong>非循环体(代码块)的代码不要缩进</strong>，否则将会发生语法或逻辑错误。</p></li><li><p><strong>代码块标志</strong>是什么？</p></li><li><ul><li>在冒号<code>:</code>之后，需要用<strong>缩进</strong>来标识代码块范围。</li><li>代码块范围：冒号<code>:</code>之后代码 到 第一行与<code>for</code>同级别缩进的代码。 </li><li>为优雅的区分代码块代码，<strong>请在代码块结束后多加一个换行</strong>。</li></ul></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">&quot;Hello Python world!&quot;</span></span><br><span class="line">print(<span class="string">&#x27;------------不在代码块中的代码不允许缩进--------&#x27;</span>)</span><br><span class="line">   print(message) <span class="comment"># 非语句块的缩进，将会发生错误</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#   File &quot;&lt;ipython-input-5-7b2c6f3f0548&gt;&quot;, line 3</span></span><br><span class="line"><span class="comment">#     print(message)</span></span><br><span class="line"><span class="comment">#     ^</span></span><br><span class="line"><span class="comment"># IndentationError: unexpected indent</span></span><br></pre></td></tr></table></figure><h4 id="任务：同一级别的代码必须使用统一缩进"><a href="#任务：同一级别的代码必须使用统一缩进" class="headerlink" title="任务：同一级别的代码必须使用统一缩进"></a>任务：同一级别的代码必须使用统一缩进</h4><blockquote><p><strong>知识点</strong>：<strong>同一级别代码的缩进规则</strong>。</p><ul><li><p>允许：同一级别的代码必须要<strong>采用统一的缩进</strong>，不管缩进多少个空格。</p></li><li><p>不允许：但Python<strong>不允许它们采用不同统一缩进</strong>。</p></li><li><ul><li>建议第一级别的代码顶格写，<strong>之后凡是遇到语句块再依次缩进</strong>。</li><li>比如二重循环，第二层循环语句块<strong>需要缩进两个级别</strong>。</li></ul></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   print(<span class="string">&quot;允许同一级别的代码都采用统一的缩进&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;允许同一级别的代码都采用统一的缩进&quot;</span>)</span><br><span class="line"></span><br><span class="line">--------------------------------------------</span><br><span class="line">允许同一级别的代码都采用统一的缩进</span><br><span class="line">允许同一级别的代码都采用统一的缩进</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> print(<span class="string">&quot;不允许同一级别的代码采用不同统一的缩进&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;不允许同一级别的代码采用不同统一的缩进&quot;</span>)</span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line">  File <span class="string">&quot;&lt;ipython-input-27-d5097ab6b28d&gt;&quot;</span>, line <span class="number">2</span></span><br><span class="line">    print(<span class="string">&quot;允许同一级别的代码都采用统一的缩进&quot;</span>)</span><br><span class="line">    ^</span><br><span class="line">IndentationError: unexpected indent</span><br></pre></td></tr></table></figure><p>第一个代码块，代码虽然不顶格，但是同一级别采用相同缩进方式，所以代码可以正常运行；第二代码块，将会触发缩进错误。</p><h4 id="任务：语句块之后不必要的缩进-错误"><a href="#任务：语句块之后不必要的缩进-错误" class="headerlink" title="任务：语句块之后不必要的缩进(错误)"></a>任务：语句块之后不必要的缩进(错误)</h4><blockquote><p><strong>知识点</strong>：</p><ul><li>循环体语句块之后的代码，<strong>如果不恰当的使用了缩进，Python将会视它为语句块代码</strong>，将会发生语法错误或逻辑错误。</li><li>有些缩进问题是<strong>语法错误</strong>，Python解释器会报<strong>错误</strong>，可通过报错代码，找到出错原因。</li><li>但是很多缩进问题是<strong>逻辑错误</strong>，Python不会报<strong>逻辑错误</strong>，程序一般都能正常运行。因此，排查逻辑错误，通常需要花更多的时间。</li><li>Python的语句块缩进很容易造成初学者<strong>逻辑错误</strong>，因此一定要小心使用。</li></ul></blockquote><p>例子：不小心缩进了应在循环结束后执行的代码，这些代码将针对每个列表元素重复执行。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">   print(name.title() + <span class="string">&quot;, that was a great trick!&quot;</span>)</span><br><span class="line">   print(<span class="string">&quot;我是语句块代码，请缩进包括我吧！\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">   print(<span class="string">&quot;我不是语句块代码，请不要缩进包括我，否则将会发生逻辑错误！&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="任务：遗漏冒号"><a href="#任务：遗漏冒号" class="headerlink" title="任务：遗漏冒号"></a>任务：遗漏冒号</h4><blockquote><p><strong>知识点</strong>：</p><ul><li><p>代码块的标志是什么？在冒号<code>:</code>之后，需要用<strong>缩进</strong>来标识代码块范围。</p></li><li><p>如果遗漏了<code>:</code>，Python将无法判断哪里是语句块的开始，那么将会报错。</p></li><li><p>这个错误是语法错误，相信Python肯定会报的。</p></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;carolina&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names</span><br><span class="line">   print(name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#   File &quot;&lt;ipython-input-6-2a56c4e8eee2&gt;&quot;, line 2</span></span><br><span class="line"><span class="comment">#     for name in names</span></span><br><span class="line"><span class="comment">#                      ^</span></span><br><span class="line"><span class="comment"># SyntaxError: invalid syntax</span></span><br></pre></td></tr></table></figure><h2 id="数值数列"><a href="#数值数列" class="headerlink" title="数值数列"></a>数值数列</h2><h4 id="任务：序列类型或容器类型"><a href="#任务：序列类型或容器类型" class="headerlink" title="任务：序列类型或容器类型"></a>任务：序列类型或容器类型</h4><blockquote><p>知识点：<strong>什么叫序列类型？</strong></p><ul><li><p>序列是Python中最基本的数据结构，它是<strong>容器类型</strong>的数据类型。</p></li><li><p>序列中的每个元素都分配了一个称为<strong>索引的整数</strong>(用于指明元素位置)。</p></li><li><ul><li>例如，第一个索引是0，第二个索引是1，依此类推。</li></ul></li><li><p>Python有6个序列的内置类型，但最常见的是<strong>列表</strong>、<strong>元组</strong>和<strong>字符串</strong>。</p></li></ul></blockquote><p>很多应用都会涉及到<strong>处理和储存一组数值类型的数据</strong>。例如，在游戏中，需要跟踪每个角色的位置信息，还可能需要对玩家进行积分排行。</p><blockquote><p>知识点：</p><ul><li>类似于C语言中的数组，在Python中，可使用列表<code>list</code>来管理一组数值类型的数据。</li><li>列表是一种Python序列类型(容器类型)，它提供了很多便捷的方法来处理和维护数据(列表元素)。</li><li>即使列表包含数百万个元素，也可以很高效的处理。</li></ul></blockquote><h3 id="使用函数range-生成数值序列"><a href="#使用函数range-生成数值序列" class="headerlink" title="使用函数range()生成数值序列"></a>使用函数range()生成数值序列</h3><h4 id="任务：range-数值序列生成函数"><a href="#任务：range-数值序列生成函数" class="headerlink" title="任务：range()数值序列生成函数"></a>任务：range()数值序列生成函数</h4><blockquote><p>知识点：</p><ul><li><p>语法：<code>range(stop)</code>或<code>range(start, stop[, step])</code></p></li><li><p>描述：<code>range()</code>函数生成一个从<code>start</code>开始到<code>stop</code>(但不包括)按<code>step</code>步长的整形序列(非列表)。Python内置函数，一般用在<code>for</code>循环中。</p></li><li><p>参数：</p></li><li><ul><li><code>start</code>: 从<code>start</code>开始。默认值为0。例如<code>range(5)</code>等价于<code>range(0,5)</code>。</li><li><code>stop</code>: 到<code>stop</code>结束，但<strong>不包括</strong><code>stop</code>。例如：<code>range(0,5)</code>是<code>[0, 1, 2, 3, 4]</code>不包括5。</li><li><code>step</code>：步长，默认值为1。例如：<code>range(0,5)</code>等价于<code>range(0,5,1)</code>。</li></ul></li><li><p>返回：一个<code>range</code>对象。而<strong>不是列表类型</strong>，所以调用<code>print()</code>时，不会直接打印序列元素。</p></li><li><p>限制：只能生成整数序列。</p></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># print不会显示具体元素值</span></span><br><span class="line">print(num, <span class="built_in">type</span>(num))</span><br><span class="line"></span><br><span class="line"><span class="comment">#range(1, 5) &lt;class &#x27;range&#x27;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="任务：print-的end参数使用"><a href="#任务：print-的end参数使用" class="headerlink" title="任务：print()的end参数使用"></a>任务：print()的end参数使用</h4><blockquote><p>知识点：</p><ul><li><code>print()</code>函数的参数<code>end =&#39;字符&#39;</code>指定<code>print</code>结束之处添加的’字符’。</li><li><code>end</code>参数的默认值为换行符<code>\n</code>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>):</span><br><span class="line">   print(value) <span class="comment">#默认值为`\n`换行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 4</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>):</span><br><span class="line">   print(value, end=<span class="string">&#x27; &#x27;</span>) <span class="comment">#修改end参数为空格</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 2 3 4</span></span><br></pre></td></tr></table></figure><ul><li>注意，<code>range()</code>只生成了<code>1~4</code>，并非想象中的<code>1~5</code>。</li><li>函数<code>range()</code>让Python从<code>start</code>到<code>stop-1</code>范围创建整数序列，不包括<code>stop</code>值。</li><li>使用<code>range()</code>时，如果输出结果不符合预期，请尝试将对参数值进行加1或减1尝试。</li></ul><h4 id="任务：range-函数参数不能为空"><a href="#任务：range-函数参数不能为空" class="headerlink" title="任务：range()函数参数不能为空"></a>任务：range()函数参数不能为空</h4><blockquote><p>知识点：</p><ul><li><code>range()</code>的3个参数<strong>只能为整形，不能为浮点数</strong>。</li><li>否则就会出错。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 任意一个参数为浮点数会报错</span></span><br><span class="line">num = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">1.5</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># TypeError                                 Traceback (most recent call last)</span></span><br><span class="line"><span class="comment"># &lt;ipython-input-9-1d19c399ee0c&gt; in &lt;module&gt;</span></span><br><span class="line"><span class="comment">#       1 # 任意一个参数为浮点数会报错</span></span><br><span class="line"><span class="comment"># ----&gt; 2 num = range(1,1.5,5)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TypeError: &#x27;float&#x27; object cannot be interpreted as an integer</span></span><br></pre></td></tr></table></figure><h4 id="任务：range-函数的等价形式"><a href="#任务：range-函数的等价形式" class="headerlink" title="任务：range()函数的等价形式"></a>任务：range()函数的等价形式</h4><blockquote><p>知识点：<code>range(n)</code> 等价于 <code>range(0,n,1)</code>。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">   print(value, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;&#x27;</span>) <span class="comment"># 换行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">6</span>,<span class="number">1</span>):</span><br><span class="line">   print(value, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0 1 2 3 4 5</span></span><br><span class="line"><span class="comment"># 0 1 2 3 4 5</span></span><br></pre></td></tr></table></figure><p>知识点：</p><ul><li>为生成<strong>浮点数序列</strong>，可将<code>range()</code>生成的整数序列。</li><li>然后，除以特定的数，得到等间隔的小数序列。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>):</span><br><span class="line">   print(value/<span class="number">10</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0.1 0.3 0.5 0.7 0.9</span></span><br></pre></td></tr></table></figure><h4 id="任务：通过遍历或索引获取range-序列元素"><a href="#任务：通过遍历或索引获取range-序列元素" class="headerlink" title="任务：通过遍历或索引获取range()序列元素"></a>任务：通过遍历或索引获取<code>range()</code>序列元素</h4><blockquote><p>知识点：深入解析<code>range()</code>函数。</p><ul><li><code>range()</code>被创建时，在内存中<strong>不直接生成所有的序列元素</strong>。</li><li><strong>元素只有在使用时</strong>，比如遍历或索引访问时，才会在内存中被生成。</li><li>这种方式可以大大的降低程序对内存的使用。</li></ul></blockquote><p>通过<strong>索引</strong>或<strong>循环</strong>来遍历来访问<code>range()</code>序列元素。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 索引访问num[1]，range(1,10, 2)生成相应的元素</span></span><br><span class="line"><span class="comment"># 其他元素由于没使用，所以不被生成</span></span><br><span class="line">print(num[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用循环遍历元素</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> num:</span><br><span class="line">   print(i, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># 1 3 5 7 9</span></span><br></pre></td></tr></table></figure><h4 id="任务：使用list-将range对象转换为列表"><a href="#任务：使用list-将range对象转换为列表" class="headerlink" title="任务：使用list()将range对象转换为列表"></a>任务：使用list()将range对象转换为列表</h4><blockquote><p>知识点：</p><ul><li>通过<code>list()</code>函数可以将<code>range()</code>对象的<strong>所有元素</strong>转换为列表。</li><li>返回数值类型的列表。</li></ul></blockquote><h3 id="习题-2"><a href="#习题-2" class="headerlink" title="习题"></a>习题</h3><h4 id="第六题"><a href="#第六题" class="headerlink" title="第六题"></a>第六题</h4><p>题目要求：</p><ul><li>计算1到100的整数之和，奇数之和，偶数之和。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ListNum=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>,<span class="number">1</span>)</span><br><span class="line">Integer_Sum=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> ListNum:</span><br><span class="line">    Integer_Sum=Integer_Sum+val</span><br><span class="line">    </span><br><span class="line">ListNum=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>,<span class="number">2</span>)</span><br><span class="line">OddNumber_Sum=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> ListNum:</span><br><span class="line">    OddNumber_Sum=OddNumber_Sum+val</span><br><span class="line">    </span><br><span class="line">ListNum=<span class="built_in">range</span>(<span class="number">0</span>,<span class="number">101</span>,<span class="number">2</span>)</span><br><span class="line">EvenNumber_Sum=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> ListNum:</span><br><span class="line">    EvenNumber_Sum=EvenNumber_Sum+val</span><br><span class="line"></span><br><span class="line">print(Integer_Sum,OddNumber_Sum,EvenNumber_Sum)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5050 2500 2550</span><br></pre></td></tr></table></figure><h4 id="第七题"><a href="#第七题" class="headerlink" title="第七题"></a>第七题</h4><p>题目要求：</p><ul><li>输入两个整数<code>a</code>和<code>b</code>，计算区间<code>[a b]</code>整数之和。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">b=<span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">ListNum=<span class="built_in">range</span>(a,b+<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">s=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> ListNum:</span><br><span class="line">    s=s+val</span><br><span class="line"></span><br><span class="line">print(s)</span><br><span class="line"><span class="comment">#a=1;b=9</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2500</span><br></pre></td></tr></table></figure><h4 id="第八题"><a href="#第八题" class="headerlink" title="第八题"></a>第八题</h4><p>题目要求：</p><ul><li>输入两个数，求最大公约数和最小公倍数。提示：使用<code>for</code>循环，和<code>range()</code></li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">num1 = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;Num1:&#x27;</span>))</span><br><span class="line">num2 = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;Num2:&#x27;</span>))</span><br><span class="line">min_num = <span class="built_in">min</span>(num1,num2)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,min_num + <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> num1 % i == <span class="number">0</span> <span class="keyword">and</span> num2 % i == <span class="number">0</span>:</span><br><span class="line">        gys = i</span><br><span class="line">gbs = <span class="built_in">int</span>((num1 * num2) / gys)</span><br><span class="line">print(<span class="string">&#x27;%s和%s的最大公约数为:%s&#x27;</span> %(num1,num2,gys))</span><br><span class="line">print(<span class="string">&#x27;%s和%s的最小公倍数为:%s&#x27;</span> %(num1,num2,gbs))</span><br><span class="line"><span class="comment">#num1=3;num2=27</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3和27的最大公约数为:3</span><br><span class="line">3和27的最小公倍数为:27</span><br></pre></td></tr></table></figure><h4 id="第九题"><a href="#第九题" class="headerlink" title="第九题"></a>第九题</h4><p>题目要求：</p><ul><li>生成一个列表，列表元素分别为[12,22,32…n2]。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;项数&#x27;</span>))</span><br><span class="line">n=n+<span class="number">1</span></span><br><span class="line">ListNum=<span class="built_in">range</span>(<span class="number">12</span>,<span class="number">10</span>*n+<span class="number">2</span>,<span class="number">10</span>)</span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> ListNum:</span><br><span class="line">    print(val)</span><br><span class="line"><span class="comment">#n=4</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">12</span><br><span class="line">22</span><br><span class="line">32</span><br><span class="line">42</span><br></pre></td></tr></table></figure><h4 id="第十题"><a href="#第十题" class="headerlink" title="第十题"></a>第十题</h4><p>题目要求：</p><ul><li>找出1～10之间所有偶数，返回一个列表，包含以这个偶数为半径的圆的面积。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pi=<span class="number">3.14</span></span><br><span class="line"><span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">11</span>,<span class="number">2</span>):</span><br><span class="line">    print(r,end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    print(pi*r*r)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2 12.56</span><br><span class="line">4 50.24</span><br><span class="line">6 113.03999999999999</span><br><span class="line">8 200.96</span><br><span class="line">10 314.0</span><br></pre></td></tr></table></figure><h3 id="使用range-输出乘法表"><a href="#使用range-输出乘法表" class="headerlink" title="使用range()输出乘法表"></a>使用range()输出乘法表</h3><h4 id="任务：使用range-输出乘法表"><a href="#任务：使用range-输出乘法表" class="headerlink" title="任务：使用range()输出乘法表"></a>任务：使用range()输出乘法表</h4><blockquote><p>知识点：</p><ul><li><code>print()</code>函数的参数 <code>end =&#39;字符&#39;</code>指定<code>print</code>结束之处添加’字符’。</li><li>它的默认为换行符<code>\n</code>。</li></ul></blockquote><p>使用双重循环，并通过<code>print()</code>语句输出乘法表。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">   <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">       print(i,<span class="string">&#x27;*&#x27;</span>, j,<span class="string">&#x27;=&#x27;</span>, i * j, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">   print(<span class="string">&#x27;&#x27;</span>) <span class="comment">#换行</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;乘法表&#x27;</span>)</span><br><span class="line"><span class="comment"># 1 * 1 = 1 1 * 2 = 2 1 * 3 = 3</span></span><br><span class="line"><span class="comment"># 2 * 1 = 2 2 * 2 = 4 2 * 3 = 6</span></span><br><span class="line"><span class="comment"># 3 * 1 = 3 3 * 2 = 6 3 * 3 = 9</span></span><br><span class="line"><span class="comment"># 乘法表</span></span><br></pre></td></tr></table></figure><ul><li>循环体的核心语句<code>print(i,&#39;*&#39;, j,&#39;=&#39;, i * j, end=&quot; &quot;)</code>，输出每个乘法结果。</li><li>这个<code>print()</code>语句为输出乘法算式结果，共用了6个字符串拼接，以<code>,</code>相隔。</li></ul><p>上述的输出语句非常复杂，那么Python是否提供更好的解决方案？<code>.format()</code>字符串格式函数。</p><h4 id="任务：-format-函数的乘法表"><a href="#任务：-format-函数的乘法表" class="headerlink" title="任务：.format()函数的乘法表"></a>任务：<code>.format()</code>函数的乘法表</h4><p>使用<code>.format()</code>函数来格式化输出乘法表。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">   <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">       <span class="comment"># print(i,&#x27;*&#x27;, j,&#x27;=&#x27;, i * j, end=&quot; &quot;)</span></span><br><span class="line">       print(<span class="string">&quot;&#123;&#125;*&#123;&#125;=&#123;&#125;&quot;</span>.<span class="built_in">format</span>(i,j,i*j), end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">   print(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;乘法表&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1*1=1 1*2=2 1*3=3</span></span><br><span class="line"><span class="comment"># 2*1=2 2*2=4 2*3=6</span></span><br><span class="line"><span class="comment"># 3*1=3 3*2=6 3*3=9</span></span><br><span class="line"><span class="comment"># 乘法表</span></span><br></pre></td></tr></table></figure><h3 id="使用list-转换数字列表"><a href="#使用list-转换数字列表" class="headerlink" title="使用list()转换数字列表"></a>使用list()转换数字列表</h3><h4 id="任务：使用list-将range对象转换为列表-1"><a href="#任务：使用list-将range对象转换为列表-1" class="headerlink" title="任务：使用list()将range对象转换为列表"></a>任务：使用list()将range对象转换为列表</h4><blockquote><p>知识点：</p><ul><li>由于<code>range()</code>数字序列生成器，不能直接在内存中生成数字列表，只有元素被使用时，才会生成数字。</li><li>可以通过<code>list()</code>函数可以将<code>range</code>对象的<strong>所有元素</strong>转换为列表，返回数值类型的列表。</li><li>将<code>range()</code>返回作为<code>list()</code>函数的参数：<code>list(range(10))</code>。</li><li><code>list</code>类型的数据，在内存中真实存在；<code>range</code>类型的数据，在内存中不存在(不占内存)。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range()数字序列生成器，无论多大的数据都不占内存</span></span><br><span class="line">print(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6000000</span>), <span class="built_in">type</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过list()将range对象转换为list</span></span><br><span class="line"><span class="comment"># list元素在内存中真实存在</span></span><br><span class="line">num = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>))</span><br><span class="line">print(num, <span class="built_in">type</span>(num))</span><br><span class="line"><span class="comment"># range(1, 6000000) &lt;class &#x27;range&#x27;&gt;</span></span><br><span class="line"><span class="comment"># [1, 2, 3, 4, 5] &lt;class &#x27;list&#x27;&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>使用函数<code>range()</code>时，还可指定<code>step</code>步长。</p></blockquote><p>例如，下面的代码打印1~10内的偶数，函数<code>range()</code>从<code>start=2</code>开始，然后不断地加<code>step=2</code>，直到达到或超过<code>stop</code>(11)。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">even_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>, <span class="number">11</span>, <span class="number">2</span>))</span><br><span class="line">print(even_numbers)</span><br><span class="line"><span class="comment"># [2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure><h4 id="任务：两种生成平方数列表的方式"><a href="#任务：两种生成平方数列表的方式" class="headerlink" title="任务：两种生成平方数列表的方式"></a>任务：两种生成平方数列表的方式</h4><p>使用函数<code>range()</code>几乎能够创建任何需要的数字序列。</p><p>例如，创建一个包含前10个整数的平方数序列。在Python中，两个星号<code>**</code>表示乘方运算。下面的代码演示了如何将前10个整数的平方通过循环逐个加到<code>squares</code>列表中：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">squares = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">   square = value**<span class="number">2</span></span><br><span class="line">   squares.append(square)</span><br><span class="line"></span><br><span class="line">print(squares)</span><br><span class="line"><span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br></pre></td></tr></table></figure><p>程序解析：</p><ul><li>首先，创建了一个空列表<code>squares</code>。</li><li>接下来，使用函数<code>range()</code>让Python遍历1~10的值。</li><li>在循环中，计算当前值的平方，并将结果<code>append()</code>到变量<code>square</code>中。</li><li>然后，将新计算得到的平方值附加到列表<code>squares</code>末尾。</li><li>最后，循环结束后，打印列表<code>squares</code>。</li></ul><p>为让这些代码更简洁，<strong>在循环体中</strong>可不使用临时变量<code>square</code>，而是直接将每个平方结果附加到列表末尾：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">squares = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">   squares.append(value**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">print(squares)</span><br><span class="line"><span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br></pre></td></tr></table></figure><p>创建更复杂的列表时，可使用上述的两种方法。</p><ul><li>作为新手，建议使用第1中方式，通过使用<strong>临时变量</strong>会让代码更易读。</li><li>熟悉之后，可以使用第二种更简便的方式，降低代码冗余度。</li></ul><h3 id="统计列表的信息"><a href="#统计列表的信息" class="headerlink" title="统计列表的信息"></a>统计列表的信息</h3><h4 id="任务：列表的信息统计"><a href="#任务：列表的信息统计" class="headerlink" title="任务：列表的信息统计"></a>任务：列表的信息统计</h4><p>Python提供了几个专门用于处理列表元素的内建(build-in)函数，即python自带函数。</p><blockquote><p>知识点：</p><ul><li><code>min()</code>方法返回列表元素中的最小值。</li><li><code>max()</code>方法返回列表元素中的最大值。</li><li><code>sum()</code>方法返回列表元素之和。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">digits = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">0</span>]</span><br><span class="line">print(<span class="built_in">min</span>(digits)) <span class="comment"># 0</span></span><br><span class="line">print(<span class="built_in">max</span>(digits)) <span class="comment"># 9</span></span><br><span class="line">print(<span class="built_in">sum</span>(digits)) <span class="comment"># 45</span></span><br></pre></td></tr></table></figure><p>知识点：字符串列表的最小和最大值。</p><ul><li><code>min()</code>和<code>max()</code>同样适合字符串列表。</li><li>字符串列表的元素比较，先比第一位，如果相同，则再比第二位。以此类推。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;113&#x27;</span>, <span class="string">&#x27;11111&#x27;</span>, <span class="string">&#x27;1122&#x27;</span>]</span><br><span class="line">print(<span class="built_in">min</span>(list1)) <span class="comment"># 11111</span></span><br></pre></td></tr></table></figure><h3 id="习题-3"><a href="#习题-3" class="headerlink" title="习题"></a>习题</h3><h4 id="第十一题"><a href="#第十一题" class="headerlink" title="第十一题"></a>第十一题</h4><p>题目要求：</p><ul><li>使用一个<code>for</code>循环打印数字1~20(包含)。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>,<span class="number">1</span>):</span><br><span class="line">    print(num,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 </span><br></pre></td></tr></table></figure><h4 id="第十二题"><a href="#第十二题" class="headerlink" title="第十二题"></a>第十二题</h4><p>题目要求：</p><ul><li>创建一个列表，其中包含数字1~1 000 000，再使用一个<code>for</code>循环将这些数字打印出来（如果输出的时间太长，按Ctrl + C停止输出，或关闭输出窗口）。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">1000000</span>,<span class="number">1</span>):</span><br><span class="line">    print(num,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 ......</span><br></pre></td></tr></table></figure><h4 id="第十三题"><a href="#第十三题" class="headerlink" title="第十三题"></a>第十三题</h4><p>题目要求：</p><ul><li>创建一个列表，其中包含数字1~1 000 000，再使用<code>min()</code>和<code>max()</code>核实该列表确实是从1开始，到1 000 000结束的。另外，对这个列表调用函数<code>sum()</code>，看看Python将一百万个数字相加需要多长时间。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">1000001</span>,<span class="number">1</span>)</span><br><span class="line">print(<span class="built_in">min</span>(List))</span><br><span class="line">print(<span class="built_in">max</span>(List))</span><br><span class="line">print(<span class="built_in">sum</span>(List))</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1000000</span><br><span class="line">500000500000</span><br><span class="line"></span><br><span class="line">[Done] exited with code&#x3D;0 in 0.197 seconds</span><br></pre></td></tr></table></figure><h4 id="第十四题"><a href="#第十四题" class="headerlink" title="第十四题"></a>第十四题</h4><p>题目要求：</p><ul><li>通过给函数<code>range()</code>指定第三个参数来创建一个列表，其中包含1~20的奇数；再使用一个<code>for</code>循环将这些数字都打印出来。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mylist=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">20</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> mylist:</span><br><span class="line">    print(num,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 3 5 7 9 11 13 15 17 19 </span><br></pre></td></tr></table></figure><h2 id="枚举：遍历列表的索引"><a href="#枚举：遍历列表的索引" class="headerlink" title="枚举：遍历列表的索引"></a>枚举：遍历列表的索引</h2><h3 id="认识可迭代对象"><a href="#认识可迭代对象" class="headerlink" title="认识可迭代对象"></a>认识可迭代对象</h3><h4 id="任务：可迭代对象"><a href="#任务：可迭代对象" class="headerlink" title="任务：可迭代对象"></a>任务：可迭代对象</h4><blockquote><p>知识点：</p><ul><li><p>为何列表可以直接使用<code>for-in</code>语句来遍历元素？</p></li><li><ul><li>因为它是黑科技，<strong>可迭代对象</strong>。</li></ul></li><li><p>列表可以<strong>直接</strong>遍历获得列表元素，而<strong>不像C++或Java是通过下标索引方式</strong>来遍历列表。</p></li><li><p><code>for</code>循环<strong>并非只限于列表</strong>，任何<strong>可迭代对象</strong>都可使用此功能。</p></li></ul></blockquote><blockquote><p>知识点：<strong>何谓可迭代对象</strong>？(只需要了解基本概念，不需要深入)</p><ul><li><p>可以被遍历的对象，任何可以用<code>for-in</code>语句来获取元素的对象都是可迭代对象。即，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for iterating_var in sequence:</span><br><span class="line">   statements(s)</span><br></pre></td></tr></table></figure></li><li><p>描述：可迭代对象每次循环(迭代)返回一个元素，直到遍历完所有的元素(迭代结束)。</p></li><li><p>常见可迭代对象：<code>list</code>列表对象，<code>str</code>字符串对象, <code>range</code>对象。</p></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;pig&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> my_list:  <span class="comment"># for-in循环</span></span><br><span class="line">   print(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># dog</span></span><br><span class="line"><span class="comment"># cat</span></span><br><span class="line"><span class="comment"># pig</span></span><br></pre></td></tr></table></figure><h4 id="任务：如何判断某个对象为可迭代对象？"><a href="#任务：如何判断某个对象为可迭代对象？" class="headerlink" title="任务：如何判断某个对象为可迭代对象？"></a>任务：如何判断某个对象为可迭代对象？</h4><blockquote><p>知识点：</p><ul><li>通过<code>isinstance(a, Iterable)</code>方式来判断变量<code>a</code>是否为可迭代对象。</li><li>需要从<code>collections</code>模块中导入<code>Iterable</code>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line">obj = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">print(<span class="built_in">type</span>(obj), <span class="built_in">isinstance</span>(obj, Iterable))</span><br><span class="line"><span class="comment"># &lt;class &#x27;str&#x27;&gt; True</span></span><br><span class="line"></span><br><span class="line">obj = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">print(<span class="built_in">type</span>(obj), <span class="built_in">isinstance</span>(obj, Iterable))</span><br><span class="line"><span class="comment"># &lt;class &#x27;list&#x27;&gt; True</span></span><br><span class="line"></span><br><span class="line">obj = <span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">print(<span class="built_in">type</span>(obj), <span class="built_in">isinstance</span>(obj, Iterable))</span><br><span class="line"><span class="comment"># &lt;class &#x27;range&#x27;&gt; True</span></span><br><span class="line"></span><br><span class="line">obj = <span class="number">123</span></span><br><span class="line">print(<span class="built_in">type</span>(obj), <span class="built_in">isinstance</span>(obj, Iterable))</span><br><span class="line"><span class="comment"># &lt;class &#x27;int&#x27;&gt; False</span></span><br></pre></td></tr></table></figure><h3 id="两种获取元素索引的方式"><a href="#两种获取元素索引的方式" class="headerlink" title="两种获取元素索引的方式"></a>两种获取元素索引的方式</h3><blockquote><p>知识点：</p><ul><li>在<code>for-in</code>循环体中，<strong>并不能直接获得列表元素所对应的索引</strong>。</li><li>只能遍历获取元素，但并不知元素在列表中的位置。</li></ul></blockquote><p>为此，下面给出了两种类似C++的<code>for</code>循环方式来<strong>同时获得元素索引</strong>。</p><h4 id="任务：如何获得for循环元素索引？"><a href="#任务：如何获得for循环元素索引？" class="headerlink" title="任务：如何获得for循环元素索引？"></a>任务：如何获得<code>for</code>循环元素索引？</h4><p><strong>方法一</strong>：设置循环的临时变量<code>i</code>为下标索引。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;pig&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(my_list)):</span><br><span class="line">   print(my_list[i], end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="comment"># dog cat pig  </span></span><br></pre></td></tr></table></figure><p>程序解析：</p><ul><li><code>range(len(my_list))</code>：对于函数的嵌套写法，应该从里函数<code>len()</code>到外函数<code>range()</code>的顺序来解读程序。</li><li>这里使用<code>range()</code>函数，根据<code>my_list</code>列表的长度<code>len(my_list)</code>来构造索引序列。</li><li>此时的临时变量<code>i</code>为元素索引。因此，在循环体中，通过下标索引方式访问元素<code>my_list[i]</code>。</li></ul><hr><p><strong>方法二</strong>：引入额外变量来跟踪迭代过程。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> my_list:</span><br><span class="line">   print(i, <span class="string">&#x27;: &#x27;</span>, item, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">   i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 0: dog</span></span><br><span class="line"><span class="comment"># 1: cat</span></span><br><span class="line"><span class="comment"># 2: pig</span></span><br></pre></td></tr></table></figure><p>程序解析：</p><ul><li>在循环中，引入额外的变量<code>i</code>来跟踪当前循环的迭代情况。</li><li><code>i</code>即为列表元素的下标索引。</li></ul><blockquote><p>知识点(补充)：</p><ul><li><code>print()</code>的<code>sep</code>参数，为多个字符串输出添加<code>sep</code>所指定的分割符。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;: &#x27;</span>, <span class="string">&#x27;hello&#x27;</span>, sep=<span class="string">&#x27;~~&#x27;</span>)</span><br><span class="line"><span class="comment"># hello~~: ~~hello</span></span><br></pre></td></tr></table></figure><h2 id="enumerate-函数获取元素索引"><a href="#enumerate-函数获取元素索引" class="headerlink" title="enumerate()函数获取元素索引"></a>enumerate()函数获取元素索引</h2><h4 id="任务：使用enumerate-函数获得元素索引"><a href="#任务：使用enumerate-函数获得元素索引" class="headerlink" title="任务：使用enumerate()函数获得元素索引"></a>任务：使用<code>enumerate()</code>函数获得元素索引</h4><p>为解决上述需求，python引入了一种更优雅的方案<code>enumerate()</code>函数，能够<strong>在迭代列表的同时获取索引</strong>。</p><blockquote><p>知识点：</p><ul><li><p>语法：<code>enumerate(iterable, start=0)</code>，即</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for index, item in enumerate(iterable, start&#x3D;0):</span><br><span class="line"> indented_statements</span><br></pre></td></tr></table></figure></li><li><p>描述：内置函数，生成一系列<code>index-item</code>对(元组)，其中<code>index</code>是索引，而<code>item</code>为当前元素。</p></li><li><p>参数：<code>iterable</code>是之前提到的可迭代对象，可以被遍历的对象。</p></li><li><p>参数：<code>start</code>自定义索引序号的起始值，默认值为0。每次迭代，<code>enumerate()</code>返回的索引值<code>index</code> = 元素<code>item</code>原来的索引 + 起始值<code>start</code>。</p></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;pig&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;--默认起始索引序号start--&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(my_list):</span><br><span class="line">   print(i, <span class="string">&#x27;: &#x27;</span>, item, sep=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">   </span><br><span class="line">print(<span class="string">&#x27;--起始索引序号start=2--&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(my_list, <span class="number">2</span>):</span><br><span class="line">   <span class="comment">#建议使用format格式化字符串</span></span><br><span class="line">   print(<span class="string">&#x27;&#123;&#125;: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(i, item))</span><br><span class="line"></span><br><span class="line"><span class="comment"># --默认起始索引序号start--</span></span><br><span class="line"><span class="comment"># 0: dog</span></span><br><span class="line"><span class="comment"># 1: cat</span></span><br><span class="line"><span class="comment"># 2: pig</span></span><br><span class="line"><span class="comment"># --起始索引序号start=2--</span></span><br><span class="line"><span class="comment"># 2: dog</span></span><br><span class="line"><span class="comment"># 3: cat</span></span><br><span class="line"><span class="comment"># 4: pig</span></span><br></pre></td></tr></table></figure><p>使用<code>.format()</code>格式化打印元素和序号，格式为：<code>两位数序号.</code>+空格+<code>四位数据</code>，右对齐。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fib_list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">21</span>, <span class="number">34</span>, <span class="number">55</span>, <span class="number">89</span>, <span class="number">144</span>]</span><br><span class="line">format_str = <span class="string">&#x27;&#123;:&gt;2&#125;. &#123;:&gt;4&#125;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(fib_list, <span class="number">1</span>):</span><br><span class="line">   print(format_str.<span class="built_in">format</span>(i, item))</span><br><span class="line"></span><br><span class="line"><span class="comment">#  1.    1</span></span><br><span class="line"><span class="comment">#  2.    2</span></span><br><span class="line"><span class="comment">#  3.    4</span></span><br><span class="line"><span class="comment">#  4.    5</span></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure><h3 id="习题-4"><a href="#习题-4" class="headerlink" title="习题"></a>习题</h3><h4 id="第十五题"><a href="#第十五题" class="headerlink" title="第十五题"></a>第十五题</h4><p>题目要求：</p><ul><li>打印斐波那契数列<code>fib_list = [1、1、2、3、5、8、13、21、34]</code>，输出格式:“第i个元素为XXX”。 分别实现：</li></ul><ol><li><ul><li>手工初始化<code>fib_list</code>，使用<code>range()</code>函数打印斐波那契数列；</li><li>手工初始化<code>fib_list</code>，使用<code>enumerate()</code>函数打印斐波那契数列；</li></ul></li></ol><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fib_list = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">21</span>,<span class="number">34</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(fib_list)):</span><br><span class="line">    print(<span class="string">&#x27;第&#x27;</span>, i, <span class="string">&#x27;个元素为&#x27;</span>, fib_list[i])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">format_str = <span class="string">&#x27;&#123;:&gt;2&#125;&#123;:&gt;1&#125;&#123;:&gt;4&#125;&#123;:&gt;2&#125;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(fib_list, <span class="number">1</span>):</span><br><span class="line">    print(format_str.<span class="built_in">format</span>(<span class="string">&#x27;第&#x27;</span>, i, <span class="string">&#x27;个元素为&#x27;</span>, item))</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">第 0 个元素为 1</span><br><span class="line">第 1 个元素为 1</span><br><span class="line">第 2 个元素为 2</span><br><span class="line">第 3 个元素为 3</span><br><span class="line">第 4 个元素为 5</span><br><span class="line">第 5 个元素为 8</span><br><span class="line">第 6 个元素为 3</span><br><span class="line">第 7 个元素为 21</span><br><span class="line">第 8 个元素为 34</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 第1个元素为 1</span><br><span class="line"> 第2个元素为 1</span><br><span class="line"> 第3个元素为 2</span><br><span class="line"> 第4个元素为 3</span><br><span class="line"> 第5个元素为 5</span><br><span class="line"> 第6个元素为 8</span><br><span class="line"> 第7个元素为 3</span><br><span class="line"> 第8个元素为21</span><br><span class="line"> 第9个元素为34</span><br></pre></td></tr></table></figure><h4 id="第十六题"><a href="#第十六题" class="headerlink" title="第十六题"></a>第十六题</h4><p>题目要求：</p><ul><li>斐波那契数列的格式化输出：通过<code>format()</code>格式化字符串输出。模板字符串3个位置索引参数，分别为前个元素、当前元素、当前元素与前一个元素的差；宽度分别设置为3、5、5字宽；由于第1个元素的前一个元素不存在，可以使用<code>if</code>判断只打印索引值大于1的元素输出。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fib_list = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">21</span>,<span class="number">34</span>]</span><br><span class="line">format_str = <span class="string">&#x27;&#123;:&gt;3&#125; &#123;:&gt;5&#125; &#123;:&gt;5&#125;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(fib_list, <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> i==<span class="number">1</span>:</span><br><span class="line">        i=i+<span class="number">1</span></span><br><span class="line">    print(format_str.<span class="built_in">format</span>(fib_list[i-<span class="number">1</span>], item, item-fib_list[i-<span class="number">1</span>]))</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> 1     1     0</span><br><span class="line"> 1     1     0</span><br><span class="line"> 2     2     0</span><br><span class="line"> 3     3     0</span><br><span class="line"> 5     5     0</span><br><span class="line"> 8     8     0</span><br><span class="line"> 3     3     0</span><br><span class="line">21    21     0</span><br><span class="line">34    34     0</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210421205433759.png&quot; alt=&quot;image-20210421205433759&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记4</title>
    <link href="http://waxll.top/2021/06/17/py4.html"/>
    <id>http://waxll.top/2021/06/17/py4.html</id>
    <published>2021-06-16T16:21:56.000Z</published>
    <updated>2021-06-16T16:25:23.092Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210414220707008.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210414220707008.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210414220707008"></p><span id="more"></span><h1 id="第四章-数据类型：list列表"><a href="#第四章-数据类型：list列表" class="headerlink" title="第四章   数据类型：list列表"></a>第四章   数据类型：list列表</h1><h2 id="4-1-列表-序列-的定义"><a href="#4-1-列表-序列-的定义" class="headerlink" title="4.1   列表(序列)的定义"></a>4.1   列表(序列)的定义</h2><h4 id="任务一：Python内置数据类型"><a href="#任务一：Python内置数据类型" class="headerlink" title="任务一：Python内置数据类型"></a><em>任务一：Python内置数据类型</em></h4><p>知识点：</p><p>Python内置(<strong>build-in</strong>)数据类型可以分为<strong>数值型</strong>和<strong>非数值型</strong></p><p><strong>数值型</strong>：整型(<strong>int</strong>)、浮点型(<strong>float</strong>)、布尔型(<strong>bool</strong>) 、复数型 (<strong>complex</strong>)</p><p><strong>非数值型</strong>(序列)：字符串、列表、元组、字典</p><p>知识点：</p><p>非数值类都是一个 <strong>序列 sequence</strong>，也可以理解为<strong>容器</strong>。它们都支持以下功能：</p><p>索引取值**[]**</p><p>遍历元素<strong>for in</strong></p><p><strong>计算序列长度、最大/最小值、比较、删除</strong></p><p><strong>拼接+<strong>运算符和</strong>重复</strong>*运算符</p><p><strong>切片</strong>技术</p><h4 id="任务二：认识什么是列表"><a href="#任务二：认识什么是列表" class="headerlink" title="任务二：认识什么是列表"></a><em>任务二：认识什么是列表</em></h4><p><strong>列表</strong>由一系列按特定<strong>顺序</strong>排列的元素组成。列表是对象，是<strong>集合/容器</strong>类型的对象</p><p>用<strong>方括号</strong>（**[]<strong>）来表示列表，并用</strong>逗号**来分隔其中的元素</p><p>下面是一个简单的列表示例，这个列表包含几种自行车：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">print(bicycles, <span class="built_in">type</span>(bicycles))</span><br></pre></td></tr></table></figure><p>1、鉴于列表通常包含多个元素，给列表指定一个表示复数的名称（如<strong>letters</strong>、<strong>digits</strong>或<strong>names</strong>）是个不错的主意</p><p>2、与Java或C的数组区别：</p><p>数组的数据类型必须是一样，而列表可以不一样；</p><p>数组长度事先声明固定长度，列表长度可增可减</p><p>3、Python列表元素可以是任意类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">things = [<span class="number">1</span>, <span class="string">&#x27;car&#x27;</span>, <span class="number">4.2</span>, [<span class="number">2</span>, <span class="number">1</span>]]</span><br><span class="line">print(things, <span class="built_in">type</span>(things))</span><br><span class="line">print(<span class="built_in">id</span>(things))</span><br></pre></td></tr></table></figure><h3 id="习题："><a href="#习题：" class="headerlink" title="习题："></a>习题：</h3><p>1、输入你最喜欢的四个朋友，并把她们名字打印(英语名)</p><p>2、使用type() 查看类型</p><p>3、id() 查看列表引用地址</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;ONeal&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">print(names, <span class="built_in">type</span>(names))</span><br><span class="line">print(<span class="built_in">id</span>(names))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;ONeal&#x27;</span>, <span class="string">&#x27;Jordan&#x27;</span>] &lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">list</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">2203212688320</span></span><br></pre></td></tr></table></figure><h3 id="4-1-1-访问列表元素"><a href="#4-1-1-访问列表元素" class="headerlink" title="4.1.1   访问列表元素"></a>4.1.1   访问列表元素</h3><h4 id="任务一：使用索引访问列表元素"><a href="#任务一：使用索引访问列表元素" class="headerlink" title="任务一：使用索引访问列表元素"></a><em>任务一：使用索引访问列表元素</em></h4><p>列表是<strong>有序</strong>的容器类数据类型，要访问列表元素，只需将该元素的位置或索引</p><p>即<strong>列表名[索引]<strong>。列表的</strong>第1个元素索引从0开始</strong>。例如，下面的代码从列表<strong>bicycles</strong>中提取第一款自行车：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">print(bicycles[<span class="number">3</span>]) <span class="comment">#索引值为当前位置-1</span></span><br></pre></td></tr></table></figure><p>当你请求获取列表元素时，Python只返回该元素，而不包括方括号和引号：<strong>trek</strong>。可以进一步对返回的列表元素调用特定的方法。例如，可使用方法**title()<strong>让元素</strong>‘trek’**格式更整洁：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">print(bicycles[<span class="number">0</span>].title(), bicycles[<span class="number">1</span>].upper(), bicycles[<span class="number">2</span>].lower())</span><br></pre></td></tr></table></figure><p>这个示例的输出与前一个示例相同，只是首字母T是大写的</p><h4 id="任务二：列表的索引"><a href="#任务二：列表的索引" class="headerlink" title="任务二：列表的索引"></a><em>任务二：列表的索引</em></h4><p>知识点：元素索引</p><p>列表的<strong>索引</strong>从<strong>0</strong> 开始</p><p>所谓的<strong>索引</strong>就是元素在<strong>列表</strong>中的位置编号，<strong>索引</strong>又名为<strong>下标</strong>序号。</p><p>从列表中取值时，如果<strong>超出索引范围</strong>，程序触发异常<strong>IndexError</strong></p><h3 id="4-1-2-索引访问"><a href="#4-1-2-索引访问" class="headerlink" title="4.1.2   索引访问"></a>4.1.2   索引访问</h3><h4 id="任务一：第1个元素的索引是0"><a href="#任务一：第1个元素的索引是0" class="headerlink" title="任务一：第1个元素的索引是0"></a><em>任务一：第1个元素的索引是0</em></h4><p>知识点：</p><p>在Python中，第一个列表元素的索引为0，而不是1</p><p>第二个列表元素的索引为1</p><p>根据这种简单的计数方式，要访问列表的任何元素，<strong>都可将其位置减1，并将结果作为索引</strong></p><p>例如，要访问第4个列表元素，可使用索引3</p><p>下面的代码访问索引1和3处的自行车，这些代码返回列表中的第二个和第四个元素：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">print(bicycles[<span class="number">1</span>])</span><br><span class="line">print(bicycles[<span class="number">3</span>])</span><br></pre></td></tr></table></figure><p>知识点：</p><p>Python为列表提供了一种更强大的元素访问机制，切片索引，来获得一个区间索引中的元素</p><p>切片索引区间：<strong>list[n:m]<strong>索引，其中</strong>n</strong>为起始，<strong>m</strong>为终止，元素区间**[n,m)**返回索引为n到m-1的元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>,<span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">print(bicycles[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure><p>知识点：</p><p><strong>负索引</strong>(重要)：在不知道列表长度的情况下访问最后的元素</p><p>Python为访问最后一个列表元素提供了一种特殊语法</p><p>通过将索引指定为**-1<strong>，返回</strong>最后一个列表元素**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;---------倒数第一个元素是-1索引---------&#x27;</span>)</span><br><span class="line">bicycles = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">print(bicycles[-<span class="number">2</span>])</span><br></pre></td></tr></table></figure><p>这些代码返回**’specialized’<strong>。这种约定也适用于其他负数索引，例如，索引</strong>-2<strong>返回倒数第二个列表元素，索引</strong>-3**返回倒数第三个列表元素，以此类推</p><h3 id="4-1-3-使用列表中的值"><a href="#4-1-3-使用列表中的值" class="headerlink" title="4.1.3   使用列表中的值"></a>4.1.3   使用列表中的值</h3><h4 id="任务一：如何使用列表中的元素值"><a href="#任务一：如何使用列表中的元素值" class="headerlink" title="任务一：如何使用列表中的元素值"></a><em>任务一：如何使用列表中的元素值</em></h4><p>知识点：</p><p>使用索引得到的元素进行后续操作。</p><p>例如，可以使用<strong>拼接</strong>根据列表中的值来创建消息</p><p>下面来尝试从列表中提取第一款自行车，并使用这个值来创建一条消息：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bicycles = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">message = <span class="string">&quot;My first bicycle was a &quot;</span> + bicycles[<span class="number">0</span>].title() + <span class="string">&quot;.&quot;</span></span><br><span class="line">print(message)</span><br></pre></td></tr></table></figure><p>使用<strong>bicycles[0]<strong>的值生成了一个句子，并将其存储在变量</strong>message</strong>中。输出是一个简单的句子，其中包含列表中的第一款自行车：<strong>My first bicycle was a Trek.</strong></p><h3 id="习题：-1"><a href="#习题：-1" class="headerlink" title="习题："></a>习题：</h3><p>1、将一些朋友的姓名存储在一个列表中，并将其命名为<strong>names</strong>。依次访问该列表中的每个元素，从而将每个朋友的姓名都打印出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">print(names)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">James</span><br><span class="line">Kobe</span><br><span class="line">Jordan</span><br></pre></td></tr></table></figure><p>2、继续上一题，但不打印每个朋友的姓名，而为每人打印一条消息。每条消息都包含相同的问候语，但抬头为相应朋友的姓名</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">print(names[<span class="number">0</span>] + <span class="string">&quot;,&quot;</span> + <span class="string">&quot; how is everything going on &quot;</span> + <span class="string">&quot;?&quot;</span>) </span><br><span class="line">print(names[<span class="number">1</span>] + <span class="string">&quot;,&quot;</span> + <span class="string">&quot; how is everything going on &quot;</span> + <span class="string">&quot;?&quot;</span>)</span><br><span class="line">print(names[<span class="number">2</span>] + <span class="string">&quot;,&quot;</span> + <span class="string">&quot; how is everything going on &quot;</span> + <span class="string">&quot;?&quot;</span>) </span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">James, how is everything going on ?</span><br><span class="line">Kobe, how is everything going on ?</span><br><span class="line">Jordan, how is everything going on ?</span><br></pre></td></tr></table></figure><p>3、为朋友输入他们喜欢的交通方式，如骑摩托车或开汽车，并创建一个包含多种交通方式的列表。根据该列表打印一系列有关这些交通方式的宣言，朋友名字和交通工具字符为全大写，如“Lilei would like to own a Honda motorcycle”</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;JAMES&#x27;</span>,<span class="string">&#x27;KOBE&#x27;</span>,<span class="string">&#x27;JORDAN&#x27;</span>]</span><br><span class="line">transportations =[<span class="string">&#x27;BIKE&#x27;</span>,<span class="string">&#x27;MOTORCYCLE&#x27;</span>,<span class="string">&#x27;CAR&#x27;</span>]</span><br><span class="line">print(names[<span class="number">0</span>] + <span class="string">&quot; would like to ride a &quot;</span> + transportations[<span class="number">0</span>] + <span class="string">&quot;.&quot;</span>)</span><br><span class="line">print(names[<span class="number">1</span>] + <span class="string">&quot; would like to ride a &quot;</span> + transportations[<span class="number">1</span>] + <span class="string">&quot;.&quot;</span>)</span><br><span class="line">print(names[<span class="number">2</span>] + <span class="string">&quot; would like to drive a &quot;</span> + transportations[<span class="number">2</span>] + <span class="string">&quot;.&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JAMES would like to ride a BIKE.</span><br><span class="line">KOBE would like to ride a MOTORCYCLE.</span><br><span class="line">JORDAN would like to drive a CAR.</span><br></pre></td></tr></table></figure><h3 id="4-1-4-列表的通用操作"><a href="#4-1-4-列表的通用操作" class="headerlink" title="4.1.4   列表的通用操作"></a>4.1.4   列表的通用操作</h3><h2 id="4-2（重要）变量内涵"><a href="#4-2（重要）变量内涵" class="headerlink" title="4.2（重要）变量内涵"></a>4.2（重要）变量内涵</h2><h4 id="任务一：变量的内涵"><a href="#任务一：变量的内涵" class="headerlink" title="任务一：变量的内涵"></a><em>任务一：变量的内涵</em></h4><p>变量是Python语言最基本的元素。变量是指向具体数据(对象)的<strong>地址引用</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = `python`</span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">b = b + <span class="number">1</span></span><br></pre></td></tr></table></figure><p>变量：门牌号；具体内容：房间</p><p>通过赋值(=)语句进行关联</p><p><strong>误区：变量中直接存储了具体了数据/对象</strong>。程序通过变量来<strong>间接访问和操作</strong>变量所指的对象</p><p>变量中存的地址引用可通过**id()**查看</p><p>python内存共享优化机制：</p><p>在python中，所有的对象(变量所指向的具体内容)都存活在系统堆上</p><p>对于小整数和字符串对象，可能在程序中会经常的使用。如果将这些经常使用的小整数对象也放在系统堆上，python就会<strong>经常的在堆上申请空间，释放空间，会严重的影响python的整体性能</strong></p><p>对于小整数和字符串(不可变对象)对象做了一些优化，通过使用了<strong>对象池技术</strong>，将它们驻留在程序缓存中</p><p>变量共享引用相同的地址，小整数[-5,256] 和 字符串(不含空格)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;trek1111 111111111111111111111111111111&#x27;</span>  </span><br><span class="line">b = <span class="string">&#x27;trek1111 111111111111111111111111111111&#x27;</span>    </span><br><span class="line">print(<span class="built_in">id</span>(a), <span class="built_in">id</span>(b), a <span class="keyword">is</span> b)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">bicycles1 = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">bicycles2 = [<span class="string">&#x27;trek&#x27;</span>, <span class="string">&#x27;cannondale&#x27;</span>, <span class="string">&#x27;redline&#x27;</span>, <span class="string">&#x27;specialized&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;bicycles1 id:&#x27;</span>, <span class="built_in">id</span>(bicycles1))</span><br><span class="line">print(<span class="string">&#x27;bicycles2 id:&#x27;</span>, <span class="built_in">id</span>(bicycles2))</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;bicycles1[0] id:&#x27;</span>, <span class="built_in">id</span>(bicycles1[<span class="number">0</span>]))  <span class="comment"># 常量字符串共享内存</span></span><br><span class="line">print(<span class="string">&#x27;bicycles2[0] id:&#x27;</span>, <span class="built_in">id</span>(bicycles2[<span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;-------通过is关键字判断两个对象是否是同一个对象(否是来自同个内存地址的数据)----&#x27;</span>)</span><br><span class="line">print(bicycles1 <span class="keyword">is</span> bicycles2)</span><br><span class="line">print(bicycles1[<span class="number">0</span>] <span class="keyword">is</span> bicycles2[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><h2 id="4-3-修改、添加和删除列表元素"><a href="#4-3-修改、添加和删除列表元素" class="headerlink" title="4.3   修改、添加和删除列表元素"></a>4.3   修改、添加和删除列表元素</h2><h3 id="4-3-1-修改元素"><a href="#4-3-1-修改元素" class="headerlink" title="4.3.1   修改元素"></a>4.3.1   修改元素</h3><p>知识点：修改列表元素的语法与访问列表元素的语法类似</p><p>首先可指定列表名和要修改的元素的<strong>索引</strong>；</p><p>再通过赋值语句，<strong>为该元素赋新的值</strong></p><p>例如，假设有一个摩托车列表，其中的第一个元素为**’honda’**，如何修改它的值呢？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;honda&#x27;, &#x27;yamaha&#x27;, &#x27;suzuki&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#motorcycles[0] = [[111,111,111],&#x27;hello&#x27;] # 列表元素存的是指向具体内容的内存地址！！</span></span><br><span class="line">motorcycles[<span class="number">0</span>] = <span class="string">&#x27;ducati&#x27;</span></span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;ducati&#x27;, &#x27;yamaha&#x27;, &#x27;suzuki&#x27;]</span></span><br></pre></td></tr></table></figure><p>首先定义一个摩托车列表，其中的第一个元素为**’honda’**</p><p>接下来，将第一个元素的值改为**’ducati’**</p><p>输出表明，第一个元素的值确实变了，但其他列表元素的值没变</p><h3 id="4-3-2-添加元素"><a href="#4-3-2-添加元素" class="headerlink" title="4.3.2   添加元素"></a>4.3.2   添加元素</h3><p>补充知识：<strong>Python是面向对象编程语言</strong></p><p>通俗讲<strong>对象就是某种类型的变量</strong></p><p>比如字符串对象，整形对象，浮点数对象等</p><p>在python中，可以按需求自定义类型，设计<strong>新的类</strong></p><p>从面向对象OO(Object Oriented)的概念来讲，对象是类的一个实例；<strong>类是对象/实例的类型</strong></p><p>比如str message，这里的str是类，而message是str类型的对象或str类型的实例</p><h4 id="任务一：在列表末尾添加元素append"><a href="#任务一：在列表末尾添加元素append" class="headerlink" title="任务一：在列表末尾添加元素append()"></a><em>任务一：在列表末尾添加元素append()</em></h4><p>知识点：</p><p><strong>append()<strong>方法用于在列表末尾</strong>动态添加新的对象</strong></p><p>语法：<strong>list.append(obj)</strong></p><p>参数：<strong>obj</strong>为添加到列表末尾的元素</p><p>返回：该方法无返回值，<strong>直接会修改原来的列表</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Taobao&#x27;</span>]</span><br><span class="line">list1.append(<span class="string">&#x27;Baidu&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;更新后的列表 : &quot;</span>, list1)</span><br><span class="line"><span class="comment"># 更新后的列表 :  [&#x27;Google&#x27;, &#x27;Runoob&#x27;, &#x27;Taobao&#x27;, &#x27;Baidu&#x27;]</span></span><br></pre></td></tr></table></figure><p>例子：继续使用前一个示例中的列表，在其末尾添加新元素**’ducati’<strong>。方法</strong>append()<strong>将元素</strong>‘ducati’**添加到了列表末尾，而不影响列表中的其他所有元素</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">motorcycles.append(<span class="string">&#x27;ducati&#x27;</span>)</span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;honda&#x27;, &#x27;yamaha&#x27;, &#x27;suzuki&#x27;, &#x27;ducati&#x27;]</span></span><br></pre></td></tr></table></figure><h4 id="任务二：创建空列表并动态添加元素"><a href="#任务二：创建空列表并动态添加元素" class="headerlink" title="任务二：创建空列表并动态添加元素"></a><em>任务二：创建空列表并动态添加元素</em></h4><p>知识点：</p><p>经常要等程序运行后，你才知道用户要在程序中存储哪些数据</p><p>为控制用户，可首先创建一个空列表，用于存储用户将要输入的值，然后将用户提供的每个新值附加到列表中</p><p>此外，方法<strong>append()<strong>让动态地创建列表易如反掌。例如，可以先创建一个空列表，再使用一系列的</strong>append()<strong>语句添加元素。下面来创建一个空列表，再在其中添加元素</strong>‘honda’<strong>、</strong>‘yamaha’<strong>和</strong>‘suzuki</strong>‘，最终的列表与前述示例中的列表完全相同：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [] <span class="comment"># 创建空列表</span></span><br><span class="line">motorcycles.append(<span class="string">&#x27;honda&#x27;</span>)</span><br><span class="line">print(motorcycles)</span><br><span class="line">motorcycles.append(<span class="string">&#x27;yamaha&#x27;</span>)</span><br><span class="line">print(motorcycles)</span><br><span class="line">motorcycles.append(<span class="string">&#x27;suzuki&#x27;</span>)</span><br><span class="line">print(motorcycles)</span><br></pre></td></tr></table></figure><h4 id="任务三：在列表的指定位置插入新元素insert"><a href="#任务三：在列表的指定位置插入新元素insert" class="headerlink" title="任务三：在列表的指定位置插入新元素insert()"></a><em>任务三：在列表的指定位置插入新元素insert()</em></h4><p>知识点：</p><p><strong>insert()<strong>方法用于将</strong>指定对象</strong>插入列表的<strong>指定位置</strong>。为此，需要指定新元素(对象)的索引和值</p><p>语法：<strong>list.insert(index, obj)</strong></p><p><strong>. 可以看作是该方法的对象作用域</strong>。指明该方法仅仅是针对<strong>某个具体的list对象</strong>进行操作</p><p>参数：<strong>index</strong>为元素<strong>obj</strong>需要插入的索引位置</p><p>参数：<strong>obj</strong>为添加到列表的元素</p><p>返回：该方法无返回值，<strong>但会在列表指定位置插入对象</strong></p><p>注意：<strong>将列表中原索引(包括)之后的所有元素都右移一个位置</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Taobao&#x27;</span>]</span><br><span class="line">list1.insert(<span class="number">1</span>, <span class="string">&#x27;Baidu&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&#x27;列表插入元素后为 : &#x27;</span>, list1)</span><br><span class="line"><span class="comment"># 列表插入元素后为 :  [&#x27;Google&#x27;, &#x27;Baidu&#x27;, &#x27;Runoob&#x27;, &#x27;Taobao&#x27;]</span></span><br></pre></td></tr></table></figure><p>例子：将值**’ducati**’存储到这个地方</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">motorcycles.insert(<span class="number">1</span>,<span class="string">&#x27;ducati&#x27;</span>)</span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;honda&#x27;, &#x27;ducati&#x27;, &#x27;yamaha&#x27;, &#x27;suzuki&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="4-3-3-删除元素"><a href="#4-3-3-删除元素" class="headerlink" title="4.3.3   删除元素"></a>4.3.3   删除元素</h3><p>知识点：</p><p>根据位置或值从列表中<strong>删除一个或多个元素</strong></p><p>玩家将空中的一个外星人射杀后，那么就要将其从存活的外星人列表中删除；</p><p>当用户在你创建的Web网站中注销登录的账户时，将该用户从活跃用户列表中删除</p><h4 id="任务一：使用del语句删除元素"><a href="#任务一：使用del语句删除元素" class="headerlink" title="任务一：使用del语句删除元素"></a><em>任务一：使用<strong>del</strong>语句删除元素</em></h4><p>知识点：</p><p>语法：<strong>del list[index]</strong></p><p>描述：<strong>del</strong>方法用于将<strong>指定位置</strong>的列表元素永久删除。为此，需要指定删除元素的索引</p><p><strong>del</strong>其实<strong>并不属于</strong>列表的方法或者函数</p><p><strong>list[index]<strong>为特定列表</strong>list</strong>的<strong>index</strong>索引位置的原始</p><p><strong>条件</strong>：使用<strong>del</strong>可删除任何位置处的列表元素，条件是知道其<strong>索引</strong></p><p>注意：<strong>del</strong>是直接删除list元素内容，无法再访问被删除的元素</p><p>例子：使用<strong>del</strong>删除了列表<strong>motorcycles</strong>中的第一个元素——**’honda’**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> motorcycles[<span class="number">0</span>]</span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;yamaha&#x27;, &#x27;suzuki&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> motorcycles[<span class="number">0</span>]</span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;suzuki&#x27;]</span></span><br></pre></td></tr></table></figure><h4 id="任务二：使用方法pop-删除元素"><a href="#任务二：使用方法pop-删除元素" class="headerlink" title="任务二：使用方法pop()删除元素"></a><em>任务二：使用方法pop()删除元素</em></h4><p>知识点：</p><p>语法：<strong>obj list.pop([index=-1])</strong></p><p>描述：移除列表中的一个元素（默认最后一个元素），并且返回该元素的值</p><p><strong>将元素从列表中删除，并接着使用它的值</strong></p><p>参数: <strong>带方括号的参数指可选参数</strong></p><p>**[index=-1]**可选参数，指明要移除列表元素的索引值，不能超过列表总长度，默认为 <strong>index=-1</strong>，删除最后一个列表值</p><p>返回值: 该方法返回从列表中移除的元素对象<strong>obj</strong></p><p>例子：下面从列表<strong>motorcycles</strong>中弹出一款摩托车：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">popped_motorcycle = motorcycles.pop()</span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;honda&#x27;, &#x27;yamaha&#x27;]</span></span><br><span class="line">print(popped_motorcycle)</span><br><span class="line"><span class="comment"># suzuki</span></span><br></pre></td></tr></table></figure><p>分析：</p><p>首先定义并打印了列表<strong>motorcycles</strong></p><p>接下来，我们从这个列表中弹出一个值，并将其存储到变量<strong>popped_motorcycle</strong>中</p><p>然后我们打印这个列表，以核实从其中删除了一个值</p><p>最后，我们打印弹出的值，以证明我们依然能够访问被删除的值</p><p>输出表明，列表末尾的值**’suzuki’<strong>已删除，它现在存储在变量</strong>popped_motorcycle**中</p><p>知识点：</p><p>方法**pop()**是怎么起作用的呢？</p><p>被删除的元素还有用于他用</p><p>假设列表中的摩托车是按购买时间存储的，就可使用方法**pop()**打印一条消息，指出最后购买的是哪款摩托车，输出是一个简单的句子，指出了最新购买的是哪款摩托车：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">last_owned = motorcycles.pop()</span><br><span class="line">print(<span class="string">&quot;The last motorcycle I owned was a &quot;</span> + last_owned.title() + <span class="string">&quot;.&quot;</span>)</span><br><span class="line"><span class="comment"># The last motorcycle I owned was a Suzuki.</span></span><br></pre></td></tr></table></figure><h4 id="任务三：pop-列表中任何位置处的元素"><a href="#任务三：pop-列表中任何位置处的元素" class="headerlink" title="任务三：pop()列表中任何位置处的元素"></a><em>任务三：pop()列表中任何位置处的元素</em></h4><p>实际上，你可以使用<strong>pop()<strong>来</strong>删除列表中任何位置的元素</strong>，只需在括号中指定要删除的元素的索引即可</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">print(motorcycles)</span><br><span class="line">print(<span class="string">&quot;---------first_owned = motorcycles.pop(-1)---------&quot;</span>)</span><br><span class="line">first_owned = motorcycles.pop(<span class="number">0</span>)</span><br><span class="line">print(motorcycles)</span><br><span class="line">print(<span class="string">&#x27;The first motorcycle I owned was a &#x27;</span> + first_owned.title() + <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="comment"># The first motorcycle I owned was a Honda.</span></span><br></pre></td></tr></table></figure><p>首先，弹出列表中的第一款摩托车，然后打印了一条有关这辆摩托车的消息</p><p>输出是一个简单的句子，描述了我购买的第一辆摩托车</p><p>知识点：</p><p>每当使用<strong>pop()<strong>时，</strong>被弹出的元素就不再在列表中了</strong></p><p>如果不确定该使用<strong>del</strong>语句还是**pop()**方法，下面是一个简单的判断标准：</p><p>如果你要从列表中删除一个元素，且不再以任何方式使用它，就使用<strong>del</strong>语句；</p><p>如果你要在删除元素后还能继续使用它，就使用方法<strong>pop()</strong></p><h4 id="任务四：使用remove-方法，根据值删除元素"><a href="#任务四：使用remove-方法，根据值删除元素" class="headerlink" title="任务四：使用remove()方法，根据值删除元素"></a><em>任务四：使用remove()方法，根据值删除元素</em></h4><p>知识点：</p><p>语法：<strong>list.remove(obj)</strong></p><p>描述：<strong>remove()<strong>方法用于</strong>移除列表中某个值的第一个匹配项</strong></p><p>参数: <strong>obj</strong>为列表中要移除的元素</p><p>返回值：该方法<strong>没有返回值</strong>，但是会移除列表中的某个值的<strong>第一个匹配项</strong></p><p><strong>条件</strong>：只要知道要删除的元素的值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Taobao&#x27;</span>, <span class="string">&#x27;Baidu&#x27;</span>]</span><br><span class="line">list1.remove(<span class="string">&#x27;Taobao&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;列表现在为 : &quot;</span>, list1)</span><br><span class="line"><span class="comment"># 列表现在为 :  [&#x27;Google&#x27;, &#x27;Runoob&#x27;, &#x27;Baidu&#x27;]</span></span><br><span class="line"></span><br><span class="line">list1.remove(<span class="string">&#x27;Baidu&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;列表现在为 : &quot;</span>, list1)</span><br><span class="line"><span class="comment"># 列表现在为 :  [&#x27;Google&#x27;, &#x27;Runoob&#x27;]</span></span><br></pre></td></tr></table></figure><p>知识点：**remove()**返回值为空</p><p>例子：从列表<strong>motorcycles</strong>中删除值**’ducati’<strong>。通过调用</strong>remove()<strong>方法，查询</strong>‘ducati’**出现在列表的什么地方，并将该元素删除：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>, <span class="string">&#x27;ducati&#x27;</span>]</span><br><span class="line">res = motorcycles.remove(<span class="string">&#x27;yamaha&#x27;</span>)</span><br><span class="line">print(motorcycles)</span><br><span class="line"><span class="comment"># [&#x27;honda&#x27;, &#x27;suzuki&#x27;, &#x27;ducati&#x27;]</span></span><br><span class="line">print(res)</span><br><span class="line"><span class="comment"># None  remove()返回值为空</span></span><br></pre></td></tr></table></figure><p>例子：下面删除值**’ducati’**，并打印一条消息，指出要将其从列表中删除的原因</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>, <span class="string">&#x27;ducati&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span> , <span class="string">&#x27;ducati&#x27;</span>]</span><br><span class="line">print(motorcycles)</span><br><span class="line"></span><br><span class="line">too_expensive = <span class="string">&#x27;ducati&#x27;</span> <span class="comment"># 该变量为remove()所删除的元素</span></span><br><span class="line">motorcycles.remove(too_expensive)</span><br><span class="line">print(motorcycles)</span><br><span class="line">print(<span class="string">&quot;\nA &quot;</span> + too_expensive.title() + <span class="string">&quot; is too expensive for me.&quot;</span>)</span><br></pre></td></tr></table></figure><p>定义列表后，我们将值**’ducati’<strong>存储在变量</strong>too_expensive**中</p><p>接下来，我们使用这个变量来告诉Python将哪个值从列表中删除</p><p>最后，值**’ducati’<strong>已经从列表中删除，但它还存储在变量</strong>too_expensive<strong>中，让我们能够打印一条消息，指出将</strong>‘ducati’<strong>从列表</strong>motorcycles**中删除的原因</p><p>知识点：</p><p><strong>remove()<strong>只</strong>删除第一个指定的值</strong></p><p>如果要删除的值可能在列表中出现多次，就需要使用循环来判断是否删除了所有这样的值</p><h3 id="习题：-2"><a href="#习题：-2" class="headerlink" title="习题："></a>习题：</h3><p>1、<strong>3-4 嘉宾名单</strong>：如果你可以邀请任何人一起共进晚餐（无论是在世的还是故去的），你会邀请哪些人？请创建一个列表，其中包含至少3个你想邀请的人；然后，使用这个列表打印消息，邀请这些人来与你共进晚餐</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">customs = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">0</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">1</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">2</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Wish James would attend my party</span><br><span class="line">Wish Kobe would attend my party</span><br><span class="line">Wish Jordan would attend my party</span><br></pre></td></tr></table></figure><p>2、<strong>3-5 修改嘉宾名单</strong>：你刚得知有位嘉宾无法赴约，因此需要另外邀请一位嘉宾</p><p>以完成练习3-4 时编写的程序为基础，在程序末尾添加一条<strong>print</strong>语句，指出哪位嘉宾无法赴约</p><p>修改嘉宾名单，将无法赴约的嘉宾的姓名替换为新邀请的嘉宾的姓名</p><p>再次打印一系列消息，向名单中的每位嘉宾发出邀请</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">customs = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">print(customs[<span class="number">2</span>] + <span class="string">&quot; can`t attend the party&quot;</span>)</span><br><span class="line">customs[<span class="number">2</span>] = <span class="string">&#x27;ONeal&#x27;</span></span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">0</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">1</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">2</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Jordan can`t attend the party</span><br><span class="line">Wish James would attend my party</span><br><span class="line">Wish Kobe would attend my party</span><br><span class="line">Wish ONeal would attend my party</span><br></pre></td></tr></table></figure><p>3、<strong>3-6 添加嘉宾</strong>：你刚找到了一个更大的餐桌，可容纳更多的嘉宾。请想想你还想邀请哪三位嘉宾</p><p>以完成练习3-4 或练习3-5时编写的程序为基础，在程序末尾添加一条<strong>print</strong>语句，指出你找到了一个更大的餐桌</p><p>使用**insert()**将一位新嘉宾添加到名单开头</p><p>使用**insert()**将另一位新嘉宾添加到名单中间</p><p>使用**append()**将最后一位新嘉宾添加到名单末尾</p><p>打印一系列消息，向名单中的每位嘉宾发出邀请</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">customs = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">customs[<span class="number">2</span>] = <span class="string">&#x27;ONeal&#x27;</span></span><br><span class="line">print(<span class="string">&quot;I found a bigger table&quot;</span>)</span><br><span class="line">customs.insert(<span class="number">0</span> ,<span class="string">&#x27;Curry&#x27;</span>)</span><br><span class="line">customs.insert(<span class="built_in">int</span>(<span class="built_in">len</span>(customs) / <span class="number">2</span>) ,<span class="string">&#x27;Garnett&#x27;</span>)</span><br><span class="line">customs.append(<span class="string">&#x27;Davis&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">0</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">1</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">2</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">3</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">4</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;Wish &quot;</span> + customs[<span class="number">5</span>] + <span class="string">&quot; would attend my party&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">I found a bigger table</span><br><span class="line">Wish Curry would attend my party</span><br><span class="line">Wish James would attend my party</span><br><span class="line">Wish Garnett would attend my party</span><br><span class="line">Wish Kobe would attend my party</span><br><span class="line">Wish ONeal would attend my party</span><br><span class="line">Wish Davis would attend my party</span><br></pre></td></tr></table></figure><p>4、<strong>3-7 缩减名单</strong>：你刚得知新购买的餐桌无法及时送达，因此只能邀请两位嘉宾</p><p>以完成练习3-6时编写的程序为基础，在程序末尾添加一行代码，打印一条你只能邀请两位嘉宾共进晚餐的消息</p><p>使用**pop()**不断地删除名单中的嘉宾，直到只有两位嘉宾为止。每次从名单中弹出一位嘉宾时，都打印一条消息，让该嘉宾知悉你很抱歉，无法邀请他来共进晚餐</p><p>对于余下的两位嘉宾中的每一位，都打印一条消息，指出他依然在受邀人之列</p><p>使用<strong>del</strong>将最后两位嘉宾从名单中删除，让名单变成空的。打印该名单，核实程序结束时名单确实是空的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">customs = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">customs[<span class="number">2</span>] = <span class="string">&#x27;ONeal&#x27;</span></span><br><span class="line">customs.insert(<span class="number">0</span> ,<span class="string">&#x27;Curry&#x27;</span>)</span><br><span class="line">customs.insert(<span class="built_in">int</span>(<span class="built_in">len</span>(customs) / <span class="number">2</span>) ,<span class="string">&#x27;Garnett&#x27;</span>)</span><br><span class="line">customs.append(<span class="string">&#x27;Davis&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;I can only invite two customs to the party&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="built_in">len</span>(customs) != <span class="number">2</span> :</span><br><span class="line">       custom= customs.pop()</span><br><span class="line">       print(custom + <span class="string">&quot;, I`m sorry. You can`t attend this party&quot;</span>)</span><br><span class="line"><span class="keyword">del</span> customs[:]</span><br><span class="line">print(customs)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">I can only invite two customs to the party</span><br><span class="line">Davis, I`m sorry. You can`t attend this party</span><br><span class="line">ONeal, I`m sorry. You can`t attend this party</span><br><span class="line">Kobe, I`m sorry. You can`t attend this party</span><br><span class="line">Garnett, I`m sorry. You can`t attend this party</span><br><span class="line">[]</span><br></pre></td></tr></table></figure><h3 id="4-3-4-将列表用作栈和队列"><a href="#4-3-4-将列表用作栈和队列" class="headerlink" title="4.3.4   将列表用作栈和队列"></a>4.3.4   将列表用作栈和队列</h3><h4 id="任务一：将列表用作栈和队列"><a href="#任务一：将列表用作栈和队列" class="headerlink" title="任务一：将列表用作栈和队列"></a><em>任务一：将列表用作栈和队列</em></h4><p>知识点：列表实现<strong>栈</strong></p><p>栈是通常所说的一种LIFO(Last In First Out 后进先出)数据结构</p><p>它的意思是<strong>最后进入的数据第一个出来</strong></p><p>一个最简单的例子往一端封闭的管道放入一些弹珠然后取出来，如果想把弹珠取出来，必须从最后放入弹珠的位置挨个拿出来。</p><p>使用**append()**将元素追加到列表尾部</p><p>使用 <strong>pop()</strong> 将最后个的元素弹出列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">print(<span class="string">&#x27;出栈之前的列表：&#x27;</span>, a)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;pop()栈尾部弹出元素：&#x27;</span>, a.pop())</span><br><span class="line"><span class="comment"># pop()栈尾部弹出元素： 6</span></span><br><span class="line">print(<span class="string">&#x27;pop()栈尾部弹出元素：&#x27;</span>, a.pop())</span><br><span class="line"><span class="comment"># pop()栈尾部弹出元素： 5</span></span><br><span class="line">print(<span class="string">&#x27;pop()栈尾部弹出元素：&#x27;</span>, a.pop())</span><br><span class="line"><span class="comment"># pop()栈尾部弹出元素： 4</span></span><br><span class="line">print(<span class="string">&#x27;pop()栈尾部弹出元素：&#x27;</span>, a.pop())</span><br><span class="line"><span class="comment"># pop()栈尾部弹出元素： 3</span></span><br><span class="line">print(<span class="string">&#x27;出栈之后的列表：&#x27;</span>, a)</span><br><span class="line"><span class="comment"># 出栈之后的列表： [1, 2]</span></span><br><span class="line"></span><br><span class="line">a.append(<span class="number">34</span>)</span><br><span class="line">print(<span class="string">&#x27;append()栈尾部加入元素：&#x27;</span>, a)</span><br><span class="line"><span class="comment"># append()栈尾部加入元素： [1, 2, 34]</span></span><br></pre></td></tr></table></figure><p>上面的代码中使用了一个列表的 **pop()<strong>和</strong>append()**方法实现出栈和入栈操作</p><p>知识点：列表实现<strong>队列</strong></p><p>在日常生活中会经常遇到队列，比如售票窗口、图书馆、超市的结账出口</p><p><strong>队列</strong> 是一种在<strong>末尾追加数据以及在开始弹出数据</strong>的数据结构</p><p>与栈不同，它是 <strong>FIFO</strong>(First In First Out 先进先出)的数据结构</p><p>使用**append()**将元素追加到列表尾部</p><p>使用 <strong>pop(0)</strong> 将第0位置的元素弹出列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">print(<span class="string">&#x27;出栈之前的列表：&#x27;</span>, a)</span><br><span class="line"><span class="comment"># 出栈之前的列表： [1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">a.append(<span class="number">1</span>)</span><br><span class="line">print(<span class="string">&#x27;append()队列尾部加入元素：&#x27;</span>, a)</span><br><span class="line"><span class="comment"># append()队列尾部加入元素： [1, 2, 3, 4, 5, 1]</span></span><br><span class="line">print(<span class="string">&#x27;pop(0)队列首部弹出元素：&#x27;</span>, a.pop(<span class="number">0</span>))</span><br><span class="line"><span class="comment"># pop(0)队列首部弹出元素： 1</span></span><br><span class="line">print(<span class="string">&#x27;pop(0)队列首部弹出元素：&#x27;</span>, a.pop(<span class="number">0</span>))</span><br><span class="line"><span class="comment"># pop(0)队列首部弹出元素： 2</span></span><br><span class="line">print(<span class="string">&#x27;出队列之后的列表：&#x27;</span>, a)</span><br><span class="line"><span class="comment"># 出队列之后的列表： [3, 4, 5, 1]</span></span><br></pre></td></tr></table></figure><h2 id="4-4-列表的排序"><a href="#4-4-列表的排序" class="headerlink" title="4.4   列表的排序"></a>4.4   列表的排序</h2><h3 id="4-4-1-list-sort-方法进行永久性排序"><a href="#4-4-1-list-sort-方法进行永久性排序" class="headerlink" title="4.4.1  list.sort()方法进行永久性排序"></a>4.4.1  list.sort()方法进行永久性排序</h3><h4 id="任务一：列表的永久排序"><a href="#任务一：列表的永久排序" class="headerlink" title="任务一：列表的永久排序"></a><em>任务一：列表的永久排序</em></h4><p>所谓<strong>永久性排序</strong>，指调用**list.sort()**方法会改变原列表</p><p>知识点：</p><p>描述：<strong>list.sort()<strong>方法用于对列表进行排序；默认情况下，</strong>sort()<strong>方法对列表进行</strong>(ascending)升序排序</strong>；还可以通过<strong>自定义比较函数来设置排序规则</strong></p><p>语法：<strong>list.sort(reverse=False|True, key=myFunc)</strong></p><p>参数:</p><p>reverse – 可选。reverse=True 将对列表进行<strong>降序</strong>排序。默认是 reverse=False</p><p>key – 可选。指定排序标准的函数</p><p>返回值：该方法没有返回值</p><p>该排序方法会修改了列表list元素的排列顺序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vowels list</span></span><br><span class="line">vowels = [<span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;i&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;排序前的list:&#x27;</span>, vowels)</span><br><span class="line"></span><br><span class="line">vowels.sort()</span><br><span class="line">print(<span class="string">&#x27;排序后的list:&#x27;</span>, vowels)</span><br></pre></td></tr></table></figure><p><strong>例子</strong>：假设你有一个汽车列表，并要让其中的汽车<strong>按字母顺序排列</strong>。为简化这项任务，假设该列表中的所有值都是小写的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cars = [<span class="string">&#x27;toyota&#x27;</span>, <span class="string">&#x27;subaru&#x27;</span>, <span class="string">&#x27;abmw&#x27;</span>, <span class="string">&#x27;abudi&#x27;</span>]</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;------------cars.sort()--------------&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;------通过print(cars)发现sort()方法永久改变原列表------------&#x27;</span>)</span><br><span class="line">cars.sort()</span><br><span class="line">print(cars)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;------------cars.sort(reverse=True) 降序排列--------------&#x27;</span>)</span><br><span class="line">cars.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">print(cars)</span><br></pre></td></tr></table></figure><p>方法<strong>sort()永久性地修改了列表元素的排列顺序</strong>。现在，汽车是按字母顺序排列的，再也无法恢复到原来的排列顺序</p><p>还可以按与字母顺序相反的顺序排列列表元素，为此，只需向<strong>sort()<strong>方法传递参数</strong>reverse=True</strong></p><h4 id="任务二：通过sort-的参数key，自定义排序规则"><a href="#任务二：通过sort-的参数key，自定义排序规则" class="headerlink" title="任务二：通过sort()的参数key，自定义排序规则"></a><em>任务二：通过sort()的参数key，自定义排序规则</em></h4><p><strong>例子</strong>：按照值的长度对列表进行排序：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义函数：返回值为元素的长度</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myFunc</span>(<span class="params">e</span>):</span> <span class="comment">#e为形参</span></span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">len</span>(e)</span><br><span class="line"></span><br><span class="line">cars = [<span class="string">&#x27;toyotaa&#x27;</span>, <span class="string">&#x27;subaru&#x27;</span>, <span class="string">&#x27;abmw&#x27;</span>, <span class="string">&#x27;abudi&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;原来的list:&#x27;</span>, cars)</span><br><span class="line"></span><br><span class="line">cars.sort(key=myFunc)</span><br><span class="line">print(<span class="string">&#x27;排序(升序)后的list&#x27;</span>, cars)</span><br><span class="line"></span><br><span class="line">cars.sort(reverse=<span class="literal">True</span>, key=myFunc)</span><br><span class="line">print(<span class="string">&#x27;排序(降序)后的list&#x27;</span>, cars)</span><br></pre></td></tr></table></figure><p><strong>例子</strong>：按二维数组的第二个元素值进行排序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">takeSecond</span>(<span class="params">elem</span>):</span></span><br><span class="line">   <span class="keyword">return</span> elem[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">digits = [[<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">3</span>]]</span><br><span class="line">print(<span class="string">&#x27;排序前的list:&#x27;</span>, digits)</span><br><span class="line"></span><br><span class="line">digits.sort(key=takeSecond)</span><br><span class="line">print(<span class="string">&#x27;排序后的list:&#x27;</span>, digits)</span><br></pre></td></tr></table></figure><h3 id="练习："><a href="#练习：" class="headerlink" title="练习："></a>练习：</h3><p>1、输入5个数，存到列表中，然后使用**sort()**，对该列表进行按升序、降序进行排序，并输出结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;5&#x27;</span>]</span><br><span class="line">print(numbers)</span><br><span class="line">numbers.sort()</span><br><span class="line">print(numbers)</span><br><span class="line">numbers.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">print(numbers)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;5&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;1&#x27;</span>]</span><br></pre></td></tr></table></figure><p>2、构造拥有5个城市名字元素的列表cities，然后使用**sort()**，对该列表进行按升序、降序、字符串长度方式进行排序，并输出结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">citis = [<span class="string">&#x27;China&#x27;</span>, <span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;England&#x27;</span>,<span class="string">&#x27;Japan&#x27;</span>]</span><br><span class="line">another_city = <span class="built_in">sorted</span>(citis)</span><br><span class="line">print(<span class="string">&#x27;sorted()排序后(升序默认):&#x27;</span>,another_city)</span><br><span class="line">another_city.sort(reverse = <span class="literal">True</span>)</span><br><span class="line">print(<span class="string">&#x27;list.sort()排序后(降序):&#x27;</span>,another_city)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sorted</span>()排序后(升序默认): [<span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;China&#x27;</span>, <span class="string">&#x27;England&#x27;</span>, <span class="string">&#x27;Japan&#x27;</span>]</span><br><span class="line"><span class="built_in">list</span>.sort()排序后(降序): [<span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;England&#x27;</span>, <span class="string">&#x27;China&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;America&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="4-4-2-sorted-函数进行临时排序"><a href="#4-4-2-sorted-函数进行临时排序" class="headerlink" title="4.4.2   sorted()函数进行临时排序"></a>4.4.2   sorted()函数进行临时排序</h3><h4 id="任务一：列表的临时排序"><a href="#任务一：列表的临时排序" class="headerlink" title="任务一：列表的临时排序"></a><em>任务一：列表的临时排序</em></h4><p><strong>list.sort()<strong>方法是将排序结果覆盖</strong>修改原列表</strong></p><p>新需求：希望得到列表的排序，但而不希望对原列表进行修改。函数**sorted()**让我们能够对列表进行元素排序(返回一个新的临时列表)，但不影响原始排列顺序</p><p>知识点：</p><p>描述： <strong>sorted()</strong> 函数对所有可迭代的对象进行排序操作</p><p>语法：<strong>sorted(iterable, key=None, reverse=False)</strong></p><p>参数：</p><p>iterable – 可迭代对象。通俗讲是该对象的元素是可以被循环遍历的。通常是集合或序列类型，比如list, str</p><p>key – 可选。指定排序标准的函数</p><p>reverse – 可选。reverse=True 将对列表进行降序排序。默认是 reverse=False</p><p>返回值：返回重新排序的<strong>列表</strong>(与原列表无关)</p><p><strong>注意：传进去的是可迭代对象，而返回的是列表(非原来对象类型)</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 列表对象</span></span><br><span class="line">py_list = [<span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;i&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;排序前:&#x27;</span>, py_list)</span><br><span class="line">print(<span class="string">&#x27;排序后:&#x27;</span>, <span class="built_in">sorted</span>(py_list))</span><br><span class="line"></span><br><span class="line"><span class="comment"># string 字符串对象</span></span><br><span class="line">py_string = <span class="string">&#x27;Python&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;排序前:&#x27;</span>, py_string)</span><br><span class="line">print(<span class="string">&#x27;排序后:&#x27;</span>, <span class="built_in">sorted</span>(py_string, reverse=<span class="literal">True</span>))</span><br></pre></td></tr></table></figure><h4 id="任务二：自定义排序规则"><a href="#任务二：自定义排序规则" class="headerlink" title="任务二：自定义排序规则"></a><em>任务二：自定义排序规则</em></h4><p>**sorted()**函数的第二个元素的值为自定义排序规则</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">takeSecond</span>(<span class="params">elem</span>):</span></span><br><span class="line">   <span class="keyword">return</span> elem[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">digits = [[<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">3</span>]]</span><br><span class="line">print(<span class="string">&#x27;排序前:&#x27;</span>, digits)</span><br><span class="line">print(<span class="string">&#x27;排序后:&#x27;</span>, <span class="built_in">sorted</span>(digits, key=takeSecond))</span><br><span class="line">print(<span class="string">&#x27;原来列表:&#x27;</span>, digits)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cars = [<span class="string">&#x27;bmw&#x27;</span>, <span class="string">&#x27;audi&#x27;</span>, <span class="string">&#x27;toyota&#x27;</span>, <span class="string">&#x27;subaru&#x27;</span>]</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;排序前:&#x27;</span>,cars) <span class="comment">#按原始顺序打印列表</span></span><br><span class="line"></span><br><span class="line">another_car = <span class="built_in">sorted</span>(cars) <span class="comment">#调用sorted(),按字母顺序排序列表</span></span><br><span class="line">print(<span class="string">&#x27;sorted()排序后(升序默认):&#x27;</span>,another_car)</span><br><span class="line"></span><br><span class="line">another_car.sort(reverse = <span class="literal">True</span>) <span class="comment">#调用sorted(),按字母降序排序列表</span></span><br><span class="line">print(<span class="string">&#x27;list.sort()排序后(降序):&#x27;</span>,another_car)</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;原列表, sorted()并不改变原列表:&#x27;</span>,cars)</span><br></pre></td></tr></table></figure><h4 id="任务三：sorted-是python的一个全局函数"><a href="#任务三：sorted-是python的一个全局函数" class="headerlink" title="任务三：sorted()是python的一个全局函数"></a><em>任务三：sorted()是python的一个全局函数</em></h4><p>知识点：</p><p><strong>sorted()<strong>是python的一个全局函数，不是</strong>list</strong>的方法，因此不能通过**list.sorted()**方式调用</p><p><strong>方法</strong>：属于对象的函数</p><p><strong>函数</strong>：全局函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;------------不能通过cars.sorted()-------------&quot;</span>)</span><br><span class="line">print(cars.<span class="built_in">sorted</span>())</span><br></pre></td></tr></table></figure><h3 id="4-4-3-list-reverse-方法对列表进行逆序"><a href="#4-4-3-list-reverse-方法对列表进行逆序" class="headerlink" title="4.4.3   list.reverse()方法对列表进行逆序"></a>4.4.3   list.reverse()方法对列表进行逆序</h3><p>要反转列表元素的排列顺序，可使用方法<strong>list.reverse()</strong></p><p>知识点：</p><p>描述：**list.reverse()**方法反转元素的排序顺序</p><p>语法：<strong>list.reverse()</strong></p><p>参数：无</p><p>返回值：无</p><p><strong>注意：永久性的修改原列表</strong></p><p>假设汽车列表是按购买时间排列的，可轻松地按相反的顺序排列其中的汽车：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cars = [<span class="string">&#x27;bmw&#x27;</span>, <span class="string">&#x27;audi&#x27;</span>, <span class="string">&#x27;toyota&#x27;</span>, <span class="string">&#x27;subaru&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;原列表：&#x27;</span>, cars)</span><br><span class="line"></span><br><span class="line">cars.reverse()</span><br><span class="line">print(<span class="string">&#x27;reverse()后的列表：&#x27;</span>,cars)</span><br><span class="line"></span><br><span class="line">cars.reverse()</span><br><span class="line">print(<span class="string">&#x27;再次reverse()后的列表：&#x27;</span>,cars)</span><br></pre></td></tr></table></figure><p>知识点：</p><p><strong>reverse()<strong>不是指按与字母顺序相反的顺序排列列表元素，而只是</strong>反转列表元素的排列顺序</strong></p><p>方法<strong>reverse()永久性地修改列表元素的排列顺序</strong>，但可随时恢复到原来的排列顺序，为此只需对列表再次调用**reverse()**即可</p><h3 id="习题：-3"><a href="#习题：-3" class="headerlink" title="习题："></a>习题：</h3><p>1、创建一个列表，通过**reverse()**对元素顺序进行翻转，再恢复原来的排序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;Jordan&#x27;</span>, <span class="string">&#x27;ONeal&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;原列表：&#x27;</span>, names)</span><br><span class="line">names.reverse()</span><br><span class="line">print(<span class="string">&#x27;reverse()后的列表：&#x27;</span>,names)</span><br><span class="line">names.reverse()</span><br><span class="line">print(<span class="string">&#x27;再次reverse()后的列表：&#x27;</span>,names)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">原列表： [<span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;Jordan&#x27;</span>, <span class="string">&#x27;ONeal&#x27;</span>]</span><br><span class="line">reverse()后的列表： [<span class="string">&#x27;ONeal&#x27;</span>, <span class="string">&#x27;Jordan&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;James&#x27;</span>]</span><br><span class="line">再次reverse()后的列表： [<span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;Jordan&#x27;</span>, <span class="string">&#x27;ONeal&#x27;</span>]</span><br></pre></td></tr></table></figure><p>2、输入多个字符串，存在列表中，然后调用**reverse()**对元素顺序进行翻转，并输出结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">messages = [<span class="string">&quot;Hello Python world!&quot;</span>,<span class="string">&quot;James&quot;</span>,<span class="string">&quot;Kobe&quot;</span>,<span class="string">&quot;Jordan&quot;</span>]</span><br><span class="line">print(<span class="string">&#x27;原列表：&#x27;</span>, messages)</span><br><span class="line">messages.reverse()</span><br><span class="line">print(<span class="string">&#x27;reverse()后的列表：&#x27;</span>,messages)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">原列表： [<span class="string">&#x27;Hello Python world!&#x27;</span>, <span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">reverse()后的列表： [<span class="string">&#x27;Jordan&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Hello Python world!&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="4-4-4-len-函数查询长度"><a href="#4-4-4-len-函数查询长度" class="headerlink" title="4.4.4   len()函数查询长度"></a>4.4.4   len()函数查询长度</h3><h4 id="任务一：使用len-查询列表长度"><a href="#任务一：使用len-查询列表长度" class="headerlink" title="任务一：使用len()查询列表长度"></a><em>任务一：使用len()查询列表长度</em></h4><p>知识点：</p><p>描述：**len()**函数获得列表的长度</p><p>语法：<strong>len(object)</strong></p><p>参数：集合或序列类型的对象。比如<strong>list，str</strong>等</p><p>返回：长度值</p><p>属性：Python的build-in(内建)函数。所谓内建，就是Python自带的函数，类似于<strong>sorted()</strong></p><p>在下面的示例中，列表包含4个元素，因此其长度为4：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cars =  [<span class="string">&#x27;bmw&#x27;</span>,  <span class="string">&#x27;audi&#x27;</span>,  <span class="string">&#x27;toyota&#x27;</span>,  <span class="string">&#x27;subaru&#x27;</span>]</span><br><span class="line">print(<span class="string">&#x27;长度：&#x27;</span>,<span class="built_in">len</span>(cars))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mylist = <span class="string">&quot;Hello&quot;</span></span><br><span class="line">print(<span class="string">&#x27;长度：&#x27;</span>, <span class="built_in">len</span>(mylist))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="built_in">len</span>(a)</span><br></pre></td></tr></table></figure><h3 id="习题：-4"><a href="#习题：-4" class="headerlink" title="习题："></a>习题：</h3><p><strong>3-8 放眼世界</strong>：想出至少5个你渴望去旅游的地方</p><p>将这些地方存储在一个列表中，并确保其中的元素不是按字母顺序排列的</p><p>按原始排列顺序打印该列表。不要考虑输出是否整洁的问题，只管打印原始Python列表</p><p>使用**sorted()**按字母顺序打印这个列表，同时不要修改它</p><p>再次打印该列表，核实排列顺序未变</p><p>使用**sorted()**按与字母顺序相反的顺序打印这个列表，同时不要修改它</p><p>再次打印该列表，核实排列顺序未变</p><p>使用**reverse()**修改列表元素的排列顺序。打印该列表，核实排列顺序确实变了</p><p>使用**reverse()**再次修改列表元素的排列顺序。打印该列表，核实已恢复到原来的排列顺序</p><p>使用**sort()**修改该列表，使其元素按字母顺序排列。打印该列表，核实排列顺序确实变了</p><p>使用**sort()**修改该列表，使其元素按与字母顺序相反的顺序排列。打印该列表，核实排列顺序确实变了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">places =[<span class="string">&#x27;Japan&#x27;</span>,<span class="string">&#x27;America&#x27;</span>,<span class="string">&#x27;Canada&#x27;</span>,<span class="string">&#x27;Switzerland&#x27;</span>,<span class="string">&#x27;Norway&#x27;</span>]</span><br><span class="line">print(places)</span><br><span class="line">print(<span class="built_in">sorted</span>(places))</span><br><span class="line">print(places)</span><br><span class="line">print(<span class="built_in">sorted</span>(places,reverse = <span class="literal">True</span>))</span><br><span class="line">print(places)</span><br><span class="line">places.reverse()</span><br><span class="line">print(places)</span><br><span class="line">places.reverse()</span><br><span class="line">print(places)</span><br><span class="line">places.sort()</span><br><span class="line">print(places)</span><br><span class="line">places.sort(reverse = <span class="literal">True</span>)</span><br><span class="line">print(places)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;Switzerland&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>, <span class="string">&#x27;Switzerland&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;Switzerland&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;Switzerland&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>, <span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;America&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;Switzerland&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;Norway&#x27;</span>, <span class="string">&#x27;Switzerland&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Japan&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;Switzerland&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;America&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>, <span class="string">&#x27;Switzerland&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;Switzerland&#x27;</span>, <span class="string">&#x27;Norway&#x27;</span>, <span class="string">&#x27;Japan&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>, <span class="string">&#x27;America&#x27;</span>]</span><br></pre></td></tr></table></figure><p><strong>3-9 晚餐嘉宾</strong>：在完成练习3-4~练习3-7时编写的程序之一中，使用**len()**打印一条消息，指出你邀请了多少位嘉宾来与你共进晚餐</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">customs = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">customs[<span class="number">2</span>] = <span class="string">&#x27;ONeal&#x27;</span></span><br><span class="line">print(<span class="string">&quot;I found a bigger table&quot;</span>)</span><br><span class="line">customs.insert(<span class="number">0</span> ,<span class="string">&#x27;Curry&#x27;</span>)</span><br><span class="line">customs.insert(<span class="built_in">int</span>(<span class="built_in">len</span>(customs) / <span class="number">2</span>) ,<span class="string">&#x27;Garnett&#x27;</span>)</span><br><span class="line">customs.append(<span class="string">&#x27;Davis&#x27;</span>)</span><br><span class="line">print(<span class="built_in">len</span>(customs))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I found a bigger table</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure><p><strong>3-10 尝试使用各个函数</strong>：想想可存储到列表中的东西，如山岳、河流、国家、城市、语言或你喜欢的任何东西。编写一个程序，在其中创建一个包含这些元素的列表，然后，对于本章介绍的每个函数，都至少使用一次来处理这个列表</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">customs = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">customs[<span class="number">2</span>] = <span class="string">&#x27;ONeal&#x27;</span></span><br><span class="line">customs.insert(<span class="number">0</span> ,<span class="string">&#x27;Curry&#x27;</span>)</span><br><span class="line">customs.insert(<span class="built_in">int</span>(<span class="built_in">len</span>(customs) / <span class="number">2</span>) ,<span class="string">&#x27;Garnett&#x27;</span>)</span><br><span class="line">customs.append(<span class="string">&#x27;Davis&#x27;</span>)</span><br><span class="line">print(<span class="built_in">len</span>(customs))</span><br><span class="line">print(<span class="built_in">sorted</span>(customs))</span><br><span class="line">customs.sort()</span><br><span class="line">print(customs)</span><br><span class="line">customs.reverse()</span><br><span class="line">print(customs)</span><br><span class="line">print(customs.pop())</span><br><span class="line">customs.remove(<span class="string">&#x27;Kobe&#x27;</span>)</span><br><span class="line">print(customs)</span><br><span class="line"><span class="keyword">del</span> customs[:]</span><br><span class="line">print(customs)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span></span><br><span class="line">[<span class="string">&#x27;Curry&#x27;</span>, <span class="string">&#x27;Davis&#x27;</span>, <span class="string">&#x27;Garnett&#x27;</span>, <span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;ONeal&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;Curry&#x27;</span>, <span class="string">&#x27;Davis&#x27;</span>, <span class="string">&#x27;Garnett&#x27;</span>, <span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;ONeal&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;ONeal&#x27;</span>, <span class="string">&#x27;Kobe&#x27;</span>, <span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Garnett&#x27;</span>, <span class="string">&#x27;Davis&#x27;</span>, <span class="string">&#x27;Curry&#x27;</span>]</span><br><span class="line">Curry</span><br><span class="line">[<span class="string">&#x27;ONeal&#x27;</span>, <span class="string">&#x27;James&#x27;</span>, <span class="string">&#x27;Garnett&#x27;</span>, <span class="string">&#x27;Davis&#x27;</span>]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure><h3 id="4-4-5-列表list常用操作"><a href="#4-4-5-列表list常用操作" class="headerlink" title="4.4.5   列表list常用操作"></a>4.4.5   列表list常用操作</h3><h2 id="4-5-使用列表时避免索引错误"><a href="#4-5-使用列表时避免索引错误" class="headerlink" title="4.5   使用列表时避免索引错误"></a>4.5   使用列表时避免索引错误</h2><h4 id="任务一：熟悉列表常见的索引错误"><a href="#任务一：熟悉列表常见的索引错误" class="headerlink" title="任务一：熟悉列表常见的索引错误"></a><em>任务一：熟悉列表常见的索引错误</em></h4><p>刚开始使用列表时，经常会遇到一种错误。假设你有一个包含三个元素的列表，想获得最后一个元素，误用索引为3：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">print(motorcycles[<span class="number">3</span>])</span><br></pre></td></tr></table></figure><p>Python试图向你提供位于索引3处的元素，但它搜索列表<strong>motorcycles</strong>时，却发现索引3处没有元素。鉴于列表索引差一的特征，这种错误很常见。有些人从1开始数，因此以为第三个元素的索引为3；但在Python中，第三个元素的索引为2，因为索引是从0开始的</p><p>知识点：</p><p>索引错误意味着Python无法理解你指定的索引</p><p>程序发生索引错误时，请尝试将你指定的索引减1，然后再次运行程序，看看结果是否正确</p><p>每当需要访问最后一个列表元素时，都可使用索引**-1**。对于列表长度发生变化的情形特别有效：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = [<span class="string">&#x27;honda&#x27;</span>, <span class="string">&#x27;yamaha&#x27;</span>, <span class="string">&#x27;suzuki&#x27;</span>]</span><br><span class="line">print(motorcycles[-<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>索引**-1<strong>总是</strong>返回最后一个列表元素<strong>，这里为值</strong>‘suzuki’**。仅当列表为空时，这种访问最后一个元素的方式才会导致错误：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">motorcycles = []</span><br><span class="line">print(motorcycles, <span class="built_in">len</span>(motorcycles))</span><br><span class="line">print(motorcycles[-<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>知识点：</p><p>找不到解决办法时，<strong>请尝试将列表或其长度打印出来</strong></p><p><strong>列表可能与想象中的截然不同</strong>，在程序对其进行了动态处理时尤其如此。通过查看列表或其包含的元素数，可帮助找出这种逻辑错误</p><h3 id="习题：-5"><a href="#习题：-5" class="headerlink" title="习题："></a>习题：</h3><p><strong>3-11 有意引发错误</strong>：如果你还没有在程序中遇到过索引错误，就尝试引发一个这种错误。在你的一个程序中，修改其中的索引，以引发索引错误。关闭程序前，务必消除这个错误</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">print(names[<span class="number">3</span>])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line">IndexError                                Traceback (most recent call last)</span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">97</span>-8e4ac68e70ad&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">      <span class="number">1</span> names = [<span class="string">&#x27;James&#x27;</span>,<span class="string">&#x27;Kobe&#x27;</span>,<span class="string">&#x27;Jordan&#x27;</span>]</span><br><span class="line">----&gt; 2 print(names[3])</span><br><span class="line"></span><br><span class="line">IndexError: <span class="built_in">list</span> index out of <span class="built_in">range</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210414220707008.png&quot; alt=&quot;image-20210414220707008&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记3</title>
    <link href="http://waxll.top/2021/04/01/p3.html"/>
    <id>http://waxll.top/2021/04/01/p3.html</id>
    <published>2021-04-01T13:51:14.000Z</published>
    <updated>2021-04-01T13:56:12.487Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210328233520957.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210328233520957.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210328233520957"></p><span id="more"></span><h1 id="第三章-数据类型：字符串"><a href="#第三章-数据类型：字符串" class="headerlink" title="第三章 数据类型：字符串"></a>第三章 数据类型：字符串</h1><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="字符串使用语法"><a href="#字符串使用语法" class="headerlink" title="字符串使用语法"></a>字符串使用语法</h3><h4 id="使用引号创建字符串类型数据"><a href="#使用引号创建字符串类型数据" class="headerlink" title="使用引号创建字符串类型数据"></a>使用<strong>引号</strong>创建字符串类型数据</h4><p> 知识点：</p><ul><li><strong>字符串</strong>就是一系列字符。</li><li>使用引号创建字符串，<strong>引号必须要用英文输入法，中文会出错！</strong>。</li><li>用<strong>引号</strong>括起的都是字符串，可以是单引号，也可以是双引号。</li><li><strong>字面量</strong>：<strong>直接通过引号</strong>创建的字符串称为字面量。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;This is a string.&quot;</span></span><br><span class="line"><span class="string">&#x27;This is also a string.&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#&#x27;This is also a string.&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="通过print在Jupyter中输出所有内容"><a href="#通过print在Jupyter中输出所有内容" class="headerlink" title="通过print在Jupyter中输出所有内容"></a>通过print在Jupyter中输出所有内容</h4><p> 知识点：</p><ul><li>Jupyter只输出<strong>最后一个字符串</strong>。 </li><li>使用<code>print()</code>函数输出需要输出的内容(不仅是字符串，也可是变量值)。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;This is a string.&quot;</span>)</span><br><span class="line">print(<span class="string">&#x27;This is also a string.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#This is a string.</span></span><br><span class="line"><span class="comment">#This is also a string.</span></span><br></pre></td></tr></table></figure><h4 id="正确使用引号创建字符串类型数据"><a href="#正确使用引号创建字符串类型数据" class="headerlink" title="正确使用引号创建字符串类型数据"></a>正确使用引号创建字符串类型数据</h4><p> 知识点：</p><ul><li>由于引号在python中有特殊意义，<strong>用于标识字符串的起止标识</strong>。</li><li>如果在<code>&quot;&quot;</code>双引号作为标识的字符串中使用<code>&quot;</code>字符，那么，<strong>python就只能把<code>&quot;</code>错误地解析为起止标识</strong>，而无法解析为该<code>&quot;</code>字符本身，进而引发语法错误。</li><li>为了解决此歧义问题，Python引入了转移字符技术，即通过<strong>转义字符<code>\&#39;</code>和<code>\&quot;</code>方式</strong>来明确告诉Python，<strong>当前的字符解析为字符本身</strong>，而非起止标识。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;-----------两种引号的嵌套使用------------&#x27;</span>)</span><br><span class="line">print(<span class="string">&#x27;I told my friend, &quot;Python is my favorite language!&quot;&#x27;</span>)</span><br><span class="line">print(<span class="string">&quot;The language \&#x27;Python\&quot; is named after Monty Python.&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;One of Python&#x27;s strengths is its diverse.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------两种引号的嵌套使用------------</span></span><br><span class="line"><span class="comment">#I told my friend, &quot;Python is my favorite language!&quot;</span></span><br><span class="line"><span class="comment">#The language &#x27;Python&quot; is named after Monty Python.</span></span><br><span class="line"><span class="comment">#One of Python&#x27;s strengths is its diverse.</span></span><br></pre></td></tr></table></figure><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><ul><li>第1题</li><li>第2题</li><li>第3题</li></ul><h3 id="使用方法修改字符串的大小写"><a href="#使用方法修改字符串的大小写" class="headerlink" title="使用方法修改字符串的大小写"></a>使用方法修改字符串的大小写</h3><h4 id="使用方法title-修改字符串为首字母大写"><a href="#使用方法title-修改字符串为首字母大写" class="headerlink" title="使用方法title()修改字符串为首字母大写"></a>使用方法title()修改字符串为首字母大写</h4><p> 知识点：</p><ul><li><p>Python的字符串<strong>敏感于大小写</strong>。</p></li><li><p>比如<code>Ada</code>和<code>ada</code>是不同的字符串。</p></li><li><p><strong>方法</strong>：在类中定义的函数。这里的<strong>类</strong>指的是特定的类型。</p><ul><li>比如在字符串类型<code>str</code>中定义了字符串首字母大写转换函数<code>title()</code>。</li></ul></li><li><p><strong>方法的调用</strong>：<code>变量名.方法()</code>。</p><ul><li>首先，创建该类型的变量。</li></ul></li><li><p>然后，通过该变量来调用对应的方法。</p><p> <strong>具体程序如下：</strong></p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;ada lovelace&quot;</span> <span class="comment"># 创建该类型的变量</span></span><br><span class="line">print(<span class="built_in">type</span>(name)) <span class="comment"># &lt;class &#x27;str&#x27;&gt; 查询变量类型</span></span><br><span class="line">print(name.title()) <span class="comment"># Ada Lovelace，通过该变量来调用对应的方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="comment"># Ada Lovelace</span></span><br></pre></td></tr></table></figure><p> 在这个示例中，小写的字符串<code>&quot;ada lovelace&quot;</code>存储到了变量<code>name</code>中。</p><ul><li>在<code>print()</code>语句中，方法<code>title()</code>出现在这个变量(对象)的后面。</li><li>在<code>name.title()</code>中，<code>name</code>后面的句点（<code>.</code>）让Python对变量<code>name</code>执行方法<code>title()</code>指定的操作。</li><li><strong>每个方法后面都跟着一对括号，为方法传入额外的参数(信息)。</strong> 函数<code>title()</code>不需要额外的信息，因此它后面的括号是空的。  </li><li><code>title()</code>以首字母大写的方式显示每个单词，即将每个单词的首字母都改为大写。这很有用，因为你经常需要将名字视为信息。例如，你可能希望程序将值<code>Ada</code>、<code>ADA</code>和<code>ada</code>视为同一个名字，并将它们都显示为<code>Ada</code>。</li></ul><h4 id="使用方法upper-和lower-修改字符串大小写"><a href="#使用方法upper-和lower-修改字符串大小写" class="headerlink" title="使用方法upper()和lower()修改字符串大小写"></a>使用方法upper()和lower()修改字符串大小写</h4><p>  知识点：</p><blockquote><ul><li><em># message.lower() : this is string example from runoob….wow!!!</em></li></ul><p> <em># message.upper() : THIS IS STRING EXAMPLE FROM RUNOOB….WOW!!!</em><code>str.lower()</code>：转换字符串中所有大写字符为小写。</p></blockquote><ul><li><ul><li>无参数，返回全为小写的字符串。</li></ul></li><li><p><code>str.upper()</code>：转换字符串中所有小写字符为大写。</p></li><li><ul><li>无参数，返回全为大写的字符串。</li></ul></li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Ada Lovelace&quot;</span></span><br><span class="line">print(name.upper())</span><br><span class="line">print(name.lower())</span><br><span class="line"></span><br><span class="line"><span class="comment"># ADA LOVELACE</span></span><br><span class="line"><span class="comment"># ada lovelace</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">&quot;this is string example from runoob....wow!!!&quot;</span></span><br><span class="line">print(<span class="string">&quot;message.lower() : &quot;</span>, message.lower())</span><br><span class="line">print(<span class="string">&quot;message.upper() : &quot;</span>, message.upper())</span><br><span class="line"></span><br><span class="line"><span class="comment"># message.lower() :  this is string example from runoob....wow!!!</span></span><br><span class="line"><span class="comment"># message.upper() :  THIS IS STRING EXAMPLE FROM RUNOOB....WOW!!!</span></span><br></pre></td></tr></table></figure><h4 id="习题-1"><a href="#习题-1" class="headerlink" title="习题"></a>习题</h4><ul><li>第4题</li></ul><h3 id="合并（拼接-字符串"><a href="#合并（拼接-字符串" class="headerlink" title="合并（拼接)字符串"></a>合并（拼接)字符串</h3><h4 id="字符串拼接操作"><a href="#字符串拼接操作" class="headerlink" title="字符串拼接操作"></a>字符串拼接操作</h4><blockquote><p>知识点：</p><ul><li><strong>Python使用加号（<code>+</code>）来合并字符串</strong>。</li><li>拼接的类型必须是字符串，否则会出错。</li></ul></blockquote><p>例如，你可能想将姓和名存储在不同的变量中，等要显示姓名时再将它们合而为一：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;--字符串的拼接 通过 + 操作----&quot;</span>)</span><br><span class="line">first_name = <span class="string">&quot;ada&quot;</span></span><br><span class="line">last_name = <span class="string">&quot;lovelace&quot;</span></span><br><span class="line">full_name = first_name + <span class="string">&quot; &quot;</span> + last_name</span><br><span class="line">print(full_name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># --字符串的拼接 通过 + 操作----</span></span><br><span class="line"><span class="comment"># ada lovelace</span></span><br></pre></td></tr></table></figure><p>在这个示例中，我们使用<code>+</code>来合并<code>first_name</code>、空格和<code>last_name</code>，以得到完整的姓名。这种合并字符串的方法称为<strong>拼接</strong>。通过拼接，可使用存储在变量中的信息来创建完整的消息。下面来看一个例子：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">first_name = <span class="string">&quot;ada&quot;</span></span><br><span class="line">last_name = <span class="string">&quot;lovelace&quot;</span></span><br><span class="line">full_name = first_name + <span class="string">&quot; &quot;</span> + last_name</span><br><span class="line">print(<span class="string">&quot;Hello, &quot;</span> + full_name.title() + <span class="string">&quot;!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hello, Ada Lovelace!</span></span><br></pre></td></tr></table></figure><h4 id="将字符串拼接的结果存变量中"><a href="#将字符串拼接的结果存变量中" class="headerlink" title="将字符串拼接的结果存变量中"></a>将字符串拼接的结果存变量中</h4><p>在这里，一个问候用户的句子中使用了全名，并使用了方法<code>title()</code>来将姓名设置为合适的格式。这些代码显示一条格式良好的简单问候语。还可以使用拼接来创建消息，再把整条消息都存储在一个变量中：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">first_name = <span class="string">&quot;ada&quot;</span></span><br><span class="line">last_name = <span class="string">&quot;lovelace&quot;</span></span><br><span class="line">full_name = first_name + <span class="string">&quot; &quot;</span> + last_name</span><br><span class="line"></span><br><span class="line">message = <span class="string">&quot;Hello, &quot;</span> + full_name.title() + <span class="string">&quot;!&quot;</span></span><br><span class="line">print(message)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hello, Ada Lovelace!</span></span><br></pre></td></tr></table></figure><ul><li>上述代码也显示消息“Hello, Ada Lovelace!”，但将这条消息存储在了一个变量中，这让最后的<code>print</code>语句简单得多。</li></ul><h4 id="习题-2"><a href="#习题-2" class="headerlink" title="习题"></a>习题</h4><ul><li>第5题</li></ul><h3 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h3><h4 id="使用制表符"><a href="#使用制表符" class="headerlink" title="使用制表符"></a>使用制表符</h4><blockquote><p>知识点：</p><ul><li>在程序中，<strong>空白泛指任何非打印字符，如空格、制表符和换行符。</strong> </li><li>可使用空白来组织输出，以使其更易读。</li><li><strong>横向制表符</strong>：转义字符<code>\t</code>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;\tPython\tPython\tPython\tPython&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;\tJava\tJava\tJava\tJava&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Python Python Python Python</span></span><br><span class="line"><span class="comment">#Java Java Java Java</span></span><br></pre></td></tr></table></figure><h4 id="使用换行符"><a href="#使用换行符" class="headerlink" title="使用换行符"></a>使用换行符</h4><blockquote><p>知识点：</p><ul><li><strong>换行符</strong> ：在字符串中添加换行符，可使用转义字符<code>\n</code>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;Languages:\nPython\nC\nJavaScript&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Languages:</span></span><br><span class="line"><span class="comment"># Python</span></span><br><span class="line"><span class="comment"># C</span></span><br><span class="line"><span class="comment"># JavaScript</span></span><br></pre></td></tr></table></figure><h4 id="组合使用"><a href="#组合使用" class="headerlink" title="组合使用"></a>组合使用</h4><blockquote><p>知识点：</p><ul><li><strong>组合使用</strong>：可在同一个字符串中同时包含制表符和换行符。</li><li>字符串<code>&quot;\n\t&quot;</code>让Python换到下一行，并在下一行开头添加一个制表符。</li></ul></blockquote><p>下面的示例演示了如何使用一个单行字符串来生成四行输出：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;Languages:\n\tPython11111\tPython\tPython\n\tC\tC\n\tJava\tJava&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Languages:</span></span><br><span class="line"><span class="comment">#         Python11111     Python  Python</span></span><br><span class="line"><span class="comment">#         C       C</span></span><br><span class="line"><span class="comment">#         Java    Java</span></span><br></pre></td></tr></table></figure><h4 id="引号和反斜杠"><a href="#引号和反斜杠" class="headerlink" title="引号和反斜杠"></a>引号和反斜杠</h4><blockquote><p>知识点：</p><ul><li>单引号：<code>\&#39;</code>。</li><li>双引号：<code>\&quot;</code>。</li><li>反斜杠符号：<code>\\</code>。</li></ul></blockquote><h4 id="习题-3"><a href="#习题-3" class="headerlink" title="习题"></a>习题</h4><ul><li>第6题</li><li>第7题</li></ul><h3 id="删除字符串中的空白"><a href="#删除字符串中的空白" class="headerlink" title="删除字符串中的空白"></a>删除字符串中的空白</h3><h4 id="认识程序中的空白"><a href="#认识程序中的空白" class="headerlink" title="认识程序中的空白"></a>认识程序中的空白</h4><blockquote><p>知识点：</p><ul><li>对人来说，<code>&#39;python&#39;</code>和<code>&#39;python &#39;</code>看起来几乎一样。</li><li>对程序来说，它们<strong>却是两个不同的字符串</strong>。</li><li>程序对<strong>字符串中的空白敏感</strong>。</li></ul></blockquote><p><strong>处理字符串中的空白很重要，因为经常需要比较两个字符串是否相同。</strong>例如，在用户登录网站时检查其用户名。通过对字符串空白删除操作，对用户输入数据中的多余空白进行删除。</p><h4 id="使用方法rstrip-删除字符串末尾空白"><a href="#使用方法rstrip-删除字符串末尾空白" class="headerlink" title="使用方法rstrip()删除字符串末尾空白"></a>使用方法<code>rstrip()</code>删除字符串末尾空白</h4><blockquote><p>知识点：<code>rstrip()</code>方法</p><ul><li>调用语法：<code>str.rstrip([chars])</code>。</li><li>描述：删除 <code>string</code>字符串末尾的指定字符，默认为空格。</li><li>参数：<code>chars</code>，指定删除的字符，默认为空格。</li><li>返回：删除 <code>string</code>字符串末尾的指定字符后生成的新字符串。</li></ul></blockquote> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">favorite_language = <span class="string">&#x27; python &#x27;</span></span><br><span class="line">print(favorite_language)</span><br><span class="line"><span class="comment"># &#x27; python &#x27;</span></span><br><span class="line"></span><br><span class="line">print(favorite_language.rstrip())</span><br><span class="line"><span class="comment"># &#x27; python&#x27;</span></span><br><span class="line"></span><br><span class="line">print(favorite_language)</span><br><span class="line"><span class="comment"># &#x27; python &#x27;</span></span><br></pre></td></tr></table></figure><p>分析：</p><ul><li>存储在变量<code>favorite_language</code>中的字符串末尾包含多余的空白。Jupyter输出可看到末尾的空格。</li><li>对变量<code>favorite_language</code>调用方法<code>rstrip()</code>后，这个多余的空格被删除了。</li><li>然而，这种删除只是暂时的，在Jupyter输出中输出<code>favorite_language</code>时，会发现它依然包含多余的空白。</li></ul><p>设置参数<code>chars</code>，删除指定的字符。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&quot;     this is string example....wow!!!     &quot;</span></span><br><span class="line"><span class="built_in">print</span> (<span class="built_in">str</span>.rstrip()) <span class="comment"># 默认为空白</span></span><br><span class="line"><span class="comment">#      this is string example....wow!!!</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&quot;*****this is string example....wow!!!*****&quot;</span></span><br><span class="line"><span class="built_in">print</span> (<span class="built_in">str</span>.rstrip(<span class="string">&#x27;*&#x27;</span>)) <span class="comment"># 指定字符*</span></span><br><span class="line"><span class="comment"># *****this is string example....wow!!!</span></span><br></pre></td></tr></table></figure><h4 id="永久删除字符串的空白"><a href="#永久删除字符串的空白" class="headerlink" title="永久删除字符串的空白"></a>永久删除字符串的空白</h4><p>要永久删除这个字符串中的空白，必须将删除操作的结果存回到变量中。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;-------通过赋值的方式覆盖原字符串-----------&#x27;</span>)</span><br><span class="line">favorite_language = <span class="string">&#x27; python &#x27;</span></span><br><span class="line">favorite_language  = favorite_language.rstrip()</span><br><span class="line">print(favorite_language)</span><br><span class="line"><span class="comment"># &#x27; python&#x27;</span></span><br></pre></td></tr></table></figure><p>分析：</p><ul><li>因为<code>rstrip()</code>操作不直接修改字符串，而是返回一个新的字符串。</li><li>在编程中，经常需要修改变量的值，再将新值存回到原来的变量中。 </li></ul><h4 id="使用方法lstrip-和strip-删除字符串首和两端空白"><a href="#使用方法lstrip-和strip-删除字符串首和两端空白" class="headerlink" title="使用方法lstrip()和strip()删除字符串首和两端空白"></a>使用方法<code>lstrip()</code>和<code>strip()</code>删除字符串首和两端空白</h4><p>Python还可以删除字符串开头的空白，或同时剔除字符串两端的空白。为此，可分别使用方法<code>lstrip()</code>和<code>strip()</code>。在这个示例中，我们首先创建了一个开头和末尾都有空白的字符串。接下来，我们分别删除末尾、开头和两端的空格。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;------Jupyter对赋值语句结果不输出----------&#x27;</span>)</span><br><span class="line">favorite_language = <span class="string">&#x27; python &#x27;</span></span><br><span class="line">print(favorite_language)</span><br><span class="line"><span class="comment"># &#x27; python &#x27;</span></span><br><span class="line"></span><br><span class="line">print(favorite_language.rstrip())</span><br><span class="line"><span class="comment"># &#x27; python&#x27;</span></span><br><span class="line"></span><br><span class="line">print(favorite_language.lstrip())</span><br><span class="line"><span class="comment"># &#x27;python &#x27;</span></span><br><span class="line"></span><br><span class="line">print(favorite_language.strip())</span><br><span class="line"><span class="comment"># &#x27;python&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="习题-4"><a href="#习题-4" class="headerlink" title="习题"></a>习题</h4><ul><li>第8题</li><li>第9题</li></ul><h3 id="字符串引起的语法错误"><a href="#字符串引起的语法错误" class="headerlink" title="字符串引起的语法错误"></a>字符串引起的语法错误</h3><h4 id="字符串引号引起的语法错误"><a href="#字符串引号引起的语法错误" class="headerlink" title="字符串引号引起的语法错误"></a>字符串引号引起的语法错误</h4><blockquote><p>知识点：</p><ul><li><strong>语法错误</strong>在编程过中经常会被遇到，当程序中包含非法的Python代码时，就会导致语法错误。</li><li>可通过Python解释器提供的错误信息，来较快的解决。</li></ul></blockquote><p>下面演示了如何正确地使用单引号和双引号。撇号位于两个双引号之间，因此Python解释器能够正确地理解这个字符串：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">&quot;One of Python&#x27;s strengths is its diverse community.&quot;</span></span><br><span class="line">print(message)</span><br><span class="line"></span><br><span class="line"><span class="comment"># One of Python&#x27;s strengths is its diverse community.</span></span><br></pre></td></tr></table></figure><p>在用单引号括起的字符串中，如果包含撇号，就将导致错误。这是因为这会导致Python将第一个单引号和撇号之间的内容视为一个字符串，进而将余下的文本视为Python代码，从而引发错误。因为，Python将无法正确地确定字符串的结束位置：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">message = <span class="string">&#x27;One of Python&#x27;</span>s strengths <span class="keyword">is</span> its diverse community.<span class="string">&#x27;</span></span><br><span class="line"><span class="string">#  File &quot;&lt;stdin&gt;&quot;, line 1</span></span><br><span class="line"><span class="string">#    message = &#x27;</span>One of Python<span class="string">&#x27;s strengths is its diverse community.&#x27;</span></span><br><span class="line"><span class="comment">#                             ^</span></span><br><span class="line"><span class="comment">#SyntaxError: invalid syntax</span></span><br></pre></td></tr></table></figure><p>从上述输出可知，错误发生在第二个单引号后面。这种<strong>语法错误</strong>表明，在解释器看来，其中的有些内容不是有效的Python代码。</p><p>知识点：</p><ul><li>编写程序时，编辑器的语法突出功能可帮助你快速找出某些语法错误。</li><li>看到Python代码以普通句子的颜色显示，或者普通句子以Python代码的颜色显示时，就可能意味着文件中存在引号不匹配的情况。</li></ul><h4 id="习题-5"><a href="#习题-5" class="headerlink" title="习题"></a>习题</h4><ul><li>第10题</li><li>第11题</li><li>第12题</li><li>第13题</li><li>第14题</li></ul><h2 id="重要-格式化字符串"><a href="#重要-格式化字符串" class="headerlink" title="(重要)格式化字符串"></a>(重要)格式化字符串</h2><h3 id="format-函数的语法"><a href="#format-函数的语法" class="headerlink" title=".format()函数的语法"></a>.format()函数的语法</h3><h4 id="认识-format-字符串格式化函数"><a href="#认识-format-字符串格式化函数" class="headerlink" title="认识.format()字符串格式化函数"></a>认识<code>.format()</code>字符串格式化函数</h4><p>Python提供了<code>.format()</code>字符串格式化函数。该函数操作起来方便，可读性很强。 <code>.format()</code>函数常与<code>print()</code>函数结合使用，具备很强的格式化输出能力。</p><p>知识点：<code>.format()</code>字符串格式化函数。</p><ul><li><p>语法：<code>str.format(**args)</code>。</p></li><li><p>例如：<code>&quot;&#123;&#125; &#123;&#125;&quot;.format(&quot;hello&quot;, &quot;world&quot;)</code>。</p></li><li><p>描述：该函数将通过<code>&#123;&#125;</code>和<code>:</code>来设置模板字符串<code>str</code>，然后通过<code>.format(**args)</code>传入实参来对<code>str</code>进行格式化。</p></li><li><ul><li>模板字符串<code>str</code>中包含由大括号<code>&#123;&#125;</code>包围的“替换字段”。</li><li><code>&#123;&#125;</code>中填写文本替换和格式化规则，如果不填任何规则(直接使用<code>&#123;&#125;</code>)，则进行直接替换。</li><li>具体的“替换字段”由<code>args</code>参数传入。</li><li><code>.format()</code>函数中有几个参数，模板字符串<code>str</code>中包含几个<code>&#123;&#125;</code>。</li></ul></li><li><p>该函数使用方法较多，下面将一一介绍。</p></li></ul><h4 id="认识-format-函数默认参数位置"><a href="#认识-format-函数默认参数位置" class="headerlink" title="认识.format()函数默认参数位置"></a>认识<code>.format()</code>函数默认参数位置</h4><p>知识点：<code>.format()</code>函数的<strong>默认位置</strong>。</p><ul><li>不指定格式化位置，按照默认顺序格式化。</li><li><code>args</code>参数以<code>,</code>相隔，按顺序填入相应的<code>&#123;&#125;</code>。</li><li><code>str</code>字符串模板中的<code>&#123;&#125;</code>数量不能超过参数个数，否则会出错。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)</span><br><span class="line">print(str1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># hello world</span></span><br></pre></td></tr></table></figure><ul><li><code>.format()</code>函数中有2个参数，模板字符串<code>str</code>中包含2个<code>&#123;&#125;</code>。</li><li>模板字符串<code>str</code>为<code>&quot;&#123;&#125; &#123;&#125;&quot;</code>，仅包含两个<code>&#123;&#125;</code>。</li><li><code>args</code>参数包括：<code>&quot;hello&quot;</code>和<code>&quot;world&quot;</code>。</li><li>根据规则，按照默认顺序格式化<code>str</code>。<code>&quot;hello&quot;</code>填入第1个<code>&#123;&#125;</code>；<code>&quot;world&quot;</code>填入第2个<code>&#123;&#125;</code>。</li></ul><h4 id="IndexError错误"><a href="#IndexError错误" class="headerlink" title="IndexError错误"></a><code>IndexError</code>错误</h4><p>知识点：当<code>&#123;&#125;</code>超过<code>args</code>输入参数个数时，会出错<code>IndexError</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)</span><br><span class="line">print(str1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># IndexError                                Traceback (most recent call last)</span></span><br><span class="line"><span class="comment"># &lt;ipython-input-3-eb58e09cec2c&gt; in &lt;module&gt;</span></span><br><span class="line"><span class="comment"># ----&gt; 1 str1 = &quot;&#123;&#125; &#123;&#125; &#123;&#125;&quot;.format(&quot;hello&quot;, &quot;world&quot;)</span></span><br><span class="line"><span class="comment">#       2 print(str1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># IndexError: Replacement index 2 out of range for positional args tuple</span></span><br></pre></td></tr></table></figure><h3 id="format-函数的位置索引"><a href="#format-函数的位置索引" class="headerlink" title=".format()函数的位置索引"></a>.format()函数的位置索引</h3><p>知识点：<code>.format()</code>函数的3中位置索引方式：默认位置索引、序号位置索引和关键字位置索引。</p><h4 id="参数的序号位置索引"><a href="#参数的序号位置索引" class="headerlink" title="参数的序号位置索引"></a>参数的序号位置索引</h4><blockquote><p>知识点：<code>.format()</code>函数的<strong>参数的序号位置索引</strong>。</p><ul><li>设置参数索引来指定格式化的位置。</li><li>为<code>str</code>字符串模板设置带参数索引的<code>&#123;&#125;</code>。</li><li>参数索引从0开始，即第1个参数，对应<code>&#123;0&#125;</code>。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&quot;&#123;1&#125; &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)</span><br><span class="line">print(str1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># world hello</span></span><br></pre></td></tr></table></figure><ul><li>模板字符串<code>str</code>为<code>&quot;&#123;0&#125; &#123;1&#125;&quot;</code>，在每个<code>&#123;&#125;</code>中包含数字，来指明所替换的参数索引。</li><li><code>args</code>参数包括：<code>&quot;hello&quot;</code>对应第0参数索引、<code>&quot;world&quot;</code>对应第1参数索引。</li><li>根据规则，按照参数索引格式化<code>str</code>。<code>&quot;hello&quot;</code>填入<code>&#123;0&#125;</code>；<code>&quot;world&quot;</code>填入<code>&#123;1&#125;</code>。</li></ul><h4 id="位置索引可重复使用"><a href="#位置索引可重复使用" class="headerlink" title="位置索引可重复使用"></a>位置索引可重复使用</h4><blockquote><p>知识点：参数索引可以<strong>重复使用</strong>来替换字符串。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&quot;&#123;1&#125; &#123;0&#125; &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)</span><br><span class="line">print(str1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># world hello world</span></span><br></pre></td></tr></table></figure><h4 id="format-参数的关键字位置索引"><a href="#format-参数的关键字位置索引" class="headerlink" title=".format()参数的关键字位置索引"></a><code>.format()</code>参数的关键字位置索引</h4><blockquote><p>知识点：<code>.format()</code>函数的<strong>关键字位置索引</strong>。</p><ul><li>设置关键字来指定格式化的位置。该功能与<strong>数字位置</strong>类似。</li><li>为<code>str</code>字符串模板设置带关键字的<code>&#123;&#125;</code>，指定参数替代字符串模板的位置。</li><li>关键字可以为位置取更有意义的标识。</li><li><strong>注意</strong>：在使用关键字索引时，避免使用<code>0</code>和<code>o</code>、<code>1</code>和<code>l</code>，以免混淆。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下面的关键字l很容易被误认为是1</span></span><br><span class="line">str1 = <span class="string">&#x27;I &#123;l&#125; &#123;p&#125;, and I\&#x27;am learning &#123;p&#125;&#x27;</span>.<span class="built_in">format</span>(p=<span class="string">&#x27;Python&#x27;</span>, l=<span class="string">&#x27;like&#x27;</span>)</span><br><span class="line">print(str1)</span><br></pre></td></tr></table></figure><h3 id="format-函数样式格式输出"><a href="#format-函数样式格式输出" class="headerlink" title=".format()函数样式格式输出"></a>.format()函数样式格式输出</h3><h4 id="format-函数的填充与格式化"><a href="#format-函数的填充与格式化" class="headerlink" title=".format()函数的填充与格式化"></a><code>.format()</code>函数的填充与格式化</h4><blockquote><p>知识点：<code>.format()</code>函数的填充与格式化。</p><ul><li>大括号中可以设定特殊的格式：<code>&#123;:[填充字符][对齐方式 &lt;^&gt;][宽度]&#125;</code></li><li><code>:</code>为格式起始标志，不能少。</li><li><code>:</code>号后面带填充的字符，只能是<strong>一个字符</strong>，不指定则默认是用空格填充。</li><li>对齐方式：<code>&lt;^&gt;</code>分别为左、中、右对齐。</li><li>宽度：整形，指定填充位置宽度，如果替换文本比这个宽度小，则用填充字符进行填充。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 左对齐，使用*填充，宽度为10</span></span><br><span class="line">str1 = <span class="string">&#x27;Hello &#123;:*&lt;10&#125; &#x27;</span>.<span class="built_in">format</span>(<span class="number">1111</span>)</span><br><span class="line">print(str1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 居中对齐，使用@填充，宽度为20</span></span><br><span class="line">str1 = <span class="string">&#x27;Hello &#123;:@^20&#125; &#x27;</span>.<span class="built_in">format</span>(<span class="number">1111</span>)</span><br><span class="line">print(str1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 右对齐，使用&gt;填充，宽度为12。</span></span><br><span class="line"><span class="comment">#第一个&gt;为填充字符，第2个&gt;为右对齐</span></span><br><span class="line">str1 = <span class="string">&#x27;Hello &#123;:&gt;&gt;12&#125; &#x27;</span>.<span class="built_in">format</span>(<span class="number">1111</span>)</span><br><span class="line">print(str1)</span><br></pre></td></tr></table></figure><blockquote><p>定制输出格式：</p><ul><li><code>&#123;:&gt;n&#125;</code> 将字段设置为<code>n</code>个字符，并让内容右对齐。<strong>数字默认右对齐</strong>。</li><li><code>&#123;: 将字段设置为</code>n`个字符，并让内容左对齐。<strong>非数字的字符默认左对齐</strong>。</li><li><code>&#123;:^n&#125;</code> 将字段设置为<code>n</code>个字符，并让内容居中。</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">y = <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;------format(): 字符默认左对齐，数字默认右对齐 -----&#x27;</span>)</span><br><span class="line">format_str = <span class="string">&#x27;&#123;:8&#125; results in &#123;&#125;.&#x27;</span></span><br><span class="line">print(format_str.<span class="built_in">format</span>(x, y))</span><br><span class="line">print(format_str.<span class="built_in">format</span>(<span class="number">1111</span>, y))</span><br><span class="line"><span class="comment"># hello    results in hi.</span></span><br><span class="line"><span class="comment">#     1111 results in hi.</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;------format(): 右对齐 -----&#x27;</span>)</span><br><span class="line">format_str = <span class="string">&#x27;&#123;:&gt;8&#125; results in &#123;&#125;.&#x27;</span></span><br><span class="line">print(format_str.<span class="built_in">format</span>(x, y))</span><br><span class="line">print(format_str.<span class="built_in">format</span>(<span class="number">1111</span>, y))</span><br><span class="line"><span class="comment">#    hello results in hi.</span></span><br><span class="line"><span class="comment">#     1111 results in hi.</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;------普通输出 -----&#x27;</span>)</span><br><span class="line">print(x + <span class="string">&#x27; results in&#x27;</span> + y)</span><br><span class="line"><span class="comment"># hello results inhi</span></span><br></pre></td></tr></table></figure><ul><li>输出以右对齐的方式打印2~20的偶数，每个字段的宽度都设置为3个字符。</li></ul><h4 id="format-函数的精度"><a href="#format-函数的精度" class="headerlink" title=".format()函数的精度"></a><code>.format()</code>函数的精度</h4><blockquote><p>知识点：<code>.format()</code>函数的精度。</p><ul><li><p>大括号中可以设定特殊的格式：<code>&#123;:[m].[n][格式]&#125;</code></p></li><li><p><code>:</code>为格式起始标志，不能少。</p></li><li><p><code>m</code>为整形，整数部分的宽度。</p></li><li><ul><li>默认值为原数字整数部分的长度。</li><li>如果<code>m</code>大于整数部分的长度，则有空格左边填充。</li></ul></li><li><p><code>.</code>为小数点。</p></li><li><p><code>n</code>为整形，小数点后保留几位精度。</p></li><li><ul><li>默认值为原数字小数部分的长度。</li><li>如果<code>n</code>大于小数部分的长度，则有0补全填充。</li></ul></li><li><p>格式：<code>f</code>为浮点数。</p></li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#m=10，n=1，f为浮点数</span></span><br><span class="line">print(<span class="string">&#x27;&#123;:10.1f&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">311.1415926</span>))</span><br><span class="line"><span class="comment">#      311.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#m为默认，n=4，f为浮点数</span></span><br><span class="line">print(<span class="string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">3.14</span>))</span><br><span class="line"><span class="comment"># 3.1400</span></span><br></pre></td></tr></table></figure><h4 id="format-函数的进制转换"><a href="#format-函数的进制转换" class="headerlink" title=".format()函数的进制转换"></a><code>.format()</code>函数的进制转换</h4><blockquote><p>知识点：进制转换，<code>b</code>、<code>d</code>、<code>o</code>、<code>x</code> 分别是二进制、十进制、八进制、十六进制。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;&#123;:b&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">11</span>))</span><br><span class="line">print(<span class="string">&#x27;&#123;:d&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">11</span>))</span><br><span class="line">print(<span class="string">&#x27;&#123;:o&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">11</span>))</span><br><span class="line">print(<span class="string">&#x27;&#123;:x&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="number">11</span>))</span><br><span class="line"><span class="comment"># 1011</span></span><br><span class="line"><span class="comment"># 11</span></span><br><span class="line"><span class="comment"># 13</span></span><br><span class="line"><span class="comment"># b</span></span><br></pre></td></tr></table></figure><h4 id="format-函数的数字格式输出"><a href="#format-函数的数字格式输出" class="headerlink" title=".format()函数的数字格式输出"></a><code>.format()</code>函数的数字格式输出</h4><ul><li>请使用<code>.format()</code>函数得到下面的结果运行结果。</li></ul><table><thead><tr><th align="left">数字(输入)</th><th align="left">格式</th><th align="left">输出</th><th align="left">描述(结果)</th></tr></thead><tbody><tr><td align="left">3.1415926</td><td align="left">{:.2f}</td><td align="left">3.14</td><td align="left">保留小数点后两位</td></tr><tr><td align="left">3.1415926</td><td align="left">{:+.2f}</td><td align="left">+3.14</td><td align="left">带符号保留小数点后两位</td></tr><tr><td align="left">-1</td><td align="left">{:+.2f}</td><td align="left">-1.00</td><td align="left">带符号保留小数点后两位</td></tr><tr><td align="left">2.71828</td><td align="left">{:.0f}</td><td align="left">3</td><td align="left">不带小数</td></tr><tr><td align="left">5</td><td align="left">{:0&gt;2d}</td><td align="left">05</td><td align="left">数字补零 (填充左边, 宽度为2)</td></tr><tr><td align="left">5</td><td align="left">{:x&lt;4d}</td><td align="left">5xxx</td><td align="left">数字补x (填充右边, 宽度为4)</td></tr><tr><td align="left">10</td><td align="left">{:x&lt;4d}</td><td align="left">10xx</td><td align="left">数字补x (填充右边, 宽度为4)</td></tr><tr><td align="left">1000000</td><td align="left">{:,}</td><td align="left">1,000,000</td><td align="left">以逗号分隔的数字格式</td></tr><tr><td align="left">0.25</td><td align="left">{:.2%}</td><td align="left">25.00%</td><td align="left">百分比格式</td></tr><tr><td align="left">1000000000</td><td align="left">{:.2e}</td><td align="left">1.00e+09</td><td align="left">指数记法</td></tr><tr><td align="left">13</td><td align="left">{:&gt;10d}</td><td align="left">13</td><td align="left">右对齐 (默认, 宽度为10)</td></tr><tr><td align="left">13</td><td align="left">{:&lt;10d}</td><td align="left">13</td><td align="left">左对齐 (宽度为10)</td></tr><tr><td align="left">13</td><td align="left">{:^10d}</td><td align="left">13</td><td align="left">中间对齐 (宽度为10)</td></tr></tbody></table><h2 id="f-string技术"><a href="#f-string技术" class="headerlink" title="f-string技术"></a>f-string技术</h2><h3 id="初识f-string"><a href="#初识f-string" class="headerlink" title="初识f-string"></a>初识f-string</h3><h4 id="f-string基本介绍"><a href="#f-string基本介绍" class="headerlink" title="f-string基本介绍"></a>f-string基本介绍</h4><p><code>f-string</code>，亦称为格式化字符串常量（formatted string literals），是Python3.6新引入的一种字符串格式化方法，主要目的是使格式化字符串的操作更加简便。</p><blockquote><p>知识点：</p><ul><li><code>f-string</code>在形式上是以 <code>f</code> 或 <code>F</code> 修饰符引领的字符串（<code>f&#39;xxx&#39;</code> 或 <code>F&#39;xxx&#39;</code>），以大括号 <code>&#123;&#125;</code> 标明被替换的字段</li><li><code>f-string</code>在本质上并不是字符串常量，而是一个在运行时运算求值的<strong>表达式</strong>。</li><li><code>f-string</code>在功能方面不逊于传统的<code>%-formatting</code>语句和<code>str.format()</code>函数，同时<strong>性能</strong>又优于二者，且使用起来也更加简洁明了，因此对于<strong>Python3.6</strong>及以后的版本，推荐使用<code>f-string</code>进行字符串格式化。</li></ul></blockquote><h4 id="f-string语法"><a href="#f-string语法" class="headerlink" title="f-string语法"></a>f-string语法</h4><blockquote><p>知识点：</p><ul><li>语法：<code>f&#39;&lt;text&gt; &#123;&lt;content:format specifier&gt;&#125; &lt;text&gt; ...&#39;</code></li><li><code>f</code>是<code>f-string</code>的标识符，位于字符串标识符<code>&#39;</code>之前。<strong>标识符不能忘记。</strong></li><li><code>&lt;text&gt;</code>：为普通字符串文本。</li><li><code>&#123;&lt;content&gt;&#125;</code>：大括号是需要被替换的字段，外部传入的变量名为<code>&lt;expr&gt;</code>。</li><li><code>&lt;:format specifier&gt;</code>：可选，类似于<code>.format()</code>，自定义的格式。</li><li>例如：<code>f&#39;s is &#123;s:8s&#125;&#39;</code>，其中<code>s is</code> 是<code>&lt;text&gt;</code>；<code>&#123;s:8s&#125;</code>中<code>s</code>为<code>&lt;content&gt;</code>，<code>8s</code>为格式，中间<code>:</code>间隔。</li></ul></blockquote><ul><li><code>f-string</code>用大括号 <code>&#123;&#125;</code> 表示被替换字段，其中直接填入替换内容：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&#x27;Eric&#x27;</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;Hello, my name is <span class="subst">&#123;name&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;Hello, my name is Eric&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">number = <span class="number">7</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;My lucky number is <span class="subst">&#123;number&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;My lucky number is 7&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">price = <span class="number">19.99</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;The price of this book is <span class="subst">&#123;price&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;The price of this book is 19.99&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><h3 id="深入f-string"><a href="#深入f-string" class="headerlink" title="深入f-string"></a>深入f-string</h3><h4 id="表达式求值与函数调用"><a href="#表达式求值与函数调用" class="headerlink" title="表达式求值与函数调用"></a>表达式求值与函数调用</h4><p><code>f-string</code>的大括号 <code>&#123;&#125;</code> 可以填入表达式或调用函数，Python会求出其结果并填入返回的字符串内：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;A total number of <span class="subst">&#123;<span class="number">24</span> * <span class="number">8</span> + <span class="number">4</span>&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;A total number of 196&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;Complex number <span class="subst">&#123;(<span class="number">2</span> + <span class="number">2j</span>) / (<span class="number">2</span> - <span class="number">3j</span>)&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;Complex number (-0.15384615384615388+0.7692307692307692j)&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">name = <span class="string">&#x27;ERIC&#x27;</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;My name is <span class="subst">&#123;name.lower()&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;My name is eric&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;The answer is <span class="subst">&#123;math.log(math.pi)&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;The answer is 1.1447298858494002&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><h4 id="引号、大括号与反斜杠"><a href="#引号、大括号与反斜杠" class="headerlink" title="引号、大括号与反斜杠"></a>引号、大括号与反斜杠</h4><p><code>f-string</code>大括号内所用的引号<strong>不能</strong>和大括号外的引号定界符冲突，可灵活切换 <code>&#39;</code> 和 <code>&quot;</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;I am <span class="subst">&#123;<span class="string">&quot;Eric&quot;</span>&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;I am Eric&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># SyntaxError: invalid syntax</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;I am <span class="subst">&#123;<span class="string">&#x27;Eric&#x27;</span>&#125;</span>&#x27;</span></span><br></pre></td></tr></table></figure><p>若 <code>&#39;</code> 和 <code>&quot;</code> 不足以满足要求，还可以使用 <code>&#39;&#39;&#39;</code> 和 <code>&quot;&quot;&quot;</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SyntaxError: invalid syntax</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&quot;He said <span class="subst">&#123;<span class="string">&quot;I&#x27;m Eric&quot;</span>&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SyntaxError: invalid syntax</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;He said <span class="subst">&#123;<span class="string">&quot;I&#x27;m Eric&quot;</span>&#125;</span>&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">f&quot;&quot;&quot;He said <span class="subst">&#123;<span class="string">&quot;I&#x27;m Eric&quot;</span>&#125;</span>&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># &quot;He said I&#x27;m Eric&quot;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;&#x27;&#x27;He said <span class="subst">&#123;<span class="string">&quot;I&#x27;m Eric&quot;</span>&#125;</span>&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># &quot;He said I&#x27;m Eric&quot;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><p>大括号外的引号还可以使用 <code>\</code> 转义，但大括号内<strong>不能使用</strong> <code>\</code> 转义：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;&#x27;&#x27;He\&#x27;ll say <span class="subst">&#123;<span class="string">&quot;I&#x27;m Eric&quot;</span>&#125;</span>&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># &quot;He&#x27;ll say I&#x27;m Eric&quot;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SyntaxError: f-string expression part cannot include a backslash</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;&#x27;&#x27;He&#x27;ll say <span class="subst">&#123;<span class="string">&quot;I\&#x27;m Eric&quot;</span>&#125;</span>&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p><code>f-string</code>大括号<strong>外</strong>如果需要显示大括号，则应输入<strong>连续两个大括号</strong> <code>&#123;&#123;` 和 `&#125;&#125;</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;5 <span class="subst">&#123;<span class="string">&quot;&#123;stars&#125;&quot;</span>&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;5 &#123;stars&#125;&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;&#123;&#123;5&#125;&#125; <span class="subst">&#123;<span class="string">&quot;stars&quot;</span>&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;&#123;5&#125; stars&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><p><code>f-string</code>大括号内不能使用 <code>\</code> 转义，事实上不仅如此，<code>f-string</code>大括号内根本就不允许出现 <code>\</code>。如果确实需要 <code>\</code>，则应首先将包含 <code>\</code> 的内容用一个变量表示，再在<code>f-string</code>大括号内填入变量名：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SyntaxError: f-string expression part cannot include a backslash</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&quot;newline: <span class="subst">&#123;<span class="built_in">ord</span>(<span class="string">&#x27;\n&#x27;</span>)&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ord()为将&#x27;\n&#x27;的ASCII码转为八进制</span></span><br><span class="line">newline = <span class="built_in">ord</span>(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;newline: <span class="subst">&#123;newline&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;newline: 10&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><h4 id="多行f-string"><a href="#多行f-string" class="headerlink" title="多行f-string"></a>多行f-string</h4><p><code>f-string</code>还可用于多行字符串：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">age = <span class="number">27</span></span><br><span class="line"><span class="comment"># 多行字符串用 \ 拼接</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&quot;Hello!&quot;</span> \</span><br><span class="line"><span class="string">f&quot;I&#x27;m <span class="subst">&#123;name&#125;</span>.&quot;</span> \</span><br><span class="line"><span class="string">f&quot;I&#x27;m <span class="subst">&#123;age&#125;</span>.&quot;</span></span><br><span class="line"><span class="comment"># &quot;Hello!I&#x27;m Eric.I&#x27;m 27.&quot;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;&quot;&quot;中间的字符串可以直接换行</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&quot;&quot;&quot;Hello!</span></span><br><span class="line"><span class="string">I&#x27;m <span class="subst">&#123;name&#125;</span>.</span></span><br><span class="line"><span class="string">I&#x27;m <span class="subst">&#123;age&#125;</span>.&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># &quot;Hello!\n  I&#x27;m Eric.\n  I&#x27;m 27.&quot;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><h3 id="自定义f-string格式"><a href="#自定义f-string格式" class="headerlink" title="自定义f-string格式"></a>自定义f-string格式</h3><h4 id="自定义格式"><a href="#自定义格式" class="headerlink" title="自定义格式"></a>自定义格式</h4><p>f-string采用 <code>&#123;content:format&#125;</code> 设置字符串格式，其中 <code>content</code> 是替换并填入字符串的内容，可以是变量、表达式或函数等，<code>format</code> 是格式描述符。自定义格式与<code>.format()</code>类似。采用默认格式时不必指定 <code>&#123;:format&#125;</code>，如上面例子所示只写 <code>&#123;content&#125;</code> 即可。</p><p><strong>宽度与精度</strong>相关格式描述符</p><table><thead><tr><th><strong>格式描述符</strong></th><th><strong>含义与作用</strong></th></tr></thead><tbody><tr><td><code>width</code></td><td>整数 <code>width</code> 指定宽度</td></tr><tr><td><code>0width</code></td><td>整数 <code>width</code> 指定宽度，开头的 <code>0</code> 指定高位用 <code>0</code> 补足宽度</td></tr><tr><td><code>width.precision</code></td><td>整数 <code>width</code> 指定宽度，整数 <code>precision</code> 指定显示精度</td></tr></tbody></table><p><strong>数值类型</strong>基本格式</p><table><thead><tr><th><strong>格式描述符</strong></th><th><strong>含义与作用</strong></th><th><strong>适用变量类型</strong></th></tr></thead><tbody><tr><td><code>s</code></td><td>普通字符串格式</td><td>字符串</td></tr><tr><td><code>b</code></td><td>二进制整数格式</td><td>整数</td></tr><tr><td><code>c</code></td><td>字符格式，按unicode编码将整数转换为对应字符</td><td>整数</td></tr><tr><td><code>d</code></td><td>十进制整数格式</td><td>整数</td></tr><tr><td><code>o</code></td><td>八进制整数格式</td><td>整数</td></tr><tr><td><code>x</code></td><td>十六进制整数格式（小写字母）</td><td>整数</td></tr><tr><td><code>X</code></td><td>十六进制整数格式（大写字母）</td><td>整数</td></tr><tr><td><code>e</code></td><td>科学计数格式，以<code>e</code>表示<code>×10^</code></td><td>浮点数、复数、整数（自动转换为浮点数）</td></tr><tr><td><code>E</code></td><td>与<code>e</code>等价，但以<code>E</code>表示<code>×10^</code></td><td>浮点数、复数、整数（自动转换为浮点数）</td></tr><tr><td><code>f</code></td><td>定点数格式，默认精度（<code>precision</code>）是6</td><td>浮点数、复数、整数（自动转换为浮点数）</td></tr><tr><td><code>F</code></td><td>与<code>f</code>等价，但将<code>nan</code>和<code>inf</code>换成<code>NAN</code>和<code>INF</code></td><td>浮点数、复数、整数（自动转换为浮点数）</td></tr><tr><td><code>g</code></td><td>通用格式，小数用<code>f</code>，大数用<code>e</code></td><td>浮点数、复数、整数（自动转换为浮点数）</td></tr><tr><td><code>G</code></td><td>与<code>G</code>等价，但小数用<code>F</code>，大数用<code>E</code></td><td>浮点数、复数、整数（自动转换为浮点数）</td></tr><tr><td><code>%</code></td><td>百分比格式，数字自动乘上100后按<code>f</code>格式排版，并加<code>%</code>后缀</td><td>浮点数、整数（自动转换为浮点数）</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &#123;content:format&#125;</span></span><br><span class="line"><span class="comment"># a 为 content</span></span><br><span class="line"><span class="comment"># : 之后为format</span></span><br><span class="line">a = <span class="number">123.456</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;a is <span class="subst">&#123;a:<span class="number">8.2</span>f&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;a is  123.46&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;a is <span class="subst">&#123;a:<span class="number">08.2</span>f&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;a is 00123.46&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;a is <span class="subst">&#123;a:<span class="number">8.2</span>e&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;a is 1.23e+02&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;a is <span class="subst">&#123;a:<span class="number">8.2</span>%&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;a is 12345.60%&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;a is <span class="subst">&#123;a:<span class="number">8.2</span>g&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;a is 1.2e+02&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">s = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;s is <span class="subst">&#123;s:8s&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;s is hello  &#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;s is <span class="subst">&#123;s:<span class="number">8.3</span>s&#125;</span>&#x27;</span></span><br><span class="line"><span class="comment"># &#x27;s is hel   &#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><p><strong>对齐方式</strong>相关格式描述符</p><table><thead><tr><th align="left">格式描述符</th><th align="left">含义与作用</th></tr></thead><tbody><tr><td align="left">&lt;</td><td align="left">左对齐（字符串默认对齐方式）</td></tr><tr><td align="left">&gt;</td><td align="left">右对齐（数值默认对齐方式）</td></tr><tr><td align="left">^</td><td align="left">居中</td></tr></tbody></table><p><strong>数字符号</strong>相关格式描述符（只适合数值类型）</p><table><thead><tr><th align="left">格式描述符</th><th align="left">含义与作用</th></tr></thead><tbody><tr><td align="left">+</td><td align="left">负数前加负号（-），正数前加正号（+）</td></tr><tr><td align="left">-</td><td align="left">负数前加负号（-），正数前不加任何符号（默认）</td></tr><tr><td align="left">（空格）</td><td align="left">负数前加负号（-），正数前加一个空格</td></tr></tbody></table><p><strong>数字显示</strong>方式相关格式描述符(是否加<code>#</code>)</p><table><thead><tr><th align="left">数值类型</th><th align="left">不加**#**（默认）</th><th align="left">加**#**</th><th align="left">区别</th></tr></thead><tbody><tr><td align="left">二进制整数</td><td align="left">‘1111011’</td><td align="left">‘0b1111011’</td><td align="left">开头是否显示 0b</td></tr><tr><td align="left">八进制整数</td><td align="left">‘173’</td><td align="left">‘0o173’</td><td align="left">开头是否显示 0o</td></tr><tr><td align="left">十进制整数</td><td align="left">‘123’</td><td align="left">‘123’</td><td align="left">无区别</td></tr><tr><td align="left">十六进制整数（小写字母）</td><td align="left">‘7b’</td><td align="left">‘0x7b’</td><td align="left">开头是否显示 0x</td></tr><tr><td align="left">十六进制整数（大写字母）</td><td align="left">‘7B’</td><td align="left">‘0X7B’</td><td align="left">开头是否显示 0X</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 居中&#x27;^&#x27;，显示0X前缀&#x27;#&#x27;，宽度10位，十六进制整数（大写字母）</span></span><br><span class="line">a = <span class="number">1234</span></span><br><span class="line">str = f&#x27;a is &#123;a:^#10X&#125;&#x27;  </span><br><span class="line"><span class="comment"># &#x27;a is  0X4D2  &#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 左对齐，宽度10位，显示正号（+），定点数格式，2位小数</span></span><br><span class="line">b = <span class="number">1234.5678</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;b is <span class="subst">&#123;b:&lt;+<span class="number">10.2</span>f&#125;</span>&#x27;</span>  </span><br><span class="line"><span class="comment"># &#x27;b is +1234.57 &#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 高位补零，宽度15位，十进制整数，使用,作为千分分割位</span></span><br><span class="line">c = <span class="number">12345678</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;c is <span class="subst">&#123;c:015,d&#125;</span>&#x27;</span>  </span><br><span class="line"><span class="comment"># &#x27;c is 000,012,345,678&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 宽度30位，科学计数法，3位小数</span></span><br><span class="line">d = <span class="number">0.5</span> + <span class="number">2.5j</span></span><br><span class="line"><span class="built_in">str</span> = <span class="string">f&#x27;d is <span class="subst">&#123;d:<span class="number">30.3</span>e&#125;</span>&#x27;</span>  </span><br><span class="line"><span class="comment"># &#x27;d is      5.000e-01+2.500e+00j&#x27;</span></span><br><span class="line">print(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure><h2 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h2><h3 id="第1题"><a href="#第1题" class="headerlink" title="第1题"></a>第1题</h3><p>题目要求：</p><ul><li>使用单引号和双引号分别创建字符串(可以用中文作为字符串内容)。</li></ul><p>代码如下：</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;hello world&#39;</span><br></pre></td></tr></table></figure><h3 id="第2题"><a href="#第2题" class="headerlink" title="第2题"></a>第2题</h3><p>题目要求：</p><ul><li>创建含有引号的字符串，观察引号错误使用引起的错误。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;hello&quot;</span>world<span class="string">&quot;</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  File &quot;&lt;ipython-input-2-47bd8e44abc4&gt;&quot;, line 1</span><br><span class="line">    &quot;hello&quot;world&quot;</span><br><span class="line">           ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></table></figure><h3 id="第3题"><a href="#第3题" class="headerlink" title="第3题"></a>第3题</h3><p>题目要求：</p><ul><li>创建含有引号的字符串，使用转义字符。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;\&quot;hello\&quot;wprld&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;hello&quot;wprld</span><br></pre></td></tr></table></figure><h3 id="第4题"><a href="#第4题" class="headerlink" title="第4题"></a>第4题</h3><p>题目要求：</p><ul><li>使用<code>input()</code>输入1个字符串，并使用上述3个字符串的方法对该字符串进行修改操作，并输出结果。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">massage=<span class="built_in">input</span>()</span><br><span class="line">print(massage.title())</span><br><span class="line">print(massage.upper())</span><br><span class="line">print(massage.lower())</span><br><span class="line"><span class="comment"># massage=&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello World</span><br><span class="line">HELLO WORLD</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><h3 id="第5题"><a href="#第5题" class="headerlink" title="第5题"></a>第5题</h3><p>题目要求：</p><ul><li>接受键盘输入，将输入字符串储存到变量，然后进行字符串拼接，最后输出 “你好，姓名”。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="built_in">input</span>()</span><br><span class="line">print(<span class="string">&#x27;你好，&#x27;</span>+name)</span><br><span class="line"><span class="comment"># name=XieSenshi</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你好，XieSenshi</span><br></pre></td></tr></table></figure><h3 id="第6题"><a href="#第6题" class="headerlink" title="第6题"></a>第6题</h3><p>题目要求：</p><ul><li>使用制表符和换行符分别自定义创建字符串(可以为中文)，并输出结果。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;System:\tWindows\tLinux\tMacOS\tAndroid\tiOS&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;System:\nWindows\nLinux\nMacOS\nAndroid\niOS&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">System:WindowsLinuxMacOSAndroidiOS</span><br><span class="line">System:</span><br><span class="line">Windows</span><br><span class="line">Linux</span><br><span class="line">MacOS</span><br><span class="line">Android</span><br><span class="line">iOS</span><br></pre></td></tr></table></figure><h3 id="第7题"><a href="#第7题" class="headerlink" title="第7题"></a>第7题</h3><p>题目要求：</p><ul><li>组合使用制表符(3列)和换行符(2行)自定义创建字符串(可以为中文)，并输出结果。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;System:\tWindows\tLinux\tMacOS\n\tAndroid\tiOS&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System:WindowsLinuxMacOS</span><br><span class="line">    AndroidiOS</span><br></pre></td></tr></table></figure><h3 id="第8题"><a href="#第8题" class="headerlink" title="第8题"></a>第8题</h3><p>题目要求：</p><ul><li>外部输入含有空格的字符串，使用上述方法对字符串进行空白删除处理。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">massage=<span class="built_in">input</span>()</span><br><span class="line">print(massage)</span><br><span class="line">print(massage.lstrip())</span><br><span class="line">print(massage.rstrip())</span><br><span class="line">print(massage.strip())</span><br><span class="line"><span class="comment"># massage=&quot;    Hello world    &quot;</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    hello world    </span><br><span class="line">hello world    </span><br><span class="line">    hello world</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><h3 id="第9题"><a href="#第9题" class="headerlink" title="第9题"></a>第9题</h3><p>题目要求：</p><ul><li>外部输入含有空格的字符串，指定<code>chars</code>参数，分别<code>rstrip()</code>、<code>lstrip()</code>和<code>strip()</code>调用删除特定字符。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">massage=<span class="built_in">input</span>()</span><br><span class="line">print(massage)</span><br><span class="line">print(massage.lstrip(<span class="string">&#x27;h&#x27;</span>))</span><br><span class="line">print(massage.rstrip(<span class="string">&#x27;d&#x27;</span>))</span><br><span class="line">print(massage.strip(<span class="string">&#x27;h&#x27;</span>))</span><br><span class="line"><span class="comment"># masage=&quot;hello world&quot;</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hello world</span><br><span class="line">ello world</span><br><span class="line">hello worl</span><br><span class="line">ello world</span><br></pre></td></tr></table></figure><h3 id="第10题"><a href="#第10题" class="headerlink" title="第10题"></a>第10题</h3><p>题目要求：</p><ul><li><strong>个性化消息：</strong>将用户的姓名存到一个变量中，并向该用户显示一条消息。显示的消息应非常简单，如“Hello Eric, would you like to learn some Python today?”。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&#x27;Eric&#x27;</span></span><br><span class="line">print(<span class="string">&#x27;Hello &#x27;</span>+name+<span class="string">&#x27;, would you like to learn some Python today?&#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello Eric, would you like to learn some Python today?</span><br></pre></td></tr></table></figure><h3 id="第11题"><a href="#第11题" class="headerlink" title="第11题"></a>第11题</h3><p>题目要求：</p><ul><li><strong>调整名字的大小写：</strong>将一个人名存储到一个变量中，再以小写、大写和首字母大写的方式显示这个人名。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;xiesenshi&quot;</span></span><br><span class="line">print(name.lower <span class="comment"># 小写</span></span><br><span class="line">print(name.upper()) <span class="comment"># 大写</span></span><br><span class="line">print(name.title()) <span class="comment"># 首字母大写</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiesenshi</span><br><span class="line">XIESENSHI</span><br><span class="line">Xiesenshi</span><br></pre></td></tr></table></figure><h3 id="第12题"><a href="#第12题" class="headerlink" title="第12题"></a>第12题</h3><p>题目要求：</p><ul><li><strong>名言：</strong>找一句你钦佩的名人说的名言，将这个名人的姓名和他的名言打印出来。输出应类似于下面这样（包括引号）：Albert Einstein once said, “A person who never made a mistake never tried anything new.”</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;Albert Einstein once said, “A person who never made a mistake never tried anything new.”&#x27;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Albert Einstein once said, “A person who never made a mistake never tried anything new.”</span><br></pre></td></tr></table></figure><h3 id="第13题"><a href="#第13题" class="headerlink" title="第13题"></a>第13题</h3><p>题目要求：</p><ul><li><strong>名言2：</strong>重复练习11-14，但将名人的姓名存储在变量<code>famous_person</code>中，再创建要显示的消息，并将其存储在变量<code>message</code>中，然后打印这条消息。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">famous_person=<span class="string">&quot;Albert Einstein&quot;</span></span><br><span class="line">massage=famous_person + <span class="string">&quot; once said, “A person who never made a mistake never tried anything new.”&quot;</span></span><br><span class="line">print(massage)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Albert Einstein once said, “A person who never made a mistake never tried anything new.”</span><br></pre></td></tr></table></figure><h3 id="第14题"><a href="#第14题" class="headerlink" title="第14题"></a>第14题</h3><p>题目要求：</p><ul><li><strong>剔除人名中的空白：</strong>存储一个人名，并在其开头和末尾都包含一些空白字符。务必至少使用字符组合<code>&quot;\t&quot;</code>和<code>&quot;\n&quot;</code>各一次。打印这个人名，以显示其开头和末尾的空白。然后，分别使用剔除函数<code>lstrip()</code>、<code>rstrip()</code>和<code>strip()</code>对人名进行处理，并将结果打印出来。</li></ul><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;    XieSenshi    &quot;</span></span><br><span class="line">print(name+<span class="string">&#x27;\t&#x27;</span>+name+<span class="string">&#x27;\t&#x27;</span>+name)</span><br><span class="line">print(name+<span class="string">&#x27;\n&#x27;</span>+name+<span class="string">&#x27;\n&#x27;</span>+name)</span><br><span class="line">print(name.lstrip())</span><br><span class="line">print(name.rstrip())</span><br><span class="line">print(name.strip())</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    XieSenshi        XieSenshi        XieSenshi    </span><br><span class="line">    XieSenshi    </span><br><span class="line">    XieSenshi    </span><br><span class="line">    XieSenshi    </span><br><span class="line">XieSenshi    </span><br><span class="line">    XieSenshi</span><br><span class="line">XieSenshi</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/image-20210328233520957.png&quot; alt=&quot;image-20210328233520957&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Python学习笔记2</title>
    <link href="http://waxll.top/2021/03/25/p2.html"/>
    <id>http://waxll.top/2021/03/25/p2.html</id>
    <published>2021-03-24T18:55:10.000Z</published>
    <updated>2021-06-16T16:46:17.323Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210324015034.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210324015034.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210324015034342"></p><span id="more"></span><h1 id="第二章-变量与数据类型"><a href="#第二章-变量与数据类型" class="headerlink" title="第二章 变量与数据类型"></a>第二章 变量与数据类型</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="变量的定义"><a href="#变量的定义" class="headerlink" title="变量的定义"></a>变量的定义</h3><p><strong>为何需要变量？</strong></p><ul><li><p>变量的功能：通过一个有意义的标识(变量)，<strong>将变量与某个具体内容(数值、数组、对象等)进行关联</strong>，方便访问。</p></li><li><p>门牌号与房子、人与人名。</p></li><li><p>通过变量，<strong>不需要记住存放内容的内存物理地址</strong>。 </p></li><li><p>在Python中，变量存的是记录具体数据的地址。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;---------将变量与字面量进行关联，便于访问和使用。--------------&#x27;</span>)</span><br><span class="line">message = <span class="string">&quot;Hello Python world!&quot;</span> <span class="comment">#将字符串字面量赋值给message变量</span></span><br><span class="line">print(message, <span class="built_in">type</span>(message))</span><br><span class="line">输出：</span><br><span class="line">---------将变量与字面量进行关联，便于访问和使用。--------------</span><br><span class="line">Hello Python world! &lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">str</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>知识点：</p><ul><li>Jupyter在命令模式下开启cell的行号。</li><li><strong>快捷键L</strong>。</li></ul><h3 id="变量的命名和使用"><a href="#变量的命名和使用" class="headerlink" title="变量的命名和使用"></a>变量的命名和使用</h3><p>在Python中使用变量时，需要遵守一些规则。违反这些规则将引发错误。请务必牢记下述有关变量的规则：</p><ul><li><strong>变量名只能包含字母、数字和下划线</strong>。变量名可以字母或下划线打头，但<strong>不能以数字打头</strong>，例如，可将变量命名为message_1，但不能将其命名为1_message。</li><li><strong>变量名不能包含空格</strong>，但可使用下划线来分隔其中的单词。例如，变量名greeting_message可行，但变量名greeting message会引发错误。</li><li><strong>不要将Python关键字和函数名用作变量名</strong>，即不要使用Python保留用于特殊用途的单词，如<code>print</code>。</li><li><strong>有意义的变量名，应既简短又具有描述性</strong>。例如，name比n好，student_name比s_n好，name_length比length_of_persons_name好。</li><li><strong>慎用小写字母l和大写字母O</strong>，因为它们可能被人错看成数字1和0。</li></ul><p>要创建良好的变量名，需要经过一定的实践，在程序复杂而有趣时尤其如此。随着你编写的程序越来越多，并开始阅读别人编写的代码，将越来越善于创建有意义的变量名。</p><p> <strong>注意</strong>　就目前而言，应使用小写的Python变量名。在变量名中使用大写字母虽然不会导致错误，但避免使用大写字母是个不错的主意。</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">greeting_message = <span class="number">111</span></span><br><span class="line">print(greeting_message)</span><br><span class="line">输出：</span><br><span class="line"><span class="number">111</span></span><br></pre></td></tr></table></figure><h3 id="变量命名的常见错误"><a href="#变量命名的常见错误" class="headerlink" title="变量命名的常见错误"></a>变量命名的常见错误</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;------------没有被赋值的变量，使用会出现NameError错误----------&quot;</span>)</span><br><span class="line">mesage = <span class="string">&quot;Hello Python World!&quot;</span></span><br><span class="line">print(message)</span><br><span class="line"></span><br><span class="line"><span class="comment">#-------------报错信息-------------</span></span><br><span class="line">NameError               Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">41</span>-80779f5fb05f&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">     <span class="number">1</span> print(<span class="string">&quot;---没有被赋值的变量，使用会出现NameError错误---&quot;</span>)</span><br><span class="line">     <span class="number">2</span> mesage = <span class="string">&quot;Hello Python World!&quot;</span></span><br><span class="line">----&gt; 3 print(message)</span><br><span class="line">NameError: name <span class="string">&#x27;message&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br></pre></td></tr></table></figure><h2 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h2><h3 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h3><h4 id="掌握整数类型的四则运算"><a href="#掌握整数类型的四则运算" class="headerlink" title="掌握整数类型的四则运算"></a>掌握整数类型的四则运算</h4><p>​    在Python中，可对整数执行加（<code>+</code>）减（<code>-</code>）乘（<code>*</code>）除（<code>/</code>）等运算。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">2</span> + <span class="number">3</span>)</span><br><span class="line"><span class="comment">#结果：5</span></span><br><span class="line">print(<span class="number">3</span> - <span class="number">2</span>)</span><br><span class="line"><span class="comment">#结果：1</span></span><br><span class="line">print(<span class="number">2</span> * <span class="number">3</span>)</span><br><span class="line"><span class="comment">#结果：6</span></span><br><span class="line">print(<span class="number">3</span> / <span class="number">2</span>)  <span class="comment"># 浮点数除法</span></span><br><span class="line"><span class="comment">#结果：1.5</span></span><br><span class="line">print(<span class="number">3</span> // <span class="number">2</span>) <span class="comment"># 商</span></span><br><span class="line"><span class="comment">#结果：1</span></span><br><span class="line">print(<span class="number">3</span> % <span class="number">2</span>)  <span class="comment"># 余数</span></span><br><span class="line"><span class="comment">#结果：1</span></span><br></pre></td></tr></table></figure><h4 id="掌握整数类型的指数运算"><a href="#掌握整数类型的指数运算" class="headerlink" title="掌握整数类型的指数运算"></a>掌握整数类型的指数运算</h4><p>​    在终端会话中，Python直接返回运算结果。Python使用<strong>两个乘号</strong>表示乘方运算.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">3</span> ** <span class="number">2</span>)</span><br><span class="line"><span class="comment">#结果：9</span></span><br><span class="line">print(<span class="number">3</span> ** <span class="number">3</span>)</span><br><span class="line"><span class="comment">#结果：27</span></span><br><span class="line">print(<span class="number">10</span> ** <span class="number">6</span>)</span><br><span class="line"><span class="comment">#结果：1000000</span></span><br></pre></td></tr></table></figure><h4 id="掌握运算的优先级"><a href="#掌握运算的优先级" class="headerlink" title="掌握运算的优先级"></a>掌握运算的优先级</h4><p>​    Python还支持运算次序，因此你可在同一个表达式中使用多种运算。你还可以使用括号来修改运算次序，让Python按你指定的次序执行运算，如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">2</span> + <span class="number">3</span>*<span class="number">4</span>)</span><br><span class="line">print((<span class="number">2</span> + <span class="number">3</span>) * <span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>​    运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">14</span><br><span class="line">20</span><br></pre></td></tr></table></figure><ul><li>在这些示例中，<strong>空格不影响Python计算表达式的方式</strong>，它们的存在旨在让你阅读代码时，能迅速确定先执行哪些运算。</li><li>习题四。</li></ul><h3 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h3><h4 id="掌握浮点数类型运算操作"><a href="#掌握浮点数类型运算操作" class="headerlink" title="掌握浮点数类型运算操作"></a>掌握浮点数类型运算操作</h4><p>知识点：</p><ul><li>Python将带小数点的数字都称为<strong>浮点数</strong>。</li><li>小数点可出现在数字的任何位置。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0.1</span> + <span class="number">0.1</span>)</span><br><span class="line"><span class="comment"># 结果：0.2</span></span><br><span class="line">print(<span class="number">0.2</span> - <span class="number">0.2</span>)</span><br><span class="line"><span class="comment"># 结果：0.0</span></span><br></pre></td></tr></table></figure><h4 id="掌握浮点数运算误差"><a href="#掌握浮点数运算误差" class="headerlink" title="掌握浮点数运算误差"></a>掌握浮点数运算误差</h4><p>知识点：</p><ul><li>由于计算机采用二进制工作，很多小数都没法被二进制准确表示。</li><li>因此，<strong>Python的浮点数小数位并不精确</strong>。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0.2</span> * <span class="number">0.1</span>)</span><br><span class="line"><span class="comment"># 结果：0.020000000000000004</span></span><br><span class="line">print(<span class="number">0.3</span> / <span class="number">0.2</span>)</span><br><span class="line"><span class="comment"># 结果：1.4999999999999998</span></span><br><span class="line">print(<span class="number">3</span> * <span class="number">0.1</span>)</span><br><span class="line"><span class="comment"># 结果：0.30000000000000004</span></span><br></pre></td></tr></table></figure><h4 id="如何正确比较两个浮点数大小"><a href="#如何正确比较两个浮点数大小" class="headerlink" title="如何正确比较两个浮点数大小"></a>如何正确比较两个浮点数大小</h4><p>知识点：</p><ul><li><strong>浮点数</strong>是不确定数，所以<strong>不能</strong>用<code>==</code>等号判断两个浮点数相等。</li><li>整数是确定数，所以<strong>能</strong>用<code>==</code>等号判断两个整数相等。</li><li><strong>不仅仅是Python，其他所有语言的浮点数都存在误差。</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">0.2</span> + <span class="number">0.1</span></span><br><span class="line">b = <span class="number">3</span> * <span class="number">0.1</span></span><br><span class="line">print( (a - b) &lt;= <span class="number">10</span>**(-<span class="number">6</span>) )</span><br><span class="line"><span class="comment"># 结果：True</span></span><br></pre></td></tr></table></figure><ul><li>习题五</li></ul><h2 id="str-的使用"><a href="#str-的使用" class="headerlink" title="str()的使用"></a>str()的使用</h2><h4 id="字符串不能和数值类型拼接"><a href="#字符串不能和数值类型拼接" class="headerlink" title="字符串不能和数值类型拼接"></a>字符串不能和数值类型拼接</h4><ul><li>常常需要在消息中使用字符串拼接，在构造完整的消息信息。例如，要祝某人生日快乐，可能会编写代码打印一条简单的生日祝福语：<code>Happy 23rd birthday!</code>。但如果运行如下代码，将会触发类型错误：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">23</span></span><br><span class="line">message = <span class="string">&quot;Happy &quot;</span> + age + <span class="string">&quot;rd Birthday!&quot;</span></span><br><span class="line">print(message)</span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line">TypeError                 Traceback (most recent call last)</span><br><span class="line"></span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">103</span>-4d54be8cf23f&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">     <span class="number">1</span> age = <span class="number">23</span></span><br><span class="line">----&gt; 2 message = &quot;Happy &quot; + age + &quot;rd Birthday!&quot;</span><br><span class="line">     <span class="number">3</span></span><br><span class="line">     <span class="number">4</span> print(message)</span><br><span class="line">TypeError: can only concatenate <span class="built_in">str</span> (<span class="keyword">not</span> <span class="string">&quot;int&quot;</span>) to <span class="built_in">str</span></span><br></pre></td></tr></table></figure><p>分析：</p><ul><li>这是一个**类型错误(TypeError)**，无法执行对字符类型<code>str</code>和数值类型<code>int</code>的数据直接相加。</li><li>运算操作数需要类型匹配，否则将会触发<code>TypeError</code>。</li></ul><h4 id="使用str-转换非字符类型数据"><a href="#使用str-转换非字符类型数据" class="headerlink" title="使用str()转换非字符类型数据"></a>使用<code>str()</code>转换非字符类型数据</h4><p>知识点：</p><ul><li>需要显式地将数值类型转换为字符串类型。</li><li>可调用函数<code>str()</code>，它让Python将非字符串值转换为字符串。</li><li>在字符串拼接时，特别要注意拼接的变量类型是否是字符串，否则就会出现类型错误。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">23</span></span><br><span class="line">message = <span class="string">&quot;Happy &quot;</span> + <span class="built_in">str</span>(age) + <span class="string">&quot;rd Birthday!&quot;</span></span><br><span class="line">print(message)</span><br><span class="line"><span class="comment"># Happy 23rd Birthday!</span></span><br></pre></td></tr></table></figure><ul><li>习题六</li></ul><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><h4 id="如何编写注释-快捷键ctrl"><a href="#如何编写注释-快捷键ctrl" class="headerlink" title="如何编写注释(快捷键ctrl+/)"></a>如何编写注释(快捷键ctrl+/)</h4><p>知识点：</p><ul><li><strong>注释</strong>让你能够使用自然语言在程序中添加说明。</li><li>在Python中，<strong>注释用井号（<code>#</code>）标识。井号后面的内容都会被Python解释器忽略</strong>。</li><li>注释快捷键：<code>ctrl+/</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 向大家问好</span></span><br><span class="line">print(<span class="string">&quot;Hello Python people!&quot;</span>)</span><br><span class="line"><span class="comment"># 结果：Hello Python people!</span></span><br></pre></td></tr></table></figure><ul><li>Python解释器将忽略第1行，只执行第2行。 </li></ul><h4 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h4><p>知识点：</p><ul><li>多行注释用三个单引号 <code>&#39;&#39;&#39;</code> 或者三个双引号 <code>&quot;&quot;&quot;</code> 将注释括起来。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">这是多行注释，用三个单引号</span></span><br><span class="line"><span class="string">这是多行注释，用三个单引号</span></span><br><span class="line"><span class="string">这是多行注释，用三个单引号</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">print(<span class="string">&quot;Hello, World!&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">这是多行注释，用三个双引号</span></span><br><span class="line"><span class="string">这是多行注释，用三个双引号</span></span><br><span class="line"><span class="string">这是多行注释，用三个双引号</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">print(<span class="string">&quot;Hello, World!&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="熟悉该编写什么样的注释"><a href="#熟悉该编写什么样的注释" class="headerlink" title="熟悉该编写什么样的注释"></a>熟悉该编写什么样的注释</h4><ul><li>在开发项目期间，你对各个部分如何协同工作了如指掌，但过段时间后，有些细节你可能不记得了。当然，你总是可以通过研究代码来确定各个部分的工作原理，但<strong>通过编写注释，以清晰的自然语言对解决方案进行概述，可节省很多时间。</strong></li><li>要成为专业程序员或与其他程序员合作，就必须编写有意义的注释。当前，大多数软件都是合作编写的，编写者可能是同一家公司的多名员工，也可能是众多致力于同一个开源项目的人员。训练有素的程序员都希望代码中包含注释，因此你最好从现在开始就在程序中添加描述性注释。作为新手，<strong>最值得养成的习惯之一是，在代码中编写清晰、简洁的注释</strong>。</li><li>如果不确定是否要编写注释，就问问自己，找到合理的解决方案前，是否考虑了多个解决方案。如果答案是肯定的，就编写注释对你的解决方案进行说明吧。相比回过头去再添加注释，删除多余的注释要容易得多。</li></ul><p>习题七</p><h2 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h2><h3 id="第1题"><a href="#第1题" class="headerlink" title="第1题"></a>第1题</h3><p>题目要求：</p><p>添加了一个名为message的变量。<strong>每个变量都存储了一个值——与变量相关联的信息。</strong> 在这里，存储的值为字符串“Hello Python world!”。</p><ul><li>第1行代码，用于代码注释输出。</li><li>第2行代码，它将字符串字面量“Hello Python world!”与变量message关联起来；</li><li>第3行代码，它将与变量message关联的值打印到屏幕。</li></ul><p>修改程序，使其再打印一条消息：</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;---------在创建或赋值变量时，不需要为变量指定 类型--------------&#x27;</span>)</span><br><span class="line">message = <span class="number">2019</span></span><br><span class="line">print(message, <span class="built_in">type</span>(message))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&#x27;--------不能使用未创建的变量---------------&#x27;</span>)</span><br><span class="line">message1 = <span class="number">3.14</span></span><br><span class="line">print(message1, <span class="built_in">type</span>(message1))</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">message = <span class="string">&quot;Hello Python world!&quot;</span></span><br><span class="line">print(message)</span><br><span class="line"></span><br><span class="line">message = <span class="string">&quot;Hello Python Crash Course world!&quot;</span></span><br><span class="line">print(message)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---------在创建或赋值变量时，不需要为变量指定 类型--------------</span><br><span class="line"><span class="number">2019</span> &lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">int</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--------不能使用未创建的变量---------------</span><br><span class="line"><span class="number">3.14</span> &lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">float</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hello Python world!</span><br><span class="line">Hello Python Crash Course world!</span><br></pre></td></tr></table></figure><h3 id="第2题"><a href="#第2题" class="headerlink" title="第2题"></a>第2题</h3><p>题目要求：</p><p>在程序中可随时修改变量的值，而Python将始终记录变量的最新值。通过<code>input</code>函数接受用户的输入，注意该函数的返回为str类型。</p><p>代码如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># input 函数的返回是str</span></span><br><span class="line">message = <span class="built_in">input</span>(<span class="string">&quot;请输入float类型的数据：&quot;</span>)</span><br><span class="line">message = <span class="built_in">float</span>(message) <span class="comment"># str --&gt; float</span></span><br><span class="line">message = message * <span class="number">10</span></span><br><span class="line">print(message, <span class="built_in">type</span>(message))</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">22.0</span> &lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">float</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure><h3 id="第3题"><a href="#第3题" class="headerlink" title="第3题"></a>第3题</h3><p>题目要求：</p><ol><li>创建变量，将一条消息存储到变量中，再将其打印出来。</li><li>将一条消息存储到变量中，将其打印出来；再将变量的值修改为一条新消息，并将其打印出来。</li><li>使用<code>input()</code>函数，接收外部输入(输入字符)，并把结果存到变量中，组织消息内容，打印结果。</li><li>使用<code>input()</code>函数，接收外部输入(输入数字)，并把结果存到变量中，对这数进行平方运算，打印结果</li></ol><p>代码如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">massage=<span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line">print(massage)</span><br><span class="line">massage1=<span class="number">2.2</span></span><br><span class="line">massage1=<span class="built_in">str</span>(massage1)</span><br><span class="line">print(massage1)</span><br><span class="line">massage2=<span class="built_in">input</span>(<span class="string">&#x27;输入字符&#x27;</span>)</span><br><span class="line">print(massage2)</span><br><span class="line">massage3=<span class="built_in">input</span>(<span class="string">&#x27;输入数字&#x27;</span>)</span><br><span class="line">massage3=<span class="built_in">float</span>(massage3)</span><br><span class="line">print(massage3**<span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Hello World!</span><br><span class="line"><span class="number">2.2</span></span><br><span class="line"><span class="number">1.3</span></span><br><span class="line"><span class="number">1.6900000000000002</span></span><br></pre></td></tr></table></figure><h3 id="第4题"><a href="#第4题" class="headerlink" title="第4题"></a>第4题</h3><p>题目要求：</p><ol><li><strong>数字8：</strong>编写4个表达式，它们分别使用加法、减法、乘法和除法运算，但结果都是数字8。为使用<code>print</code>语句来显示结果，务必将这些表达式用括号括起来，也就是说，你应该编写4行类似于下面的代码：<code>print(5 + 3)</code>。输出应为4行，其中每行都只包含数字8。</li><li>使用<code>input()</code>函数，键盘输入两个整数，然后再对这两个数进行上述运算操作。</li></ol><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">2</span>+<span class="number">6</span>)</span><br><span class="line">print(<span class="number">11</span>-<span class="number">3</span>)</span><br><span class="line">print(<span class="number">2</span>*<span class="number">4</span>)</span><br><span class="line">print(<span class="number">32</span>//<span class="number">4</span>)</span><br><span class="line">num1=<span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;num1&#x27;</span>))</span><br><span class="line">num2=<span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;num2&#x27;</span>))</span><br><span class="line">print(num1+num2)</span><br><span class="line">print(num1-num2)</span><br><span class="line">print(num1*num2)</span><br><span class="line">print(num1/num2)</span><br><span class="line"><span class="comment">#num1=4.5</span></span><br><span class="line"><span class="comment">#num2=5.6</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">8</span><br><span class="line">8</span><br><span class="line">8</span><br><span class="line">8</span><br><span class="line">10.1</span><br><span class="line">-1.0999999999999996</span><br><span class="line">25.2</span><br><span class="line">0.8035714285714286</span><br></pre></td></tr></table></figure><h3 id="第5题"><a href="#第5题" class="headerlink" title="第5题"></a>第5题</h3><p>题目要求：</p><ol><li>使用<code>input()</code>函数，键盘输入两个浮点数，然后再对这两个数进行四则运算操作，观察浮点数计算误差。</li><li>使用<code>input()</code>函数，键盘输入两个浮点数，比较整这两个数的大小，并输出结果。</li></ol><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">num1=<span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;num1&#x27;</span>))</span><br><span class="line">num2=<span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;num2&#x27;</span>))</span><br><span class="line">print(num1+num2)</span><br><span class="line">print(num1-num2)</span><br><span class="line">print(num1*num2)</span><br><span class="line">print(num1/num2)</span><br><span class="line">print(num1&gt;num2)</span><br><span class="line">print(num1&lt;num2)</span><br><span class="line"><span class="comment">#num1=4.5</span></span><br><span class="line"><span class="comment">#num2=6.7</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">11.2</span><br><span class="line">-2.2</span><br><span class="line">30.150000000000002</span><br><span class="line">0.6716417910447761</span><br><span class="line">False</span><br><span class="line">True</span><br></pre></td></tr></table></figure><h3 id="第6题"><a href="#第6题" class="headerlink" title="第6题"></a>第6题</h3><p>题目要求：</p><ol><li><strong>最喜欢的数字：</strong>将你最喜欢的数字存储在一个变量中，再使用这个变量创建一条消息，指出你最喜欢的数字，然后将这条消息打印出来。</li><li>使用<code>input()</code>函数，键盘输入两个3位数的整数，然后通过<code>str()</code>将它们转换为字符串，再使用<code>+</code>对它们进行拼接，并输出结果。</li></ol><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">massage=<span class="number">98</span></span><br><span class="line">print(<span class="string">&#x27;我最喜欢的数字是：&#x27;</span>+<span class="built_in">str</span>(massage))</span><br><span class="line">num1=<span class="built_in">str</span>(<span class="built_in">input</span>(<span class="string">&#x27;三位整数&#x27;</span>))</span><br><span class="line">num2=<span class="built_in">str</span>(<span class="built_in">input</span>(<span class="string">&#x27;三位整数&#x27;</span>))</span><br><span class="line">print(num1+um2)</span><br><span class="line"><span class="comment">#num1=234</span></span><br><span class="line"><span class="comment">#num2=456</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我最喜欢的数字是：98</span><br><span class="line">234456</span><br></pre></td></tr></table></figure><h3 id="第7题"><a href="#第7题" class="headerlink" title="第7题"></a>第7题</h3><p>题目要求：</p><ol><li><strong>添加注释：</strong>选择你编写的两个程序，在每个程序中都至少添加一条注释。如果程序太简单，实在没有什么需要说明的，就在程序文件开头加上你的姓名和当前日期，再用一句话阐述程序的功能。</li></ol><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">num1=<span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;num1&#x27;</span>)) <span class="comment"># str --&gt; float</span></span><br><span class="line">num2=<span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;num2&#x27;</span>)) <span class="comment"># str --&gt; float</span></span><br><span class="line">print(num1+num2)</span><br><span class="line">print(num1-num2)</span><br><span class="line">print(num1*num2)</span><br><span class="line">print(num1/num2)</span><br><span class="line">print(num1&gt;num2)</span><br><span class="line">print(num1&lt;num2)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#谢森时 3/20</span></span><br><span class="line">massage=<span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line">print(massage)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210324015034.png&quot; alt=&quot;image-20210324015034342&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Python" scheme="http://waxll.top/categories/Python/"/>
    
    
    <category term="PythonLearn" scheme="http://waxll.top/tags/PythonLearn/"/>
    
  </entry>
  
  <entry>
    <title>Python学习笔记1</title>
    <link href="http://waxll.top/2021/03/17/py1.html"/>
    <id>http://waxll.top/2021/03/17/py1.html</id>
    <published>2021-03-17T12:02:43.000Z</published>
    <updated>2021-03-24T18:57:57.959Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172607.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172607.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210315004622525"></p><span id="more"></span><h2 id="开发环境安装及配置"><a href="#开发环境安装及配置" class="headerlink" title="开发环境安装及配置"></a>开发环境安装及配置</h2><h3 id="安装Anaconda"><a href="#安装Anaconda" class="headerlink" title="安装Anaconda"></a>安装Anaconda</h3><p>从<a href="https://www.anaconda.com/distribution/#download-section">官网</a>下载安装包。</p><p><strong>注意：</strong></p><p>Anaconda应安装在<strong>根目录</strong>；</p><p>安装路径中不能有中文目录；</p><p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172659.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172659.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p><p><strong>此处两个选项都应打勾。</strong></p><h3 id="安装VS-Code"><a href="#安装VS-Code" class="headerlink" title="安装VS Code"></a>安装VS Code</h3><p>在插件栏中搜索安装<br><em><strong>Python</strong></em>插件</p><p>安装黑暗主题插件</p><h3 id="安装Windows-Terminal"><a href="#安装Windows-Terminal" class="headerlink" title="安装Windows Terminal"></a>安装Windows Terminal</h3><p>在Windows10应用商店中安装Windows Terminal。</p><p>设定缺省shell</p><p>在Windows Terminal中</p><p><kbd>Ctrl</kbd> + <kbd>,</kbd>打开配置文件，</p><p>先找到 <code>profiles</code>配置项，看里面 <code>cmd.exe</code> 对应的 <code>guid</code>是什么，拷贝 <code>cmd.exe</code> 对应的<code>guid</code>到<code>defaultProfile</code>中。</p><h3 id="安装Jupyter-Lab"><a href="#安装Jupyter-Lab" class="headerlink" title="安装Jupyter Lab"></a>安装Jupyter Lab</h3><p>先更换pypi源为国内镜像源。</p><p>在控制台中输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><p>即可将pipy源更换为清华镜像源。</p><p>在控制台中输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install <span class="string">&quot;jupyterlab&gt;=3.0.0&quot;</span></span><br></pre></td></tr></table></figure><p>当控制台出现<code>**Successfully installed jupyterlab-3.0.5**</code>即表明安装成功。</p><p>在控制台中输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter lab</span><br></pre></td></tr></table></figure><p>即可启动<em><strong>Jupyter Lab</strong></em></p><h2 id="作业笔记工具安装"><a href="#作业笔记工具安装" class="headerlink" title="作业笔记工具安装"></a>作业笔记工具安装</h2><h3 id="安装Typora"><a href="#安装Typora" class="headerlink" title="安装Typora"></a>安装Typora</h3><p>从<a href="https://typora.io/">官网</a>下载安装包，安装</p><p>更改黑暗主题</p><h3 id="安装Xmind"><a href="#安装Xmind" class="headerlink" title="安装Xmind"></a>安装Xmind</h3><p>使用QQ群里的文件安装破解版</p><h2 id="Python编程常见问题"><a href="#Python编程常见问题" class="headerlink" title="Python编程常见问题"></a>Python编程常见问题</h2><h4 id="使用英文输入法"><a href="#使用英文输入法" class="headerlink" title="使用英文输入法"></a>使用英文输入法</h4><p><strong>代码所有的字符都用</strong>英文输入法，特别是标点符号<strong>。</strong></p><p><strong>注意：</strong>字符串内容可使用中文<strong>。</strong></p><p><strong>代码编程</strong>一定要用 <strong>英文输入法，包括标点</strong>，否则就会出错。</p><p><strong>代码编程</strong>一定要用 <strong>英文输入法，包括标点</strong>，否则就会出错。</p><p><strong>代码编程</strong>一定要用 <strong>英文输入法，包括标点</strong>，否则就会出错。</p><h4 id="Python缩进错误"><a href="#Python缩进错误" class="headerlink" title="Python缩进错误"></a>Python缩进错误</h4><p><strong>如果发现<code>IndentationError: unexpected indent</code>这个问题，检查代码缩进。</strong></p><ul><li>Python对<strong>缩进敏感</strong>，它通过缩进来判断语句块。</li><li><strong>不允许同一级别的代码存在不同级别的缩进</strong>。</li></ul><h4 id="程序正确但Jupyter运行不出结果"><a href="#程序正确但Jupyter运行不出结果" class="headerlink" title="程序正确但Jupyter运行不出结果"></a>程序正确但<code>Jupyter</code>运行不出结果</h4><p>显示<code>In[*]</code>，如下图。</p><p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172710.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172710.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="img"></p><p>主要原因是Python程序后台运行繁忙(卡了)，来不及输出程序的结果，可能本身程序没问题。</p><p>请重新启动jupyter的kernel。</p><ul><li><strong>Jupyter Lab中，Kernel菜单–&gt;Restart</strong>。</li><li><strong>VSCode中，关闭程序，重新开启</strong>。</li></ul><p>重启Kernel后，<strong>所有的变量将被清空</strong>。</p><h2 id="Hello-World程序"><a href="#Hello-World程序" class="headerlink" title="Hello World程序"></a>Hello World程序</h2><h3 id="py"><a href="#py" class="headerlink" title=".py"></a>.py</h3><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;Hello World&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World</span><br></pre></td></tr></table></figure><p>运行结果截图：</p><p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172735.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172735.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210315010711703"></p><h3 id="ipynb"><a href="#ipynb" class="headerlink" title=".ipynb"></a>.ipynb</h3><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;Hello World&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World</span><br></pre></td></tr></table></figure><p>运行结果截图：</p><p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172745.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172745.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="image-20210315010645657"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag@master/python/20210317172607.png&quot; alt=&quot;image-20210315004622525&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Python" scheme="http://waxll.top/categories/Python/"/>
    
    
    <category term="PythonLearn" scheme="http://waxll.top/tags/PythonLearn/"/>
    
  </entry>
  
  <entry>
    <title>一个带两个LED,两个独立式按键的系统</title>
    <link href="http://waxll.top/2020/07/25/a2.html"/>
    <id>http://waxll.top/2020/07/25/a2.html</id>
    <published>2020-07-25T04:33:17.000Z</published>
    <updated>2021-03-17T12:09:01.084Z</updated>
    
    <content type="html"><![CDATA[<p> 一个基于STC89C51设计的带两个LED，两个独立按键的系统。</p><span id="more"></span><h2 id="设计要求"><a href="#设计要求" class="headerlink" title="设计要求"></a>设计要求</h2><p>按键K0为LED0的开关，按键K1为系统自锁状态切换按键；LED0为系统控制对象，LED1为自锁状态指示。系统处于非自锁状态时，按下K0，则LED0亮，松手即灭。当系统处于自锁状态时，每按下一次K0，LED0的亮灭状态发生一次改变。</p><h2 id="按键去抖动"><a href="#按键去抖动" class="headerlink" title="按键去抖动"></a>按键去抖动</h2><details yellow><summary> 按键消去抖动原理 </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag/%E6%8C%89%E9%94%AE%E6%B6%88%E5%8E%BB%E6%8A%96%E5%8A%A8%E5%8E%9F%E7%90%86.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag/%E6%8C%89%E9%94%AE%E6%B6%88%E5%8E%BB%E6%8A%96%E5%8A%A8%E5%8E%9F%E7%90%86.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>              </div>            </details><p>按键去抖动主要有硬件去抖与软件去抖，这里采用低采样率去抖的方式。实际操作是使用定时中断的方式实现，设定定时时长在20ms-200ms即可。实现代码如下：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">KEY0</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">KEY1</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">LED0</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">LED1</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0000</span>H</span><br><span class="line"><span class="symbol">AJMP</span> MAIN</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">000</span>BH</span><br><span class="line"><span class="symbol">AJMP</span> TIMERO</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0030</span>H</span><br><span class="line"><span class="symbol">MAIN:</span></span><br><span class="line">CLR <span class="built_in">F0</span>         <span class="comment">;自锁标志位</span></span><br><span class="line">    SETB LED0</span><br><span class="line">    SETB LED1</span><br><span class="line"><span class="keyword">MOV</span> TMOD,<span class="number">#01</span>H  <span class="comment">;设置50ms定时</span></span><br><span class="line"><span class="keyword">MOV</span> TH0,<span class="number">#03</span>CH</span><br><span class="line"><span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line"><span class="keyword">MOV</span> IE,<span class="number">#82</span>H</span><br><span class="line">SETB TR0</span><br><span class="line">SJMP $</span><br><span class="line"><span class="symbol">TIMERO:</span></span><br><span class="line"><span class="keyword">MOV</span> TH0,<span class="number">#03</span>CH  <span class="comment">;中断复位</span></span><br><span class="line"><span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">ACALL KEYPRESS </span><br><span class="line">RETI</span><br><span class="line"><span class="symbol">KEYPRESS:</span>        <span class="comment">;按键子程序</span></span><br><span class="line">   .</span><br><span class="line">   .</span><br><span class="line">   .</span><br><span class="line"> RET</span><br></pre></td></tr></table></figure><h2 id="按键延迟处理"><a href="#按键延迟处理" class="headerlink" title="按键延迟处理"></a>按键延迟处理</h2><p>为防止一次按键按下时被多次读键，因而要加入按键延时。由于在该设计方案中涉及到长按的操作为防止闪烁，因此要在按键按下时加入死循环。实现代码如下：</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">KEYPRESS:</span></span><br><span class="line">    JNB KEY0,K0</span><br><span class="line">JNB KEY1,K1</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K0:</span> </span><br><span class="line">JNB <span class="built_in">F0</span>,T001</span><br><span class="line">CPL LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">T001:</span></span><br><span class="line">CLR LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">SETB LED0</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K1:</span> </span><br><span class="line">CPL <span class="built_in">F0</span></span><br><span class="line">CPL LED1</span><br><span class="line">JNB KEY1,$   <span class="comment">;加入死循环</span></span><br><span class="line"><span class="symbol">OUT:</span>RET</span><br></pre></td></tr></table></figure><h2 id="最终完成代码"><a href="#最终完成代码" class="headerlink" title="最终完成代码"></a>最终完成代码</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">KEY0</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">KEY1</span> <span class="meta">EQU</span> <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">LED0</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">0</span></span><br><span class="line"><span class="symbol">LED1</span> <span class="meta">EQU</span> <span class="built_in">P2</span>.<span class="number">1</span></span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0000</span>H</span><br><span class="line"><span class="symbol">AJMP</span> MAIN</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">000</span>BH</span><br><span class="line"><span class="symbol">AJMP</span> TIMERO</span><br><span class="line"><span class="symbol">ORG</span> <span class="number">0030</span>H</span><br><span class="line"><span class="symbol">MAIN:</span></span><br><span class="line">CLR <span class="built_in">F0</span>         <span class="comment">;自锁标志位</span></span><br><span class="line">    SETB LED0</span><br><span class="line">    SETB LED1</span><br><span class="line"><span class="keyword">MOV</span> TMOD,<span class="number">#01</span>H  <span class="comment">;设置50ms定时</span></span><br><span class="line"><span class="keyword">MOV</span> TH0,<span class="number">#03</span>CH</span><br><span class="line"><span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line"><span class="keyword">MOV</span> IE,<span class="number">#82</span>H</span><br><span class="line">SETB TR0</span><br><span class="line">SJMP $</span><br><span class="line"><span class="symbol">TIMERO:</span></span><br><span class="line"><span class="keyword">MOV</span> TH0,<span class="number">#03</span>CH  <span class="comment">;中断复位</span></span><br><span class="line"><span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">ACALL KEYPRESS </span><br><span class="line">RETI</span><br><span class="line"><span class="symbol">KEYPRESS:</span>        <span class="comment">;按键子程序</span></span><br><span class="line">    JNB KEY0,K0</span><br><span class="line">JNB KEY1,K1</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K0:</span> </span><br><span class="line">JNB <span class="built_in">F0</span>,T001</span><br><span class="line">CPL LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">T001:</span></span><br><span class="line">CLR LED0</span><br><span class="line">JNB KEY0,$   <span class="comment">;加入死循环</span></span><br><span class="line">SETB LED0</span><br><span class="line">AJMP OUT</span><br><span class="line"><span class="symbol">K1:</span> </span><br><span class="line">CPL <span class="built_in">F0</span></span><br><span class="line">CPL LED1</span><br><span class="line">JNB KEY1,$   <span class="comment">;加入死循环</span></span><br><span class="line"><span class="symbol">OUT:</span>RET</span><br></pre></td></tr></table></figure><br/><span class='btn regular'><a class="button" href='https://gogocool.tk/index.html?_sw-precache=f6c54f63a251360297eae7e833efe157' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
    
    
    <summary type="html">&lt;p&gt; 一个基于STC89C51设计的带两个LED，两个独立按键的系统。&lt;/p&gt;</summary>
    
    
    
    <category term="单片机" scheme="http://waxll.top/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
    <category term="C51汇编" scheme="http://waxll.top/tags/C51%E6%B1%87%E7%BC%96/"/>
    
  </entry>
  
  <entry>
    <title>发现一个不错的鼠标点击特效</title>
    <link href="http://waxll.top/2020/07/25/a1.html"/>
    <id>http://waxll.top/2020/07/25/a1.html</id>
    <published>2020-07-24T21:36:49.000Z</published>
    <updated>2021-03-24T19:00:10.400Z</updated>
    
    <content type="html"><![CDATA[<details yellow><summary> 点击查看效果 </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/waxll/Imag/%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%89%B9%E6%95%88%E6%95%88%E6%9E%9C%E5%9B%BE.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/waxll/Imag/%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%89%B9%E6%95%88%E6%95%88%E6%9E%9C%E5%9B%BE.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII="></p>              </div>            </details><span id="more"></span><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>在<span class='p blue'>volantis/layout/layout.ejs</span> 的<span class='p blue'>body</span>下方填入以下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;clickCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot; position:fixed;left:0;top:0;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot; sketch&quot;</span> <span class="attr">height</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/waxll/blog-js/dj.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>我使用的主题是<a href="https://volantis.js.org/">Votlantis</a>其他主题方法位置可能有所不同。</li></ul><br><span class='btn regular'><a class="button" href='/' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
    
    
    <summary type="html">&lt;details yellow&gt;&lt;summary&gt; 点击查看效果 &lt;/summary&gt;
              &lt;div class=&#39;content&#39;&gt;
              &lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/waxll/Imag/%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%89%B9%E6%95%88%E6%95%88%E6%9E%9C%E5%9B%BE.png&quot;&gt;&lt;/p&gt;
              &lt;/div&gt;
            &lt;/details&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="http://waxll.top/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Hexo" scheme="http://waxll.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客搭建教程</title>
    <link href="http://waxll.top/2020/05/04/blogjcjc.html"/>
    <id>http://waxll.top/2020/05/04/blogjcjc.html</id>
    <published>2020-05-03T16:00:00.000Z</published>
    <updated>2020-07-26T18:37:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;自从上次成功搭建博客之后我就一直想写篇教程，但是由于没有时间（主要是懒）也就一直没有写。直到这次五一放假，终于有了空闲的时间。我自己觉得我这样的小白写的教程应该比较全面，毕竟把什么坑都踩了一遍。接下来开始我们的博客搭建。</p><span id="more"></span><p>搭建平台：Windos10 v1909 x64</p><p>博客框架：Hexo</p><h2 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a><strong>安装环境</strong></h2><h2 id="下载Node-js"><a href="#下载Node-js" class="headerlink" title="下载Node.js"></a><strong>下载Node.js</strong></h2><p><a href="https://nodejs.org/zh-cn/">前往官网下载Node.js</a></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9MezR.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9MezR.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="下载界面"></p><br><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a><strong>安装Node.js</strong></h2><p><img src="https://s1.ax1x.com/2020/05/04/Y9MKL6.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9MKL6.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="安装界面"></p><ul><li>点击<strong>Next</strong>即可</li></ul><br><h2 id="下载Git"><a href="#下载Git" class="headerlink" title="下载Git"></a><strong>下载Git</strong></h2><p><a href="https://git-scm.com/">前往官网下载Git</a><br><img src="https://s1.ax1x.com/2020/05/04/Y9MrFg.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9MrFg.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="下载界面"></p><br><h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a><strong>安装Git</strong></h2><p><img src="https://s1.ax1x.com/2020/05/04/Y9MnQ1.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9MnQ1.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="安装界面"></p><ul><li>点击<strong>Next</strong>即可</li></ul><br><h2 id="部署环境"><a href="#部署环境" class="headerlink" title="部署环境"></a><strong>部署环境</strong></h2><h2 id="注册Github并创建仓库"><a href="#注册Github并创建仓库" class="headerlink" title="注册Github并创建仓库"></a><strong>注册Github并创建仓库</strong></h2><p>注册成功Github账号后需要创建一个仓库</p><p><img src="https://s1.ax1x.com/2020/05/04/Y9MNQI.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9MNQI.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="创建仓库"><br><img src="https://s1.ax1x.com/2020/05/04/Y9MtSA.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9MtSA.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="创建仓库"><br><strong>在Repository name 中输入”用户名.github.io”</strong></p><p><strong>注意用户名与注册用户名相同否则博客无法正常打开</strong></p><br><h2 id="配置SSH密钥"><a href="#配置SSH密钥" class="headerlink" title="配置SSH密钥"></a><strong>配置SSH密钥</strong></h2><ul><li><p>win+R 输入 “cmd”打开CMD        </p></li><li><p>设置 “user name”和 “email”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;Github用户名&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;GitHub注册邮箱&quot;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>生成SSH密钥</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;GitHub注册邮箱&quot;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>这里回车就行</strong>然后会在C盘用户目录下会生成一个***.ssh<em><strong>文件夹,里面有私钥</strong></em>id_rsa<em><strong>和公钥</strong></em>id_rsa_pub***。</p></li><li><p><strong>在Github上添加SSH密钥。具体步骤如下：</strong></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9R8rn.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9R8rn.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="SSH密钥"></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9R3Ks.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9R3Ks.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客搭建"></p></li><li><p><strong>验证SSH密钥在CMD中输入:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/YPFVkn.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/YPFVkn.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客搭建"></p></li></ul><br><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a><strong>安装Hexo</strong></h2><ul><li><p>在D盘创建以后个Blog文件，切换到Blog目录下。</p></li><li><p>使用<strong>淘宝</strong>的npm源安装hexo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">cnpm install hexo-cli -g</span><br><span class="line">cnpm install hexo --save</span><br></pre></td></tr></table></figure></li><li><p><strong>初始化Hexo</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/Y94JlF.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y94JlF.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客搭建"></p><br><p><strong>此处若出现以下情形这需要将Blog文件夹下的文件清空再重试</strong></p><p><img src="https://s1.ax1x.com/2020/05/04/Y9M1oD.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9M1oD.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客搭建"></p></li><li><p><strong>安装相关插件</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-generator-index --save</span><br><span class="line">cnpm install hexo-generator-archive --save</span><br><span class="line">cnpm install hexo-generator-category --save</span><br><span class="line">cnpm install hexo-generator-tag --save</span><br><span class="line">cnpm install hexo-server --save</span><br><span class="line">cnpm install hexo-deployer-git --save</span><br><span class="line">cnpm install hexo-deployer-heroku --save</span><br><span class="line">cnpm install hexo-deployer-rsync --save</span><br><span class="line">cnpm install hexo-deployer-openshift --save</span><br><span class="line">cnpm install hexo-renderer-marked@0.2 --save</span><br><span class="line">cnpm install hexo-renderer-stylus@0.2 --save</span><br><span class="line">cnpm install hexo-generator-feed@1 --save</span><br><span class="line">cnpm install hexo-generator-sitemap@1 --save</span><br></pre></td></tr></table></figure></li><li><p><strong>启动Hexo</strong></p><p><img src="https://s1.ax1x.com/2020/05/04/Y94GSU.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y94GSU.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客搭建"></p><p>在浏览器打开<strong><a href="https://localhost:4000/">https://localhost:4000</a></strong>即可看到刚刚搭建的博客</p><p><img src="https://s1.ax1x.com/2020/05/04/Y9M8Fe.png" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9M8Fe.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客页面"></p></li></ul><br><h2 id="部署博客到Github"><a href="#部署博客到Github" class="headerlink" title="部署博客到Github"></a>部署博客到Github</h2><ul><li><p>配置**_config.yml<strong>在Blog目录下找到*</strong>_config.yml***文件,用文本编辑器(推荐Typora)打开编辑以下项目:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:用户名/用户名.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></li><li><p><strong>新建一篇帖子</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;first post&quot;</span></span><br></pre></td></tr></table></figure><p>便会在<strong>D:\Blog\source\ _posts</strong>目录下生成<strong>first post.md</strong>的文件，可以用markdown编辑器编辑帖子。</p></li><li><p><strong>设置身份信息</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;GitHub用户名&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;GitHub注册邮箱&quot;</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p><strong>部署Github</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure></li><li><p>在浏览器打开:<strong>用户名.github.io</strong>即可看到刚刚编辑的博客。</p><br></li><li><p><strong>到这里Hexo博客的基础搭建已经完成，更换主题的教程会下次更新。</strong></p></li></ul><br/><span class='btn regular'><a class="button" href='https://gogocool.tk/index.html?_sw-precache=f6c54f63a251360297eae7e833efe157' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
    
    
    <summary type="html">&lt;p&gt;&amp;emsp;&amp;emsp;自从上次成功搭建博客之后我就一直想写篇教程，但是由于没有时间（主要是懒）也就一直没有写。直到这次五一放假，终于有了空闲的时间。我自己觉得我这样的小白写的教程应该比较全面，毕竟把什么坑都踩了一遍。接下来开始我们的博客搭建。&lt;/p&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="http://waxll.top/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Hexo" scheme="http://waxll.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>鬼火少年</title>
    <link href="http://waxll.top/2020/05/04/ghsn.html"/>
    <id>http://waxll.top/2020/05/04/ghsn.html</id>
    <published>2020-05-03T16:00:00.000Z</published>
    <updated>2020-07-26T18:37:01.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://s1.ax1x.com/2020/05/04/Y9jx4e.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9jx4e.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="单片机"></p><span id="more"></span><p> <strong>刚开始学单片机，是个单片机小白，如果有哪里不对的请大家多多指教谢谢！</strong></p><h2 id="爆闪灯："><a href="#爆闪灯：" class="headerlink" title="爆闪灯："></a><strong>爆闪灯：</strong></h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">ORG</span> <span class="number">0000</span>H</span><br><span class="line">  AJMP MAIN</span><br><span class="line">  ORG <span class="number">000</span>BH</span><br><span class="line">  AJMP TIMER0</span><br><span class="line"><span class="symbol">MAIN:</span></span><br><span class="line">  CLR <span class="built_in">F0</span>   <span class="comment">//设置状态标志</span></span><br><span class="line">  <span class="keyword">MOV</span> <span class="number">30</span>H,<span class="number">#5</span>H  <span class="comment">//每个状态次</span></span><br><span class="line">  <span class="keyword">MOV</span> TH0,<span class="number">#3</span>CH   <span class="comment">//初始化中断定时器设置50ms</span></span><br><span class="line">  <span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">  <span class="keyword">MOV</span> IE,<span class="number">#82</span>H</span><br><span class="line">  SETB TR0</span><br><span class="line">  SJMP $</span><br><span class="line"><span class="symbol">  TIMER0:</span></span><br><span class="line">  <span class="keyword">MOV</span> TH0,<span class="number">#3</span>CH</span><br><span class="line">  <span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">  DJNZ <span class="number">30</span>H,T001   <span class="comment">//判断循环次数</span></span><br><span class="line">  CPL <span class="built_in">F0</span>        </span><br><span class="line">  <span class="keyword">MOV</span> <span class="number">30</span>H,<span class="number">#5</span>H</span><br><span class="line"><span class="symbol">T001:</span></span><br><span class="line">  JB <span class="built_in">F0</span>,T002  <span class="comment">//判断状态</span></span><br><span class="line">  CPL <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line">  CLR <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line">  CPL <span class="built_in">P1</span>.<span class="number">2</span></span><br><span class="line">  CLR <span class="built_in">P1</span>.<span class="number">3</span></span><br><span class="line">  SJMP T0_EX</span><br><span class="line"><span class="symbol">T002:</span> CLR <span class="built_in">P1</span>.<span class="number">0</span></span><br><span class="line">      CPL <span class="built_in">P1</span>.<span class="number">1</span></span><br><span class="line">          CLR <span class="built_in">P1</span>.<span class="number">2</span></span><br><span class="line">          CPL <span class="built_in">P1</span>.<span class="number">3</span></span><br><span class="line"><span class="symbol">T0_EX:</span> RETI</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/YC8g7q.gif" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/YC8g7q.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt=" 爆闪灯"></p><br><h2 id="流水灯"><a href="#流水灯" class="headerlink" title="流水灯"></a><strong>流水灯</strong></h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">        ORG <span class="number">000</span>H</span><br><span class="line">    <span class="keyword">MOV</span> <span class="built_in">R0</span>,<span class="number">#0</span>AH   </span><br><span class="line">    <span class="keyword">MOV</span> A,<span class="number">#0</span>FEH </span><br><span class="line">    <span class="keyword">MOV</span> <span class="built_in">P1</span>,A</span><br><span class="line">    AJMP MAIN</span><br><span class="line">    ORG <span class="number">000</span>BH</span><br><span class="line">    AJMP TIMERO</span><br><span class="line"><span class="symbol">MAIN:</span> </span><br><span class="line">    <span class="keyword">MOV</span> TMOD,<span class="number">#10</span>H</span><br><span class="line">    <span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">    <span class="keyword">MOV</span> TH0,<span class="number">#3</span>CH</span><br><span class="line"><span class="keyword">MOV</span> <span class="built_in">R0</span>,<span class="number">#0</span>AH   </span><br><span class="line">    <span class="keyword">MOV</span> IE,<span class="number">#82</span>H</span><br><span class="line">    SETB TR0</span><br><span class="line">    SJMP $</span><br><span class="line"><span class="symbol">TIMERO:</span> </span><br><span class="line">    <span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">    <span class="keyword">MOV</span> TH0,<span class="number">#3</span>CH</span><br><span class="line">    DJNZ <span class="built_in">R0</span>,T0_EX</span><br><span class="line">    RL A</span><br><span class="line">    <span class="keyword">MOV</span> <span class="built_in">P1</span>,A</span><br><span class="line">    <span class="keyword">MOV</span> <span class="built_in">R0</span>,<span class="number">#0</span>AH</span><br><span class="line"><span class="symbol"> T0_EX:</span>RETI </span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2020/05/04/YCgPN8.gif" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/YCgPN8.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="流水灯"></p><br><h2 id="最后放一个老师写的流水灯（我稍微改了下参数）"><a href="#最后放一个老师写的流水灯（我稍微改了下参数）" class="headerlink" title="最后放一个老师写的流水灯（我稍微改了下参数）"></a><strong>最后放一个老师写的流水灯（我稍微改了下参数）</strong></h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">ORG</span> <span class="number">0000</span>H</span><br><span class="line">  AJMP MAIN</span><br><span class="line">  ORG <span class="number">000</span>BH</span><br><span class="line">  AJMP TIMER0</span><br><span class="line"><span class="symbol">MAIN:</span></span><br><span class="line">  <span class="keyword">MOV</span> <span class="built_in">P1</span>,<span class="number">#0</span>FEH</span><br><span class="line">  CLR <span class="built_in">F0</span>  </span><br><span class="line">  <span class="keyword">MOV</span> <span class="number">30</span>H,<span class="number">#10</span>H  <span class="comment">//这里的原值是10H</span></span><br><span class="line">  <span class="keyword">MOV</span> <span class="number">31</span>H,<span class="number">#0</span>FDH  <span class="comment">//这里的原值是0FEH</span></span><br><span class="line">  <span class="keyword">MOV</span> <span class="number">32</span>H,<span class="number">#10</span>H </span><br><span class="line">  <span class="keyword">MOV</span> TMOD,<span class="number">#01</span>H</span><br><span class="line">  <span class="keyword">MOV</span> TH0,<span class="number">#3</span>CH</span><br><span class="line">  <span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">  <span class="keyword">MOV</span> IE,<span class="number">#82</span>H</span><br><span class="line">  SETB TR0</span><br><span class="line">  SJMP $</span><br><span class="line"><span class="symbol">TIMER0:</span></span><br><span class="line">  <span class="keyword">MOV</span> TH0,<span class="number">#3</span>CH</span><br><span class="line">  <span class="keyword">MOV</span> TL0,<span class="number">#0B0</span>H</span><br><span class="line">  DJNZ <span class="number">32</span>H,T0_EX</span><br><span class="line">  <span class="keyword">MOV</span> <span class="number">32</span>H,<span class="number">#10</span>H</span><br><span class="line">  DJNZ <span class="number">30</span>H,T001</span><br><span class="line">  CPL <span class="built_in">F0</span></span><br><span class="line">  <span class="keyword">MOV</span> <span class="number">30</span>H,<span class="number">#15</span>  <span class="comment">//这里的原值是10H</span></span><br><span class="line"><span class="symbol">T001:</span> <span class="keyword">MOV</span> A,<span class="number">31</span>H</span><br><span class="line">  JB <span class="built_in">F0</span>,T002</span><br><span class="line">  RL A</span><br><span class="line">  SJMP T003</span><br><span class="line"><span class="symbol">T002:</span> RR A</span><br><span class="line"><span class="symbol">T003:</span> <span class="keyword">MOV</span> <span class="number">31</span>H,A  </span><br><span class="line">  <span class="keyword">MOV</span> <span class="built_in">P1</span>,A  </span><br><span class="line"><span class="symbol">T0_EX:</span> RETI</span><br></pre></td></tr></table></figure><ul><li><strong>这两个参数改动后便可流畅亮灯。</strong></li></ul><p><img src="https://s1.ax1x.com/2020/05/04/YCgPN8.gif" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/YCgPN8.gif" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="流水灯"></p><br/><span class='btn regular'><a class="button" href='https://gogocool.tk/index.html?_sw-precache=f6c54f63a251360297eae7e833efe157' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://s1.ax1x.com/2020/05/04/Y9jx4e.jpg&quot; alt=&quot;单片机&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="单片机" scheme="http://waxll.top/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
    <category term="AT89C51" scheme="http://waxll.top/tags/AT89C51/"/>
    
  </entry>
  
  <entry>
    <title>我的第一篇博客</title>
    <link href="http://waxll.top/2020/04/14/firstblog.html"/>
    <id>http://waxll.top/2020/04/14/firstblog.html</id>
    <published>2020-04-13T16:00:00.000Z</published>
    <updated>2020-07-26T18:37:01.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-为什么想搭建博客"><a href="#1-为什么想搭建博客" class="headerlink" title="1.为什么想搭建博客"></a><strong>1.为什么想搭建博客</strong></h2><p>&emsp;&emsp;最初是在油管上学习如何建立V2ray服务器，找到了一个用博客伪装V2ray服务器的教程视频。在认真学习了视频的内容后，我便兴匆匆的去租了一个美国VPS的服务器。在经过一系列的操作后，V2ray服务器成功搭建。然而这个服务器根本不能用，太慢了，延迟上天，果然便宜没好货，跟隔着太平洋买了个垃圾差不多（穷是原罪T_T)。于是我对V2ray服务器的兴趣被磨得一干二净，却对博客起了兴趣。</p><span id="more"></span><h2 id="2-第一次"><a href="#2-第一次" class="headerlink" title="2.第一次"></a><strong>2.第一次</strong></h2><p>&emsp;&emsp;于有之前购买垃圾服务器的经历，我便不打算购买服务  器搭建博客，而是使用了GitHub。我先是在油管上找了很多有关搭建博客的视频，在对这些视频认真学习之后。我开始了博客搭建。鉴于教程视频中是在Mc环境下进行搭建的，于是我打算在电脑上安装Linux虚拟机，并使用Hugo来搭建。在下载安装了Git和Hugo之后终于#hugo server，在本地成功建立博客。似乎快要成功了，然 而在部署到GitHub的时候出现了问题。不知道是什么原因虚拟机下的Deepin无法连接到GitHub，在上网查询很久依然无法解决，毕竟像我这样在虚拟机里搭建博客的是少数。这第一次搭建博客算是失败了。</p><h2 id="3-第二次"><a href="#3-第二次" class="headerlink" title="3.第二次"></a><strong>3.第二次</strong></h2><p>&emsp;&emsp;这次我推翻了上次用虚拟机搭建的方式，因为有人给我推荐了阿里云的试用服务器。这次我打算直接将博客搭建在阿里云服务器里。我先是在<a href="https://my.freenom.com/">Freenom</a>申请了一个免费域名。然后注册了阿里云的账号并完成实名认证获得了一台服务器。然后我安装了Finalshell成功连接上服务器，并在服务器里安装了宝塔面板。域名解析好后，将域名与网站绑定。但当我打开那个网址时显示网址需要备案。于是我便去备案，结果有我申请的是.tk(不要钱)的域名,不支持备案我晕(((φ(◎ロ◎;)φ)))，所以贫穷是原罪。自然这次也失败了。</p><h2 id="4-第三次"><a href="#4-第三次" class="headerlink" title="4.第三次"></a><strong>4.第三次</strong></h2><p>&emsp;&emsp;在吸取前两次失败的教训，我决定推倒重来。将Linux换成Windos，把Hugo换成Hexo，继续使用Github。这次有了前两次的经验，在看了晚上的教程后还是比较顺利的。然而在生成SSH密钥时出现了问题，密钥无法生成。于是我又上油管上搜索如何在Git上生成SSH密钥的视频，这次我按照视频中的方法成功生成了密钥，并成功连接上了Github。然而在部署到GitHub上时，遇到了问题，一直显示_config文件中deployer的设置不正确。于是我上网查找了很多关于这个问题的解决方法，试了不知多少次依然无法部署。于是我决定，重新生成一个博客，原模原样试了一遍，依然不行。功夫不负有心人，就在我在GitHub的仓库里乱翻的时候，发现了在仓库里也需要上传SSH公钥。于是我抱着试一试的心态往里面上传了SSH公钥，并重新部署了一次，居然成功了。我太激动了，声音都颤抖了q(≧▽≦q)！！！<br>第三次搭建博客成功ψ(｀∇´)ψ！！！<br>&emsp;&emsp;之后我写下了这篇博客，用来纪念这次搭建博客的经历。</p><br><p><img src="https://s1.ax1x.com/2020/05/04/Y9cSUS.jpg" class="lazyload" data-srcset="https://s1.ax1x.com/2020/05/04/Y9cSUS.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客搭建"></p><br><h2 id="5-小结"><a href="#5-小结" class="headerlink" title="5.小结"></a><strong>5.小结</strong></h2><p>&emsp;&emsp;这第一篇博客耗时四天，踩了无数的坑，当然也收获了很多,感觉自己能有一个能与别人分享自己想法的博客特别的开心O(∩_∩)O。虽然有点累,但是生命在于折腾!第一次写博客，内容比较简陋，望谅解。当然以后会进步的q(≧▽≦q)！</p><br><p>   以下是这次搭建博客所用到的教程资料和视频：<br>   <a href="https://www.jianshu.com/p/f3e1662ca34f">Hexo&amp;Github Blog 搭建</a><br>   <a href="https://blog.csdn.net/weixin_43571920/article/details/104413636">FATAL E:\blog not empty, please run <code>hexo init</code> on an empty folder and then copy your files into it解决方法</a><br>   <a href="https://www.jianshu.com/p/ef3f221a0374">Win10+Hexo+GitHub搭建个人博客详解</a><br>   <a href="https://www.jianshu.com/p/390f202c5b0e">5分钟搞定个人博客-hexo</a><br>   <a href="https://blog.csdn.net/renlzrz/article/details/83545521">md 文件的编辑</a><br>   <a href="https://www.youtube.com/watch?v=yVgyAHBIyOQ">如何用SSH密钥连接到Git仓库和远程服务器</a><br>   <a href="https://www.youtube.com/watch?v=J7XQ2FeTHLg&t=1163s">手把手教你从0开始搭建自己的个人博客 |第二种姿势 | hugo</a><br><a href="https://www.youtube.com/watch?v=erKYtw4Rfhk&t=788s">手把手教你从0开始搭建自己的个人博客 |无坑版视频教程| hexo</a><br><a href="https://www.youtube.com/watch?v=tk22q_jtYPg&t=407s">波仔分享</a><br>… …</p><p>十分感谢他们的分享！   </p><br/> <span class='btn regular'><a class="button" href='https://gogocool.tk/index.html?_sw-precache=f6c54f63a251360297eae7e833efe157' title='返回'><i class='fa fa-reply-all'></i>返回</a></span>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1-为什么想搭建博客&quot;&gt;&lt;a href=&quot;#1-为什么想搭建博客&quot; class=&quot;headerlink&quot; title=&quot;1.为什么想搭建博客&quot;&gt;&lt;/a&gt;&lt;strong&gt;1.为什么想搭建博客&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&amp;emsp;&amp;emsp;最初是在油管上学习如何建立V2ray服务器，找到了一个用博客伪装V2ray服务器的教程视频。在认真学习了视频的内容后，我便兴匆匆的去租了一个美国VPS的服务器。在经过一系列的操作后，V2ray服务器成功搭建。然而这个服务器根本不能用，太慢了，延迟上天，果然便宜没好货，跟隔着太平洋买了个垃圾差不多（穷是原罪T_T)。于是我对V2ray服务器的兴趣被磨得一干二净，却对博客起了兴趣。&lt;/p&gt;</summary>
    
    
    
    <category term="博客搭建" scheme="http://waxll.top/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Hexo" scheme="http://waxll.top/tags/Hexo/"/>
    
  </entry>
  
</feed>
